(self.webpackChunkuwb_client_app=self.webpackChunkuwb_client_app||[]).push([[879],{8892:(ht,X,o)=>{"use strict";o.d(X,{s:()=>m});var M=o(5032),I=o(7398),A=o(9291),x=o(9862);let m=(()=>{class R{constructor(u){this.http=u,this.resourceUrl=M.T+"background"}findAll(){return this.http.get(this.resourceUrl)}findAllByUserOrganizationUnit(u){return this.http.get(`${this.resourceUrl}/user-organization-unit/${u}`,{observe:"response"})}findById(u){return this.http.get(`${this.resourceUrl}/${u}`,{observe:"response"})}create(u){return this.http.post(this.resourceUrl,u,{observe:"response"})}uploadFile(u){const a=new FormData;return a.append("file",u),this.http.post(`${this.resourceUrl}/upload-file`,a,{observe:"response",responseType:"text"}).pipe((0,I.U)(e=>e.body))}update(u){return this.http.put(this.resourceUrl,u,{observe:"response"})}delete(u){return this.http.delete(`${this.resourceUrl}/${u}`,{observe:"response",responseType:"text"}).pipe((0,I.U)(a=>a.body))}}return R.\u0275fac=function(u){return new(u||R)(A.LFG(x.eN))},R.\u0275prov=A.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})()},1407:(ht,X,o)=>{"use strict";o.d(X,{A:()=>I});var M=o(9291);let I=(()=>{class A{constructor(){}convertImage(m){const R=this.stringArrayBufferToArrayBuffer(m);return this.arrayBufferToImage(R)}stringArrayBufferToArrayBuffer(m){const R=atob(m),f=new Uint8Array(R.length);for(let u=0;u<R.length;u++)f[u]=R.charCodeAt(u);return f.buffer}arrayBufferToImage(m){const R=new Blob([m],{type:"image/jpeg"});return URL.createObjectURL(R)}}return A.\u0275fac=function(m){return new(m||A)},A.\u0275prov=M.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},1414:function(ht){ht.exports=function(){"use strict";function X(r,d,T,g,l){!function p(h,P,N,O,Z){for(;O>N;){if(O-N>600){var L=O-N+1,K=P-N+1,D=Math.log(L),b=.5*Math.exp(2*D/3),z=.5*Math.sqrt(D*b*(L-b)/L)*(K-L/2<0?-1:1);p(h,P,Math.max(N,Math.floor(P-K*b/L+z)),Math.min(O,Math.floor(P+(L-K)*b/L+z)),Z)}var E=h[P],C=N,j=O;for(o(h,N,P),Z(h[O],E)>0&&o(h,N,O);C<j;){for(o(h,C,j),C++,j--;Z(h[C],E)<0;)C++;for(;Z(h[j],E)>0;)j--}0===Z(h[N],E)?o(h,N,j):o(h,++j,O),j<=P&&(N=j+1),P<=j&&(O=j-1)}}(r,d,T||0,g||r.length-1,l||M)}function o(r,d,T){var g=r[d];r[d]=r[T],r[T]=g}function M(r,d){return r<d?-1:r>d?1:0}var I=function(r){void 0===r&&(r=9),this._maxEntries=Math.max(4,r),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function A(r,d,T){if(!T)return d.indexOf(r);for(var g=0;g<d.length;g++)if(T(r,d[g]))return g;return-1}function x(r,d){m(r,0,r.children.length,d,r)}function m(r,d,T,g,l){l||(l=n(null)),l.minX=1/0,l.minY=1/0,l.maxX=-1/0,l.maxY=-1/0;for(var p=d;p<T;p++){var h=r.children[p];R(l,r.leaf?g(h):h)}return l}function R(r,d){return r.minX=Math.min(r.minX,d.minX),r.minY=Math.min(r.minY,d.minY),r.maxX=Math.max(r.maxX,d.maxX),r.maxY=Math.max(r.maxY,d.maxY),r}function f(r,d){return r.minX-d.minX}function u(r,d){return r.minY-d.minY}function a(r){return(r.maxX-r.minX)*(r.maxY-r.minY)}function e(r){return r.maxX-r.minX+(r.maxY-r.minY)}function i(r,d){return r.minX<=d.minX&&r.minY<=d.minY&&d.maxX<=r.maxX&&d.maxY<=r.maxY}function s(r,d){return d.minX<=r.maxX&&d.minY<=r.maxY&&d.maxX>=r.minX&&d.maxY>=r.minY}function n(r){return{children:r,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function c(r,d,T,g,l){for(var p=[d,T];p.length;)if(!((T=p.pop())-(d=p.pop())<=g)){var h=d+Math.ceil((T-d)/g/2)*g;X(r,h,d,T,l),p.push(d,h,h,T)}}return I.prototype.all=function(){return this._all(this.data,[])},I.prototype.search=function(r){var d=this.data,T=[];if(!s(r,d))return T;for(var g=this.toBBox,l=[];d;){for(var p=0;p<d.children.length;p++){var h=d.children[p],P=d.leaf?g(h):h;s(r,P)&&(d.leaf?T.push(h):i(r,P)?this._all(h,T):l.push(h))}d=l.pop()}return T},I.prototype.collides=function(r){var d=this.data;if(!s(r,d))return!1;for(var T=[];d;){for(var g=0;g<d.children.length;g++){var l=d.children[g],p=d.leaf?this.toBBox(l):l;if(s(r,p)){if(d.leaf||i(r,p))return!0;T.push(l)}}d=T.pop()}return!1},I.prototype.load=function(r){if(!r||!r.length)return this;if(r.length<this._minEntries){for(var d=0;d<r.length;d++)this.insert(r[d]);return this}var T=this._build(r.slice(),0,r.length-1,0);if(this.data.children.length)if(this.data.height===T.height)this._splitRoot(this.data,T);else{if(this.data.height<T.height){var g=this.data;this.data=T,T=g}this._insert(T,this.data.height-T.height-1,!0)}else this.data=T;return this},I.prototype.insert=function(r){return r&&this._insert(r,this.data.height-1),this},I.prototype.clear=function(){return this.data=n([]),this},I.prototype.remove=function(r,d){if(!r)return this;for(var T,g,l,p=this.data,h=this.toBBox(r),P=[],N=[];p||P.length;){if(p||(p=P.pop(),g=P[P.length-1],T=N.pop(),l=!0),p.leaf){var O=A(r,p.children,d);if(-1!==O)return p.children.splice(O,1),P.push(p),this._condense(P),this}l||p.leaf||!i(p,h)?g?(T++,p=g.children[T],l=!1):p=null:(P.push(p),N.push(T),T=0,g=p,p=p.children[0])}return this},I.prototype.toBBox=function(r){return r},I.prototype.compareMinX=function(r,d){return r.minX-d.minX},I.prototype.compareMinY=function(r,d){return r.minY-d.minY},I.prototype.toJSON=function(){return this.data},I.prototype.fromJSON=function(r){return this.data=r,this},I.prototype._all=function(r,d){for(var T=[];r;)r.leaf?d.push.apply(d,r.children):T.push.apply(T,r.children),r=T.pop();return d},I.prototype._build=function(r,d,T,g){var l,p=T-d+1,h=this._maxEntries;if(p<=h)return x(l=n(r.slice(d,T+1)),this.toBBox),l;g||(g=Math.ceil(Math.log(p)/Math.log(h)),h=Math.ceil(p/Math.pow(h,g-1))),(l=n([])).leaf=!1,l.height=g;var P=Math.ceil(p/h),N=P*Math.ceil(Math.sqrt(h));c(r,d,T,N,this.compareMinX);for(var O=d;O<=T;O+=N){var Z=Math.min(O+N-1,T);c(r,O,Z,P,this.compareMinY);for(var L=O;L<=Z;L+=P){var K=Math.min(L+P-1,Z);l.children.push(this._build(r,L,K,g-1))}}return x(l,this.toBBox),l},I.prototype._chooseSubtree=function(r,d,T,g){for(;g.push(d),!d.leaf&&g.length-1!==T;){for(var l=1/0,p=1/0,h=void 0,P=0;P<d.children.length;P++){var N=d.children[P],O=a(N),Z=(L=r,K=N,(Math.max(K.maxX,L.maxX)-Math.min(K.minX,L.minX))*(Math.max(K.maxY,L.maxY)-Math.min(K.minY,L.minY))-O);Z<p?(p=Z,l=O<l?O:l,h=N):Z===p&&O<l&&(l=O,h=N)}d=h||d.children[0]}var L,K;return d},I.prototype._insert=function(r,d,T){var g=T?r:this.toBBox(r),l=[],p=this._chooseSubtree(g,this.data,d,l);for(p.children.push(r),R(p,g);d>=0&&l[d].children.length>this._maxEntries;)this._split(l,d),d--;this._adjustParentBBoxes(g,l,d)},I.prototype._split=function(r,d){var T=r[d],g=T.children.length,l=this._minEntries;this._chooseSplitAxis(T,l,g);var p=this._chooseSplitIndex(T,l,g),h=n(T.children.splice(p,T.children.length-p));h.height=T.height,h.leaf=T.leaf,x(T,this.toBBox),x(h,this.toBBox),d?r[d-1].children.push(h):this._splitRoot(T,h)},I.prototype._splitRoot=function(r,d){this.data=n([r,d]),this.data.height=r.height+1,this.data.leaf=!1,x(this.data,this.toBBox)},I.prototype._chooseSplitIndex=function(r,d,T){for(var g,l,p,h,P,N,O,Z=1/0,L=1/0,K=d;K<=T-d;K++){var D=m(r,0,K,this.toBBox),b=m(r,K,T,this.toBBox),z=(l=D,p=b,void 0,void 0,void 0,void 0,h=Math.max(l.minX,p.minX),P=Math.max(l.minY,p.minY),N=Math.min(l.maxX,p.maxX),O=Math.min(l.maxY,p.maxY),Math.max(0,N-h)*Math.max(0,O-P)),S=a(D)+a(b);z<Z?(Z=z,g=K,L=S<L?S:L):z===Z&&S<L&&(L=S,g=K)}return g||T-d},I.prototype._chooseSplitAxis=function(r,d,T){var g=r.leaf?this.compareMinX:f,l=r.leaf?this.compareMinY:u;this._allDistMargin(r,d,T,g)<this._allDistMargin(r,d,T,l)&&r.children.sort(g)},I.prototype._allDistMargin=function(r,d,T,g){r.children.sort(g);for(var l=this.toBBox,p=m(r,0,d,l),h=m(r,T-d,T,l),P=e(p)+e(h),N=d;N<T-d;N++){var O=r.children[N];R(p,r.leaf?l(O):O),P+=e(p)}for(var Z=T-d-1;Z>=d;Z--){var L=r.children[Z];R(h,r.leaf?l(L):L),P+=e(h)}return P},I.prototype._adjustParentBBoxes=function(r,d,T){for(var g=T;g>=0;g--)R(d[g],r)},I.prototype._condense=function(r){for(var d=r.length-1,T=void 0;d>=0;d--)0===r[d].children.length?d>0?(T=r[d-1].children).splice(T.indexOf(r[d]),1):this.clear():x(r[d],this.toBBox)},I}()},2259:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>A});const M={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class I extends Error{constructor(m){const R=M[m];super(R),this.code=m,this.name="AssertionError",this.message=R}}const A=I},1165:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>u});var M=o(2259),I=o(1092),A=o(9529),x=o(9395);class R extends x.ZP{constructor(e,i,s){super(e),this.element=i,this.index=s}}const u=class f extends I.Z{constructor(e,i){if(super(),this.unique_=!!(i=i||{}).unique,this.array_=e||[],this.unique_)for(let s=0,n=this.array_.length;s<n;++s)this.assertUnique_(this.array_[s],s);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let i=0,s=e.length;i<s;++i)this.push(e[i]);return this}forEach(e){const i=this.array_;for(let s=0,n=i.length;s<n;++s)e(i[s],s,i)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get("length")}insertAt(e,i){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(i),this.array_.splice(e,0,i),this.updateLength_(),this.dispatchEvent(new R(A.Z.ADD,i,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const i=this.getLength();return this.insertAt(i,e),this.getLength()}remove(e){const i=this.array_;for(let s=0,n=i.length;s<n;++s)if(i[s]===e)return this.removeAt(s)}removeAt(e){if(e<0||e>=this.getLength())return;const i=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new R(A.Z.REMOVE,i,e)),i}setAt(e,i){if(e>=this.getLength())return void this.insertAt(e,i);if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(i,e);const n=this.array_[e];this.array_[e]=i,this.dispatchEvent(new R(A.Z.REMOVE,n,e)),this.dispatchEvent(new R(A.Z.ADD,i,e))}updateLength_(){this.set("length",this.array_.length)}assertUnique_(e,i){for(let s=0,n=this.array_.length;s<n;++s)if(this.array_[s]===e&&s!==i)throw new M.Z(58)}}},9529:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>M});const M={ADD:"add",REMOVE:"remove"}},9511:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>I});const I=class M{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}},902:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>f});var M=o(1092),I=o(8688),A=o(2780),x=o(7796);class m extends M.Z{constructor(a){super(),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),a&&("function"==typeof a.getSimplifiedGeometry?this.setGeometry(a):this.setProperties(a))}clone(){const a=new m(this.hasProperties()?this.getProperties():null);a.setGeometryName(this.getGeometryName());const e=this.getGeometry();e&&a.setGeometry(e.clone());const i=this.getStyle();return i&&a.setStyle(i),a}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&((0,x.bN)(this.geometryChangeKey_),this.geometryChangeKey_=null);const a=this.getGeometry();a&&(this.geometryChangeKey_=(0,x.oL)(a,I.Z.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(a){this.set(this.geometryName_,a)}setStyle(a){this.style_=a,this.styleFunction_=a?function R(u){if("function"==typeof u)return u;let a;return Array.isArray(u)?a=u:((0,A.h)("function"==typeof u.getZIndex,41),a=[u]),function(){return a}}(a):void 0,this.changed()}setId(a){this.id_=a,this.changed()}setGeometryName(a){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=a,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const f=m},5605:(ht,X,o)=>{"use strict";o.d(X,{K:()=>u,Z:()=>a});var M=o(8688),I=o(3683),A=o(1084),x=o(9365),m=o(4654),R=o(7796);function u(e,i,s){const n=e;let c=!0,r=!1,d=!1;const T=[(0,R.Vx)(n,M.Z.LOAD,function(){d=!0,r||i()})];return n.src&&x.Tp?(r=!0,n.decode().then(function(){c&&i()}).catch(function(g){c&&(d?i():s())})):T.push((0,R.Vx)(n,M.Z.ERROR,s)),function(){c=!1,T.forEach(R.bN)}}const a=class f extends I.Z{constructor(i,s,n,c,r,d,T){super(i,s,n,A.Z.IDLE),this.src_=c,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.context_=T,this.unlisten_=null,this.state=A.Z.IDLE,this.imageLoadFunction_=d}getImage(){if(this.state==A.Z.LOADED&&this.context_&&!(this.image_ instanceof HTMLCanvasElement)){const i=this.context_.canvas;i.width=this.image_.width,i.height=this.image_.height,this.context_.drawImage(this.image_,0,0),this.image_=this.context_.canvas}return this.image_}handleImageError_(){this.state=A.Z.ERROR,this.unlistenImage_(),this.changed()}handleImageLoad_(){void 0===this.resolution&&(this.resolution=(0,m.Cr)(this.extent)/this.image_.height),this.state=A.Z.LOADED,this.unlistenImage_(),this.changed()}load(){(this.state==A.Z.IDLE||this.state==A.Z.ERROR)&&(this.state=A.Z.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=u(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}setImage(i){this.image_=i,this.resolution=(0,m.Cr)(this.extent)/this.image_.height}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}},3683:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>m});var M=o(9078),I=o(8688),A=o(9070);const m=class x extends M.Z{constructor(f,u,a,e){super(),this.extent=f,this.pixelRatio_=a,this.resolution=u,this.state=e}changed(){this.dispatchEvent(I.Z.CHANGE)}getExtent(){return this.extent}getImage(){return(0,A.O3)()}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){(0,A.O3)()}}},1084:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>M});const M={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},4961:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>f});var M=o(6323),I=o(6614),A=o(7120),x=o(5605);const f=class m extends M.Z{constructor(a,e,i,s,n,c){super(a,e,c),this.crossOrigin_=s,this.src_=i,this.key=i,this.image_=new Image,null!==s&&(this.image_.crossOrigin=s),this.unlisten_=null,this.tileLoadFunction_=n}getImage(){return this.image_}setImage(a){this.image_=a,this.state=I.Z.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=I.Z.ERROR,this.unlistenImage_(),this.image_=function R(){const u=(0,A.E4)(1,1);return u.fillStyle="rgba(0,0,0,0)",u.fillRect(0,0,1,1),u.canvas}(),this.changed()}handleImageLoad_(){const a=this.image_;this.state=a.naturalWidth&&a.naturalHeight?I.Z.LOADED:I.Z.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==I.Z.ERROR&&(this.state=I.Z.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==I.Z.IDLE&&(this.state=I.Z.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,x.K)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}},6062:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>Ce});var M=o(1092),I=o(1165),A=o(9529),x=o(9511),m=o(589),R=o(9070),f=o(9664),u=o(4654),a=o(1075),e=o(7971),i=o(722);function n(st,t){a.c.expire()}const c=class s extends x.Z{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,v){(0,R.O3)()}calculateMatrices2D(t){const v=t.viewState,F=t.coordinateToPixelTransform,W=t.pixelToCoordinateTransform;(0,f.qC)(F,t.size[0]/2,t.size[1]/2,1/v.resolution,-1/v.resolution,-v.rotation,-v.center[0],-v.center[1]),(0,f.nb)(W,F)}forEachFeatureAtCoordinate(t,v,F,W,$,nt,dt,It){let St;const Ft=v.viewState;function Bt(Nt,zt,qt,$t){return $.call(nt,zt,Nt?qt:null,$t)}const Qt=Ft.projection,Jt=(0,i.Cf)(t.slice(),Qt),te=[[0,0]];if(Qt.canWrapX()&&W){const Nt=Qt.getExtent(),zt=(0,u.dz)(Nt);te.push([-zt,0],[zt,0])}const ae=v.layerStatesArray,Ie=ae.length,Ht=[],ne=[];for(let Nt=0;Nt<te.length;Nt++)for(let zt=Ie-1;zt>=0;--zt){const qt=ae[zt],$t=qt.layer;if($t.hasRenderer()&&(0,e.j)(qt,Ft)&&dt.call(It,$t)){const le=$t.getRenderer(),he=$t.getSource();if(le&&he){const ce=he.getWrapX()?Jt:t,Me=Bt.bind(null,qt.managed);ne[0]=ce[0]+te[Nt][0],ne[1]=ce[1]+te[Nt][1],St=le.forEachFeatureAtCoordinate(ne,v,F,Me,Ht)}if(St)return St}}if(0===Ht.length)return;const Pe=1/Ht.length;return Ht.forEach((Nt,zt)=>Nt.distanceSq+=zt*Pe),Ht.sort((Nt,zt)=>Nt.distanceSq-zt.distanceSq),Ht.some(Nt=>St=Nt.callback(Nt.feature,Nt.layer,Nt.geometry)),St}hasFeatureAtCoordinate(t,v,F,W,$,nt){return void 0!==this.forEachFeatureAtCoordinate(t,v,F,W,m.uX,this,$,nt)}getMap(){return this.map_}renderFrame(t){(0,R.O3)()}scheduleExpireIconCache(t){a.c.canExpireCache()&&t.postRenderFunctions.push(n)}};var r=o(3196),d=o(6008),T=o(4074),g=o(4096),l=o(748),p=o(7796),h=o(7120);const N=class P extends c{constructor(t){super(t),this.fontChangeListenerKey_=(0,p.oL)(l.sG,r.Z.PROPERTYCHANGE,t.redrawText.bind(t)),this.element_=document.createElement("div");const v=this.element_.style;v.position="absolute",v.width="100%",v.height="100%",v.zIndex="0",this.element_.className=g.XV+" ol-layers";const F=t.getViewport();F.insertBefore(this.element_,F.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,v){const F=this.getMap();if(F.hasListener(t)){const W=new d.Z(t,void 0,v);F.dispatchEvent(W)}}disposeInternal(){(0,p.bN)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(t){if(!t)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(t),this.dispatchRenderEvent(T.Z.PRECOMPOSE,t);const v=t.layerStatesArray.sort(function(nt,dt){return nt.zIndex-dt.zIndex}),F=t.viewState;this.children_.length=0;const W=[];let $=null;for(let nt=0,dt=v.length;nt<dt;++nt){const It=v[nt];t.layerIndex=nt;const St=It.layer,Ft=St.getSourceState();if(!(0,e.j)(It,F)||"ready"!=Ft&&"undefined"!=Ft){St.unrender();continue}const Bt=St.render(t,$);Bt&&(Bt!==$&&(this.children_.push(Bt),$=Bt),"getDeclutter"in St&&W.push(St))}for(let nt=W.length-1;nt>=0;--nt)W[nt].renderDeclutter(t);(0,h.hF)(this.element_,this.children_),this.dispatchRenderEvent(T.Z.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}};var O=o(8688),Z=o(392),L=o(9395),K=o(2780),D=o(925);class b extends L.ZP{constructor(t,v){super(t),this.layer=v}}class S extends Z.Z{constructor(t){t=t||{};const v=Object.assign({},t);delete v.layers;let F=t.layers;super(v),this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener("layers",this.handleLayersChanged_),F?Array.isArray(F)?F=new I.Z(F.slice(),{unique:!0}):(0,K.h)("function"==typeof F.getArray,43):F=new I.Z(void 0,{unique:!0}),this.setLayers(F)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(p.bN),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push((0,p.oL)(t,A.Z.ADD,this.handleLayersAdd_,this),(0,p.oL)(t,A.Z.REMOVE,this.handleLayersRemove_,this));for(const F in this.listenerKeys_)this.listenerKeys_[F].forEach(p.bN);(0,D.Z)(this.listenerKeys_);const v=t.getArray();for(let F=0,W=v.length;F<W;F++){const $=v[F];this.registerLayerListeners_($),this.dispatchEvent(new b("addlayer",$))}this.changed()}registerLayerListeners_(t){const v=[(0,p.oL)(t,r.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,p.oL)(t,O.Z.CHANGE,this.handleLayerChange_,this)];t instanceof S&&v.push((0,p.oL)(t,"addlayer",this.handleLayerGroupAdd_,this),(0,p.oL)(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,R.sq)(t)]=v}handleLayerGroupAdd_(t){this.dispatchEvent(new b("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new b("removelayer",t.layer))}handleLayersAdd_(t){const v=t.element;this.registerLayerListeners_(v),this.dispatchEvent(new b("addlayer",v)),this.changed()}handleLayersRemove_(t){const v=t.element,F=(0,R.sq)(v);this.listenerKeys_[F].forEach(p.bN),delete this.listenerKeys_[F],this.dispatchEvent(new b("removelayer",v)),this.changed()}getLayers(){return this.get("layers")}setLayers(t){const v=this.getLayers();if(v){const F=v.getArray();for(let W=0,$=F.length;W<$;++W)this.dispatchEvent(new b("removelayer",F[W]))}this.set("layers",t)}getLayersArray(t){return t=void 0!==t?t:[],this.getLayers().forEach(function(v){v.getLayersArray(t)}),t}getLayerStatesArray(t){const v=void 0!==t?t:[],F=v.length;this.getLayers().forEach(function(nt){nt.getLayerStatesArray(v)});const W=this.getLayerState();let $=W.zIndex;!t&&void 0===W.zIndex&&($=0);for(let nt=F,dt=v.length;nt<dt;nt++){const It=v[nt];It.opacity*=W.opacity,It.visible=It.visible&&W.visible,It.maxResolution=Math.min(It.maxResolution,W.maxResolution),It.minResolution=Math.max(It.minResolution,W.minResolution),It.minZoom=Math.max(It.minZoom,W.minZoom),It.maxZoom=Math.min(It.maxZoom,W.maxZoom),void 0!==W.extent&&(It.extent=void 0!==It.extent?(0,u.Ed)(It.extent,W.extent):W.extent),void 0===It.zIndex&&(It.zIndex=$)}return v}getSourceState(){return"ready"}}const y=S;var E=o(6494),C=o(6560);var V=o(9078),k=o(9365);const Q=class et extends V.Z{constructor(t,v){super(t),this.map_=t,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===v?1:v,this.down_=null;const F=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=F,this.pointerdownListenerKey_=(0,p.oL)(F,"pointerdown",this.handlePointerDown_,this),this.relayedListenerKey_=(0,p.oL)(F,"pointermove",this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(O.Z.TOUCHMOVE,this.boundHandleTouchMove_,!!k.bM&&{passive:!1})}emulateClick_(t){let v=new E.Z(C.Z.CLICK,this.map_,t);this.dispatchEvent(v),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,v=new E.Z(C.Z.DBLCLICK,this.map_,t),this.dispatchEvent(v)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const F=new E.Z(C.Z.SINGLECLICK,this.map_,t);this.dispatchEvent(F)},250)}updateActivePointers_(t){const v=t,F=v.pointerId;if(v.type==C.Z.POINTERUP||v.type==C.Z.POINTERCANCEL){delete this.trackedTouches_[F];for(const W in this.trackedTouches_)if(this.trackedTouches_[W].target!==v.target){delete this.trackedTouches_[W];break}}else(v.type==C.Z.POINTERDOWN||v.type==C.Z.POINTERMOVE)&&(this.trackedTouches_[F]=v);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const v=new E.Z(C.Z.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(v),this.emulateClicks_&&!v.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(p.bN),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return 0===t.button}handlePointerDown_(t){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(t);const v=new E.Z(C.Z.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(v),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),0===this.dragListenerKeys_.length){const F=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,p.oL)(F,C.Z.POINTERMOVE,this.handlePointerMove_,this),(0,p.oL)(F,C.Z.POINTERUP,this.handlePointerUp_,this),(0,p.oL)(this.element_,C.Z.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==F&&this.dragListenerKeys_.push((0,p.oL)(this.element_.getRootNode(),C.Z.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const v=new E.Z(C.Z.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(v)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const v=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new E.Z(C.Z.POINTERMOVE,this.map_,t,v))}handleTouchMove_(t){const v=this.originalPointerMoveEvent_;(!v||v.defaultPrevented)&&("boolean"!=typeof t.cancelable||!0===t.cancelable)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&((0,p.bN)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(O.Z.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,p.bN)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(p.bN),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}};var gt=o(9810),tt=o(1645);const ut=1/0,Ct=class vt{constructor(t,v){this.priorityFunction_=t,this.keyFunction_=v,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,(0,D.Z)(this.queuedElements_)}dequeue(){const t=this.elements_,v=this.priorities_,F=t[0];1==t.length?(t.length=0,v.length=0):(t[0]=t.pop(),v[0]=v.pop(),this.siftUp_(0));const W=this.keyFunction_(F);return delete this.queuedElements_[W],F}enqueue(t){(0,K.h)(!(this.keyFunction_(t)in this.queuedElements_),31);const v=this.priorityFunction_(t);return v!=ut&&(this.elements_.push(t),this.priorities_.push(v),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(t){return 2*t+1}getRightChildIndex_(t){return 2*t+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return 0===this.elements_.length}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const v=this.elements_,F=this.priorities_,W=v.length,$=v[t],nt=F[t],dt=t;for(;t<W>>1;){const It=this.getLeftChildIndex_(t),St=this.getRightChildIndex_(t),Ft=St<W&&F[St]<F[It]?St:It;v[t]=v[Ft],F[t]=F[Ft],t=Ft}v[t]=$,F[t]=nt,this.siftDown_(dt,t)}siftDown_(t,v){const F=this.elements_,W=this.priorities_,$=F[v],nt=W[v];for(;v>t;){const dt=this.getParentIndex_(v);if(!(W[dt]>nt))break;F[v]=F[dt],W[v]=W[dt],v=dt}F[v]=$,W[v]=nt}reprioritize(){const t=this.priorityFunction_,v=this.elements_,F=this.priorities_;let W=0;const $=v.length;let nt,dt,It;for(dt=0;dt<$;++dt)nt=v[dt],It=t(nt),It==ut?delete this.queuedElements_[this.keyFunction_(nt)]:(F[W]=It,v[W++]=nt);v.length=W,F.length=W,this.heapify_()}};var Pt=o(6614);const Zt=class Lt extends Ct{constructor(t,v){super(function(F){return t.apply(null,F)},function(F){return F[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=v,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const v=super.enqueue(t);return v&&t[0].addEventListener(O.Z.CHANGE,this.boundHandleTileChange_),v}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const v=t.target,F=v.getState();if(F===Pt.Z.LOADED||F===Pt.Z.ERROR||F===Pt.Z.EMPTY){F!==Pt.Z.ERROR&&v.removeEventListener(O.Z.CHANGE,this.boundHandleTileChange_);const W=v.getKey();W in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[W],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,v){let W,$,nt,F=0;for(;this.tilesLoading_<t&&F<v&&this.getCount()>0;)$=this.dequeue()[0],nt=$.getKey(),W=$.getState(),W===Pt.Z.IDLE&&!(nt in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[nt]=!0,++this.tilesLoading_,++F,$.load())}};var Kt=o(1415),Wt=o(5329);const G=class w extends M.Z{constructor(t){super();const v=t.element;v&&!t.target&&!v.style.pointerEvents&&(v.style.pointerEvents="auto"),this.element=v||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){(0,h.ZF)(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&(0,h.ZF)(this.element);for(let v=0,F=this.listenerKeys.length;v<F;++v)(0,p.bN)(this.listenerKeys[v]);this.listenerKeys.length=0,this.map_=t,t&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==m.Zn&&this.listenerKeys.push((0,p.oL)(t,tt.Z.POSTRENDER,this.render,this)),t.render())}render(t){}setTarget(t){this.target_="string"==typeof t?document.getElementById(t):t}};var H=o(7555);const yt=class _t extends G{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===t.collapsed||t.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==t.collapsible,this.collapsible_=void 0===t.collapsible||t.collapsible,this.collapsible_||(this.collapsed_=!1);const v=void 0!==t.className?t.className:"ol-attribution",F=void 0!==t.tipLabel?t.tipLabel:"Attributions",W=void 0!==t.expandClassName?t.expandClassName:v+"-expand",$=void 0!==t.collapseLabel?t.collapseLabel:"\u203a",nt=void 0!==t.collapseClassName?t.collapseClassName:v+"-collapse";"string"==typeof $?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=$,this.collapseLabel_.className=nt):this.collapseLabel_=$;const dt=void 0!==t.label?t.label:"i";"string"==typeof dt?(this.label_=document.createElement("span"),this.label_.textContent=dt,this.label_.className=W):this.label_=dt;const It=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=F,this.toggleButton_.appendChild(It),this.toggleButton_.addEventListener(O.Z.CLICK,this.handleClick_.bind(this),!1);const Ft=this.element;Ft.className=v+" "+g.XV+" "+g.hg+(this.collapsed_&&this.collapsible_?" "+g.hN:"")+(this.collapsible_?"":" ol-uncollapsible"),Ft.appendChild(this.toggleButton_),Ft.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const v=Array.from(new Set(this.getMap().getAllLayers().flatMap(W=>W.getAttributions(t)))),F=!this.getMap().getAllLayers().some(W=>W.getSource()&&!1===W.getSource().getAttributionsCollapsible());return this.overrideCollapsible_||this.setCollapsible(F),v}updateElement_(t){if(!t)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const v=this.collectSourceAttributions_(t),F=v.length>0;if(this.renderedVisible_!=F&&(this.element.style.display=F?"":"none",this.renderedVisible_=F),!(0,H.fS)(v,this.renderedAttributions_)){(0,h.ep)(this.ulElement_);for(let W=0,$=v.length;W<$;++W){const nt=document.createElement("li");nt.innerHTML=v[W],this.ulElement_.appendChild(nt)}this.renderedAttributions_=v}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(g.hN),this.collapsed_?(0,h.$H)(this.collapseLabel_,this.label_):(0,h.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}};var Ot=o(3906);const _=class ot extends G{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const v=void 0!==t.className?t.className:"ol-rotate",F=void 0!==t.label?t.label:"\u21e7",W=void 0!==t.compassClassName?t.compassClassName:"ol-compass";this.label_=null,"string"==typeof F?(this.label_=document.createElement("span"),this.label_.className=W,this.label_.textContent=F):(this.label_=F,this.label_.classList.add(W));const $=t.tipLabel?t.tipLabel:"Reset rotation",nt=document.createElement("button");nt.className=v+"-reset",nt.setAttribute("type","button"),nt.title=$,nt.appendChild(this.label_),nt.addEventListener(O.Z.CLICK,this.handleClick_.bind(this),!1);const It=this.element;It.className=v+" "+g.XV+" "+g.hg,It.appendChild(nt),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=void 0!==t.duration?t.duration:250,this.autoHide_=void 0===t.autoHide||t.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(g.oj)}handleClick_(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const v=this.getMap().getView();if(!v)return;const F=v.getRotation();void 0!==F&&(this.duration_>0&&F%(2*Math.PI)!=0?v.animate({rotation:0,duration:this.duration_,easing:Ot.Vv}):v.setRotation(0))}render(t){const v=t.frameState;if(!v)return;const F=v.viewState.rotation;if(F!=this.rotation_){const W="rotate("+F+"rad)";if(this.autoHide_){const $=this.element.classList.contains(g.oj);$||0!==F?$&&0!==F&&this.element.classList.remove(g.oj):this.element.classList.add(g.oj)}this.label_.style.transform=W}this.rotation_=F}},B=class U extends G{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const v=void 0!==t.className?t.className:"ol-zoom",F=void 0!==t.delta?t.delta:1,W=void 0!==t.zoomInClassName?t.zoomInClassName:v+"-in",$=void 0!==t.zoomOutClassName?t.zoomOutClassName:v+"-out",nt=void 0!==t.zoomInLabel?t.zoomInLabel:"+",dt=void 0!==t.zoomOutLabel?t.zoomOutLabel:"\u2013",It=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",St=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",Ft=document.createElement("button");Ft.className=W,Ft.setAttribute("type","button"),Ft.title=It,Ft.appendChild("string"==typeof nt?document.createTextNode(nt):nt),Ft.addEventListener(O.Z.CLICK,this.handleClick_.bind(this,F),!1);const Bt=document.createElement("button");Bt.className=$,Bt.setAttribute("type","button"),Bt.title=St,Bt.appendChild("string"==typeof dt?document.createTextNode(dt):dt),Bt.addEventListener(O.Z.CLICK,this.handleClick_.bind(this,-F),!1);const Jt=this.element;Jt.className=v+" "+g.XV+" "+g.hg,Jt.appendChild(Ft),Jt.appendChild(Bt),this.duration_=void 0!==t.duration?t.duration:250}handleClick_(t,v){v.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const F=this.getMap().getView();if(!F)return;const W=F.getZoom();if(void 0!==W){const $=F.getConstrainedZoom(W+t);this.duration_>0?(F.getAnimating()&&F.cancelAnimations(),F.animate({zoom:$,duration:this.duration_,easing:Ot.Vv})):F.setZoom($)}}};var at=o(8252);const mt=class lt extends at.ZP{constructor(t){super(),this.delta_=(t=t||{}).delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:250}handleEvent(t){let v=!1;if(t.type==C.Z.DBLCLICK){const F=t.originalEvent,$=t.coordinate,nt=F.shiftKey?-this.delta_:this.delta_,dt=t.map.getView();(0,at.FW)(dt,nt,$,this.duration_),F.preventDefault(),v=!0}return!v}};var pt=o(2624),Et=o(8995);const Ut=class At extends pt.Z{constructor(t){super({stopDown:m.Dv}),this.kinetic_=(t=t||{}).kinetic,this.lastCentroid=null,this.panning_=!1;const v=t.condition?t.condition:(0,Et.$6)(Et.rM,Et.Xp);this.condition_=t.onFocusOnly?(0,Et.$6)(Et.yZ,v):v,this.noKinetic_=!1}handleDragEvent(t){const v=t.map;this.panning_||(this.panning_=!0,v.getView().beginInteraction());const F=this.targetPointers,W=v.getEventPixel((0,pt.S)(F));if(F.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(W[0],W[1]),this.lastCentroid){const $=[this.lastCentroid[0]-W[0],W[1]-this.lastCentroid[1]],dt=t.map.getView();(0,i.bA)($,dt.getResolution()),(0,i.U1)($,dt.getRotation()),dt.adjustCenterInternal($)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=W,this.lastPointersCount_=F.length,t.originalEvent.preventDefault()}handleUpEvent(t){const v=t.map,F=v.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const W=this.kinetic_.getDistance(),$=this.kinetic_.getAngle(),nt=F.getCenterInternal(),dt=v.getPixelFromCoordinateInternal(nt),It=v.getCoordinateFromPixelInternal([dt[0]-W*Math.cos($),dt[1]-W*Math.sin($)]);F.animateInternal({center:F.getConstrainedCenter(It),duration:500,easing:Ot.Vv})}return this.panning_&&(this.panning_=!1,F.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const F=t.map.getView();return this.lastCentroid=null,F.getAnimating()&&F.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}};var Yt=o(1781);const Y=class Vt extends pt.Z{constructor(t){t=t||{},super({stopDown:m.Dv}),this.condition_=t.condition?t.condition:Et.aj,this.lastAngle_=void 0,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){if(!(0,Et.QL)(t))return;const v=t.map,F=v.getView();if(F.getConstraints().rotation===Yt.h$)return;const W=v.getSize(),$=t.pixel,nt=Math.atan2(W[1]/2-$[1],$[0]-W[0]/2);void 0!==this.lastAngle_&&F.adjustRotationInternal(-(nt-this.lastAngle_)),this.lastAngle_=nt}handleUpEvent(t){return!(0,Et.QL)(t)||(t.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(t){return!!((0,Et.QL)(t)&&(0,Et.v8)(t)&&this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0)}};var J=o(3710);const ct=class it extends x.Z{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,v=this.endPixel_,F="px",W=this.element_.style;W.left=Math.min(t[0],v[0])+F,W.top=Math.min(t[1],v[1])+F,W.width=Math.abs(v[0]-t[0])+F,W.height=Math.abs(v[1]-t[1])+F}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const v=this.element_.style;v.left="inherit",v.top="inherit",v.width="inherit",v.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,v){this.startPixel_=t,this.endPixel_=v,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const t=this.startPixel_,v=this.endPixel_,W=[t,[t[0],v[1]],v,[v[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);W[4]=W[0].slice(),this.geometry_?this.geometry_.setCoordinates([W]):this.geometry_=new J.ZP([W])}getGeometry(){return this.geometry_}};class Tt extends L.ZP{constructor(t,v,F){super(t),this.coordinate=v,this.mapBrowserEvent=F}}const xt=class Rt extends pt.Z{constructor(t){super(),this.box_=new ct((t=t||{}).className||"ol-dragbox"),this.minArea_=void 0!==t.minArea?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:Et.v8,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,v,F){const W=F[0]-v[0],$=F[1]-v[1];return W*W+$*$>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Tt("boxdrag",t.coordinate,t))}handleUpEvent(t){this.box_.setMap(null);const v=this.boxEndCondition_(t,this.startPixel_,t.pixel);return v&&this.onBoxEnd(t),this.dispatchEvent(new Tt(v?"boxend":"boxcancel",t.coordinate,t)),!1}handleDownEvent(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Tt("boxstart",t.coordinate,t)),!0)}onBoxEnd(t){}},Dt=class Mt extends xt{constructor(t){super({condition:(t=t||{}).condition?t.condition:Et.vY,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=void 0!==t.duration?t.duration:200,this.out_=void 0!==t.out&&t.out}onBoxEnd(t){const F=this.getMap().getView();let W=this.getGeometry();if(this.out_){const $=F.rotatedExtentForGeometry(W),nt=F.getResolutionForExtentInternal($),dt=F.getResolution()/nt;W=W.clone(),W.scale(dt*dt)}F.fitInternal(W,{duration:this.duration_,easing:Ot.Vv})}},Gt=class Xt extends at.ZP{constructor(t){super(),t=t||{},this.defaultCondition_=function(v){return(0,Et.rM)(v)&&(0,Et.TN)(v)},this.condition_=void 0!==t.condition?t.condition:this.defaultCondition_,this.duration_=void 0!==t.duration?t.duration:100,this.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128}handleEvent(t){let v=!1;if(t.type==O.Z.KEYDOWN){const F=t.originalEvent,W=F.key;if(this.condition_(t)&&("ArrowDown"==W||"ArrowLeft"==W||"ArrowRight"==W||"ArrowUp"==W)){const nt=t.map.getView(),dt=nt.getResolution()*this.pixelDelta_;let It=0,St=0;"ArrowDown"==W?St=-dt:"ArrowLeft"==W?It=-dt:"ArrowRight"==W?It=dt:St=dt;const Ft=[It,St];(0,i.U1)(Ft,nt.getRotation()),(0,at.Cv)(nt,Ft,this.duration_),F.preventDefault(),v=!0}}return!v}},ee=class kt extends at.ZP{constructor(t){super(),this.condition_=(t=t||{}).condition?t.condition:Et.TN,this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:100}handleEvent(t){let v=!1;if(t.type==O.Z.KEYDOWN||t.type==O.Z.KEYPRESS){const F=t.originalEvent,W=F.key;if(this.condition_(t)&&("+"===W||"-"===W)){const nt="+"===W?this.delta_:-this.delta_,dt=t.map.getView();(0,at.FW)(dt,nt,void 0,this.duration_),F.preventDefault(),v=!0}}return!v}};var de=o(3469);const ge=class _e extends at.ZP{constructor(t){super(t=t||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==t.maxDelta?t.maxDelta:1,this.duration_=void 0!==t.duration?t.duration:250,this.timeout_=void 0!==t.timeout?t.timeout:80,this.useAnchor_=void 0===t.useAnchor||t.useAnchor,this.constrainResolution_=void 0!==t.constrainResolution&&t.constrainResolution;const v=t.condition?t.condition:Et.Bx;this.condition_=t.onFocusOnly?(0,Et.$6)(Et.yZ,v):v,this.lastAnchor_=null,this.startTime_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();t&&t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){if(!this.condition_(t)||t.type!==O.Z.WHEEL)return!0;const F=t.map,W=t.originalEvent;let $;if(W.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==O.Z.WHEEL&&($=W.deltaY,k.V&&W.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&($/=k.MP),W.deltaMode===WheelEvent.DOM_DELTA_LINE&&($*=40)),0===$)return!1;this.lastDelta_=$;const nt=Date.now();void 0===this.startTime_&&(this.startTime_=nt),(!this.mode_||nt-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs($)<4?"trackpad":"wheel");const dt=F.getView();if("trackpad"===this.mode_&&!dt.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(dt.getAnimating()&&dt.cancelAnimations(),dt.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),dt.adjustZoom(-$/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=nt,!1;this.totalDelta_+=$;const It=Math.max(this.timeout_-(nt-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,F),It),!1}handleWheelZoom_(t){const v=t.getView();v.getAnimating()&&v.cancelAnimations();let F=-(0,de.uZ)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(v.getConstrainResolution()||this.constrainResolution_)&&(F=F?F>0?1:-1:0),(0,at.FW)(v,F,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}},me=class fe extends pt.Z{constructor(t){const v=t=t||{};v.stopDown||(v.stopDown=m.Dv),super(v),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==t.threshold?t.threshold:.3,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){let v=0;const F=this.targetPointers[0],W=this.targetPointers[1],$=Math.atan2(W.clientY-F.clientY,W.clientX-F.clientX);if(void 0!==this.lastAngle_){const It=$-this.lastAngle_;this.rotationDelta_+=It,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),v=It}this.lastAngle_=$;const nt=t.map,dt=nt.getView();dt.getConstraints().rotation!==Yt.h$&&(this.anchor_=nt.getCoordinateFromPixelInternal(nt.getEventPixel((0,pt.S)(this.targetPointers))),this.rotating_&&(nt.render(),dt.adjustRotationInternal(v,this.anchor_)))}handleUpEvent(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_),1))}handleDownEvent(t){if(this.targetPointers.length>=2){const v=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||v.getView().beginInteraction(),!0}return!1}},ye=class Ee extends pt.Z{constructor(t){const v=t=t||{};v.stopDown||(v.stopDown=m.Dv),super(v),this.anchor_=null,this.duration_=void 0!==t.duration?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let v=1;const F=this.targetPointers[0],W=this.targetPointers[1],$=F.clientX-W.clientX,nt=F.clientY-W.clientY,dt=Math.sqrt($*$+nt*nt);void 0!==this.lastDistance_&&(v=this.lastDistance_/dt),this.lastDistance_=dt;const It=t.map,St=It.getView();1!=v&&(this.lastScaleDelta_=v),this.anchor_=It.getCoordinateFromPixelInternal(It.getEventPixel((0,pt.S)(this.targetPointers))),It.render(),St.adjustResolutionInternal(v,this.anchor_)}handleUpEvent(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),!1)}handleDownEvent(t){if(this.targetPointers.length>=2){const v=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||v.getView().beginInteraction(),!0}return!1}};var ie=o(5111),se=o(2518),pe=o(9608);function re(st){st instanceof e.Z?st.setMapInternal(null):st instanceof y&&st.getLayers().forEach(re)}function oe(st,t){if(st instanceof e.Z)st.setMapInternal(t);else if(st instanceof y){const v=st.getLayers().getArray();for(let F=0,W=v.length;F<W;++F)oe(v[F],t)}}const Ce=class Te extends M.Z{constructor(t){super();const v=function Re(st){let t=null;void 0!==st.keyboardEventTarget&&(t="string"==typeof st.keyboardEventTarget?document.getElementById(st.keyboardEventTarget):st.keyboardEventTarget);const v={},F=st.layers&&"function"==typeof st.layers.getLayers?st.layers:new y({layers:st.layers});let W,$,nt;return v.layergroup=F,v.target=st.target,v.view=st.view instanceof Kt.ZP?st.view:new Kt.ZP,void 0!==st.controls&&(Array.isArray(st.controls)?W=new I.Z(st.controls.slice()):((0,K.h)("function"==typeof st.controls.getArray,47),W=st.controls)),void 0!==st.interactions&&(Array.isArray(st.interactions)?$=new I.Z(st.interactions.slice()):((0,K.h)("function"==typeof st.interactions.getArray,48),$=st.interactions)),void 0!==st.overlays?Array.isArray(st.overlays)?nt=new I.Z(st.overlays.slice()):((0,K.h)("function"==typeof st.overlays.getArray,49),nt=st.overlays):nt=new I.Z,{controls:W,interactions:$,keyboardEventTarget:t,overlays:nt,values:v}}(t=t||{});this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,this.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:k.MP,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=(0,f.Ue)(),this.pixelToCoordinateTransform_=(0,f.Ue)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=v.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=v.controls||function q(st){st=st||{};const t=new I.Z;return(void 0===st.zoom||st.zoom)&&t.push(new B(st.zoomOptions)),(void 0===st.rotate||st.rotate)&&t.push(new _(st.rotateOptions)),(void 0===st.attribution||st.attribution)&&t.push(new yt(st.attributionOptions)),t}(),this.interactions=v.interactions||function ve(st){st=st||{};const t=new I.Z,v=new class jt{constructor(t,v,F){this.decay_=t,this.minVelocity_=v,this.delay_=F,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,v){this.points_.push(t,v,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,v=this.points_.length-3;if(this.points_[v+2]<t)return!1;let F=v-3;for(;F>0&&this.points_[F+2]>t;)F-=3;const W=this.points_[v+2]-this.points_[F+2];if(W<1e3/60)return!1;const $=this.points_[v]-this.points_[F],nt=this.points_[v+1]-this.points_[F+1];return this.angle_=Math.atan2(nt,$),this.initialVelocity_=Math.sqrt($*$+nt*nt)/W,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}(-.005,.05,100);return(void 0===st.altShiftDragRotate||st.altShiftDragRotate)&&t.push(new Y),(void 0===st.doubleClickZoom||st.doubleClickZoom)&&t.push(new mt({delta:st.zoomDelta,duration:st.zoomDuration})),(void 0===st.dragPan||st.dragPan)&&t.push(new Ut({onFocusOnly:st.onFocusOnly,kinetic:v})),(void 0===st.pinchRotate||st.pinchRotate)&&t.push(new me),(void 0===st.pinchZoom||st.pinchZoom)&&t.push(new ye({duration:st.zoomDuration})),(void 0===st.keyboard||st.keyboard)&&(t.push(new Gt),t.push(new ee({delta:st.zoomDelta,duration:st.zoomDuration}))),(void 0===st.mouseWheelZoom||st.mouseWheelZoom)&&t.push(new ge({onFocusOnly:st.onFocusOnly,duration:st.zoomDuration})),(void 0===st.shiftDragZoom||st.shiftDragZoom)&&t.push(new Dt({duration:st.zoomDuration})),t}({onFocusOnly:!0}),this.overlays_=v.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new Zt(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener("layergroup",this.handleLayerGroupChanged_),this.addChangeListener("view",this.handleViewChanged_),this.addChangeListener("size",this.handleSizeChanged_),this.addChangeListener("target",this.handleTargetChanged_),this.setProperties(v.values);const F=this;t.view&&!(t.view instanceof Kt.ZP)&&t.view.then(function(W){F.setView(new Kt.ZP(W))}),this.controls.addEventListener(A.Z.ADD,W=>{W.element.setMap(this)}),this.controls.addEventListener(A.Z.REMOVE,W=>{W.element.setMap(null)}),this.interactions.addEventListener(A.Z.ADD,W=>{W.element.setMap(this)}),this.interactions.addEventListener(A.Z.REMOVE,W=>{W.element.setMap(null)}),this.overlays_.addEventListener(A.Z.ADD,W=>{this.addOverlayInternal_(W.element)}),this.overlays_.addEventListener(A.Z.REMOVE,W=>{const $=W.element.getId();void 0!==$&&delete this.overlayIdIndex_[$.toString()],W.element.setMap(null)}),this.controls.forEach(W=>{W.setMap(this)}),this.interactions.forEach(W=>{W.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){oe(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const v=t.getId();void 0!==v&&(this.overlayIdIndex_[v.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,v,F){if(!this.frameState_||!this.renderer_)return;const W=this.getCoordinateFromPixelInternal(t);return this.renderer_.forEachFeatureAtCoordinate(W,this.frameState_,void 0!==(F=void 0!==F?F:{}).hitTolerance?F.hitTolerance:0,!1!==F.checkWrapped,v,null,void 0!==F.layerFilter?F.layerFilter:m.uX,null)}getFeaturesAtPixel(t,v){const F=[];return this.forEachFeatureAtPixel(t,function(W){F.push(W)},v),F}getAllLayers(){const t=[];return function v(F){F.forEach(function(W){W instanceof y?v(W.getLayers()):t.push(W)})}(this.getLayers()),t}hasFeatureAtPixel(t,v){if(!this.frameState_||!this.renderer_)return!1;const F=this.getCoordinateFromPixelInternal(t);return this.renderer_.hasFeatureAtCoordinate(F,this.frameState_,void 0!==(v=void 0!==v?v:{}).hitTolerance?v.hitTolerance:0,!1!==v.checkWrapped,void 0!==v.layerFilter?v.layerFilter:m.uX,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const F=this.viewport_.getBoundingClientRect(),W=this.getSize(),dt="changedTouches"in t?t.changedTouches[0]:t;return[(dt.clientX-F.left)/(F.width/W[0]),(dt.clientY-F.top)/(F.height/W[1])]}getTarget(){return this.get("target")}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return(0,ie.lO)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const v=this.frameState_;return v?(0,f.nn)(v.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const v=this.overlayIdIndex_[t.toString()];return void 0!==v?v:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get("layergroup")}setLayers(t){const v=this.getLayerGroup();if(t instanceof I.Z)return void v.setLayers(t);const F=v.getLayers();F.clear(),F.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let v=0,F=t.length;v<F;++v){const W=t[v];if(!W.visible)continue;const $=W.layer.getRenderer();if($&&!$.ready)return!0;const nt=W.layer.getSource();if(nt&&nt.loading)return!0}return!1}getPixelFromCoordinate(t){const v=(0,ie.Vs)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(v)}getPixelFromCoordinateInternal(t){const v=this.frameState_;return v?(0,f.nn)(v.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get("size")}getView(){return this.get("view")}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,v,F,W){return function wt(st,t,v,F,W){if(!st||!(v in st.wantedTiles)||!st.wantedTiles[v][t.getKey()])return ut;const $=st.viewState.center,nt=F[0]-$[0],dt=F[1]-$[1];return 65536*Math.log(W)+Math.sqrt(nt*nt+dt*dt)/W}(this.frameState_,t,v,F,W)}handleBrowserEvent(t,v){const F=new E.Z(v=v||t.type,this,t);this.handleMapBrowserEvent(F)}handleMapBrowserEvent(t){if(!this.frameState_)return;const v=t.originalEvent,F=v.type;if("pointerdown"===F||F===O.Z.WHEEL||F===O.Z.KEYDOWN){const W=this.getOwnerDocument(),$=this.viewport_.getRootNode?this.viewport_.getRootNode():W,nt=v.target;if(this.overlayContainerStopEvent_.contains(nt)||!($===W?W.documentElement:$).contains(nt))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t)){const W=this.getInteractions().getArray().slice();for(let $=W.length-1;$>=0;$--){const nt=W[$];if(nt.getMap()===this&&nt.getActive()&&this.getTargetElement()&&(!nt.handleEvent(t)||t.propagationStopped))break}}}handlePostRender(){const t=this.frameState_,v=this.tileQueue_;if(!v.isEmpty()){let W=this.maxTilesLoading_,$=W;if(t){const nt=t.viewHints;if(nt[Wt.Z.ANIMATING]||nt[Wt.Z.INTERACTING]){const dt=Date.now()-t.time>8;W=dt?0:8,$=dt?0:2}}v.getTilesLoading()<W&&(v.reprioritize(),v.loadMoreTiles(W,$))}t&&this.renderer_&&!t.animate&&(!0===this.renderComplete_?(this.hasListener(T.Z.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(T.Z.RENDERCOMPLETE,t),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new gt.Z(tt.Z.LOADEND,this,t)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new gt.Z(tt.Z.LOADSTART,this,t))));const F=this.postRenderFunctions_;for(let W=0,$=F.length;W<$;++W)F[W](this,t);F.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let F=0,W=this.targetChangeHandlerKeys_.length;F<W;++F)(0,p.bN)(this.targetChangeHandlerKeys_[F]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(O.Z.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(O.Z.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,h.ZF)(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const F=this.targetElement_.getRootNode();F instanceof ShadowRoot&&this.resizeObserver_.unobserve(F.host),this.setSize(void 0)}const t=this.getTarget(),v="string"==typeof t?document.getElementById(t):t;if(this.targetElement_=v,v){v.appendChild(this.viewport_),this.renderer_||(this.renderer_=new N(this)),this.mapBrowserEventHandler_=new Q(this,this.moveTolerance_);for(const $ in C.Z)this.mapBrowserEventHandler_.addEventListener(C.Z[$],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(O.Z.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(O.Z.WHEEL,this.boundHandleBrowserEvent_,!!k.bM&&{passive:!1});const F=this.keyboardEventTarget_?this.keyboardEventTarget_:v;this.targetChangeHandlerKeys_=[(0,p.oL)(F,O.Z.KEYDOWN,this.handleBrowserEvent,this),(0,p.oL)(F,O.Z.KEYPRESS,this.handleBrowserEvent,this)];const W=v.getRootNode();W instanceof ShadowRoot&&this.resizeObserver_.observe(W.host),this.resizeObserver_.observe(v)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&((0,p.bN)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,p.bN)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,p.oL)(t,r.Z.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,p.oL)(t,O.Z.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(p.bN),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new b("addlayer",t)),this.layerGroupPropertyListenerKeys_=[(0,p.oL)(t,r.Z.PROPERTYCHANGE,this.render,this),(0,p.oL)(t,O.Z.CHANGE,this.render,this),(0,p.oL)(t,"addlayer",this.handleLayerAdd_,this),(0,p.oL)(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let v=0,F=t.length;v<F;++v){const W=t[v].layer;W.hasRenderer()&&W.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){re(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const v=this.getSize(),F=this.getView(),W=this.frameState_;let $=null;if(void 0!==v&&(0,se.py)(v)&&F&&F.isDef()){const nt=F.getHints(this.frameState_?this.frameState_.viewHints:void 0),dt=F.getState();if($={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,u.p8)(dt.center,dt.resolution,dt.rotation,v),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:v,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:dt,viewHints:nt,wantedTiles:{},mapId:(0,R.sq)(this),renderTargets:{}},dt.nextCenter&&dt.nextResolution){const It=isNaN(dt.nextRotation)?dt.rotation:dt.nextRotation;$.nextExtent=(0,u.p8)(dt.nextCenter,dt.nextResolution,It,v)}}this.frameState_=$,this.renderer_.renderFrame($),$&&($.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,$.postRenderFunctions),W&&(!this.previousExtent_||!(0,u.xb)(this.previousExtent_)&&!(0,u.fS)($.extent,this.previousExtent_))&&(this.dispatchEvent(new gt.Z(tt.Z.MOVESTART,this,W)),this.previousExtent_=(0,u.YN)(this.previousExtent_)),this.previousExtent_&&!$.viewHints[Wt.Z.ANIMATING]&&!$.viewHints[Wt.Z.INTERACTING]&&!(0,u.fS)($.extent,this.previousExtent_)&&(this.dispatchEvent(new gt.Z(tt.Z.MOVEEND,this,$)),(0,u.d9)($.extent,this.previousExtent_))),this.dispatchEvent(new gt.Z(tt.Z.POSTRENDER,this,$)),this.renderComplete_=this.hasListener(tt.Z.LOADSTART)||this.hasListener(tt.Z.LOADEND)||this.hasListener(T.Z.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const v=this.getLayerGroup();v&&this.handleLayerRemove_(new b("removelayer",v)),this.set("layergroup",t)}setSize(t){this.set("size",t)}setTarget(t){this.set("target",t)}setView(t){if(!t||t instanceof Kt.ZP)return void this.set("view",t);this.set("view",new Kt.ZP);const v=this;t.then(function(F){v.setView(new Kt.ZP(F))})}updateSize(){const t=this.getTargetElement();let v;if(t){const W=getComputedStyle(t),$=t.offsetWidth-parseFloat(W.borderLeftWidth)-parseFloat(W.paddingLeft)-parseFloat(W.paddingRight)-parseFloat(W.borderRightWidth),nt=t.offsetHeight-parseFloat(W.borderTopWidth)-parseFloat(W.paddingTop)-parseFloat(W.paddingBottom)-parseFloat(W.borderBottomWidth);!isNaN($)&&!isNaN(nt)&&(v=[$,nt],!(0,se.py)(v)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&(0,pe.ZK)("No map visible because the map container's width or height are 0."))}const F=this.getSize();v&&(!F||!(0,H.fS)(v,F))&&(this.setSize(v),this.updateViewportSize_())}updateViewportSize_(){const t=this.getView();if(t){let v;const F=getComputedStyle(this.viewport_);F.width&&F.height&&(v=[parseInt(F.width,10),parseInt(F.height,10)]),t.setViewportSize(v)}}}},6494:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>A});var M=o(9810);const A=class I extends M.Z{constructor(m,R,f,u,a,e){super(m,R,a),this.originalEvent=f,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==u&&u,this.activePointers=e}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(m){this.pixel_=m}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(m){this.coordinate_=m}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}},6560:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>I});var M=o(8688);const I={SINGLECLICK:"singleclick",CLICK:M.Z.CLICK,DBLCLICK:M.Z.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},9810:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>A});var M=o(9395);const A=class I extends M.ZP{constructor(m,R,f){super(m),this.map=R,this.frameState=void 0!==f?f:null}}},1645:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>M});const M={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}},1092:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>u});var M=o(9395),I=o(3196),A=o(7210),x=o(9070),m=o(925);class R extends M.ZP{constructor(e,i,s){super(e),this.key=i,this.oldValue=s}}const u=class f extends A.Z{constructor(e){super(),(0,x.sq)(this),this.values_=null,void 0!==e&&this.setProperties(e)}get(e){let i;return this.values_&&this.values_.hasOwnProperty(e)&&(i=this.values_[e]),i}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(e,i){let s;s=`change:${e}`,this.hasListener(s)&&this.dispatchEvent(new R(s,e,i)),s=I.Z.PROPERTYCHANGE,this.hasListener(s)&&this.dispatchEvent(new R(s,e,i))}addChangeListener(e,i){this.addEventListener(`change:${e}`,i)}removeChangeListener(e,i){this.removeEventListener(`change:${e}`,i)}set(e,i,s){const n=this.values_||(this.values_={});if(s)n[e]=i;else{const c=n[e];n[e]=i,c!==i&&this.notify(e,c)}}setProperties(e,i){for(const s in e)this.set(s,e[s],i)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,i){if(this.values_&&e in this.values_){const s=this.values_[e];delete this.values_[e],(0,m.x)(this.values_)&&(this.values_=null),i||this.notify(e,s)}}}},3196:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>M});const M={PROPERTYCHANGE:"propertychange"}},7210:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>R});var M=o(9078),I=o(8688),A=o(7796);const R=class x extends M.Z{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(I.Z.CHANGE)}getRevision(){return this.revision_}onInternal(u,a){if(Array.isArray(u)){const e=u.length,i=new Array(e);for(let s=0;s<e;++s)i[s]=(0,A.oL)(this,u[s],a);return i}return(0,A.oL)(this,u,a)}onceInternal(u,a){let e;if(Array.isArray(u)){const i=u.length;e=new Array(i);for(let s=0;s<i;++s)e[s]=(0,A.Vx)(this,u[s],a)}else e=(0,A.Vx)(this,u,a);return a.ol_key=e,e}unInternal(u,a){const e=a.ol_key;if(e)!function m(f){if(Array.isArray(f))for(let u=0,a=f.length;u<a;++u)(0,A.bN)(f[u]);else(0,A.bN)(f)}(e);else if(Array.isArray(u))for(let i=0,s=u.length;i<s;++i)this.removeEventListener(u[i],a);else this.removeEventListener(u,a)}}},6323:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>f});var M=o(9078),I=o(8688),A=o(6614),x=o(9070),m=o(3906);const f=class R extends M.Z{constructor(a,e,i){super(),i=i||{},this.tileCoord=a,this.state=e,this.interimTile=null,this.key="",this.transition_=void 0===i.transition?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(I.Z.CHANGE)}release(){this.state===A.Z.ERROR&&this.setState(A.Z.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let a=this.interimTile;do{if(a.getState()==A.Z.LOADED)return this.transition_=0,a;a=a.interimTile}while(a);return this}refreshInterimChain(){if(!this.interimTile)return;let a=this.interimTile,e=this;do{if(a.getState()==A.Z.LOADED){a.interimTile=null;break}a.getState()==A.Z.LOADING?e=a:a.getState()==A.Z.IDLE?e.interimTile=a.interimTile:e=a,a=e.interimTile}while(a)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(a){if(this.state!==A.Z.ERROR&&this.state>a)throw new Error("Tile load sequence violation");this.state=a,this.changed()}load(){(0,x.O3)()}getAlpha(a,e){if(!this.transition_)return 1;let i=this.transitionStarts_[a];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[a]=i;const s=e-i+1e3/60;return s>=this.transition_?1:(0,m.YQ)(s/this.transition_)}inTransition(a){return!!this.transition_&&-1!==this.transitionStarts_[a]}endTransition(a){this.transition_&&(this.transitionStarts_[a]=-1)}}},1047:(ht,X,o)=>{"use strict";o.d(X,{T:()=>I,Z:()=>A});class M{constructor(m,R,f,u){this.minX=m,this.maxX=R,this.minY=f,this.maxY=u}contains(m){return this.containsXY(m[1],m[2])}containsTileRange(m){return this.minX<=m.minX&&m.maxX<=this.maxX&&this.minY<=m.minY&&m.maxY<=this.maxY}containsXY(m,R){return this.minX<=m&&m<=this.maxX&&this.minY<=R&&R<=this.maxY}equals(m){return this.minX==m.minX&&this.minY==m.minY&&this.maxX==m.maxX&&this.maxY==m.maxY}extend(m){m.minX<this.minX&&(this.minX=m.minX),m.maxX>this.maxX&&(this.maxX=m.maxX),m.minY<this.minY&&(this.minY=m.minY),m.maxY>this.maxY&&(this.maxY=m.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(m){return this.minX<=m.maxX&&this.maxX>=m.minX&&this.minY<=m.maxY&&this.maxY>=m.minY}}function I(x,m,R,f,u){return void 0!==u?(u.minX=x,u.maxX=m,u.minY=R,u.maxY=f,u):new M(x,m,R,f)}const A=M},6614:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>M});const M={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},1415:(ht,X,o)=>{"use strict";o.d(X,{ZP:()=>z});var M=o(1092),I=o(5329);const A={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var x=o(8834),m=o(5111),R=o(589),f=o(722),u=o(2780),a=o(3469);function e(S,y,E){return function(C,j,V,k,et){if(!C)return;if(!j&&!y)return C;const Q=y?0:V[0]*j,gt=y?0:V[1]*j,tt=et?et[0]:0,rt=et?et[1]:0;let ut=S[0]+Q/2+tt,vt=S[2]-Q/2+tt,Ct=S[1]+gt/2+rt,Pt=S[3]-gt/2+rt;ut>vt&&(ut=(vt+ut)/2,vt=ut),Ct>Pt&&(Ct=(Pt+Ct)/2,Pt=Ct);let Lt=(0,a.uZ)(C[0],ut,vt),Zt=(0,a.uZ)(C[1],Ct,Pt);if(k&&E&&j){const wt=30*j;Lt+=-wt*Math.log(1+Math.max(0,ut-C[0])/wt)+wt*Math.log(1+Math.max(0,C[0]-vt)/wt),Zt+=-wt*Math.log(1+Math.max(0,Ct-C[1])/wt)+wt*Math.log(1+Math.max(0,C[1]-Pt)/wt)}return[Lt,Zt]}}function i(S){return S}var s=o(4654),n=o(7555);function c(S,y,E,C){const j=(0,s.dz)(y)/E[0],V=(0,s.Cr)(y)/E[1];return C?Math.min(S,Math.max(j,V)):Math.min(S,Math.min(j,V))}function r(S,y,E){let C=Math.min(S,y);return C*=Math.log(1+50*Math.max(0,S/y-1))/50+1,E&&(C=Math.max(C,E),C/=Math.log(1+50*Math.max(0,E/S-1))/50+1),(0,a.uZ)(C,E/2,2*y)}function g(S,y,E,C,j){return E=void 0===E||E,function(V,k,et,Q){if(void 0!==V){const gt=C?c(S,C,et,j):S;return E&&Q?r(V,gt,y):(0,a.uZ)(V,y,gt)}}}var l=o(1781),p=o(3906),h=o(3710);function O(S,y){setTimeout(function(){S(y)},0)}function b(S,y,E,C,j){const V=Math.cos(-j);let k=Math.sin(-j),et=S[0]*V-S[1]*k,Q=S[1]*V+S[0]*k;return et+=(y[0]/2-E[0])*C,Q+=(E[1]-y[1]/2)*C,k=-k,[et*V-Q*k,Q*V+et*k]}const z=class N extends M.Z{constructor(y){super(),y=Object.assign({},y),this.hints_=[0,0],this.animations_=[],this.projection_=(0,m.UQ)(y.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.nextCenter_=null,this.cancelAnchor_=void 0,y.projection&&(0,m.h_)(),y.center&&(y.center=(0,m.Vs)(y.center,this.projection_)),y.extent&&(y.extent=(0,m.dY)(y.extent,this.projection_)),this.applyOptions_(y)}applyOptions_(y){const E=Object.assign({},y);for(const et in A)delete E[et];this.setProperties(E,!0);const C=function L(S){let y,E,C,k=void 0!==S.minZoom?S.minZoom:0,et=void 0!==S.maxZoom?S.maxZoom:28;const Q=void 0!==S.zoomFactor?S.zoomFactor:2,gt=void 0!==S.multiWorld&&S.multiWorld,tt=void 0===S.smoothResolutionConstraint||S.smoothResolutionConstraint,rt=void 0!==S.showFullExtent&&S.showFullExtent,ut=(0,m.UQ)(S.projection,"EPSG:3857"),vt=ut.getExtent();let Ct=S.constrainOnlyCenter,Pt=S.extent;if(!gt&&!Pt&&ut.isGlobal()&&(Ct=!1,Pt=vt),void 0!==S.resolutions){const Lt=S.resolutions;E=Lt[k],C=void 0!==Lt[et]?Lt[et]:Lt[Lt.length-1],y=S.constrainResolution?function d(S,y,E,C){return y=void 0===y||y,function(j,V,k,et){if(void 0!==j){const Q=S[0],gt=S[S.length-1],tt=E?c(Q,E,k,C):Q;if(et)return y?r(j,tt,gt):(0,a.uZ)(j,gt,tt);const rt=Math.min(tt,j),ut=Math.floor((0,n.h7)(S,rt,V));return S[ut]>tt&&ut<S.length-1?S[ut+1]:S[ut]}}}(Lt,tt,!Ct&&Pt,rt):g(E,C,tt,!Ct&&Pt,rt)}else{const Zt=(vt?Math.max((0,s.dz)(vt),(0,s.Cr)(vt)):360*m.Wm.degrees/ut.getMetersPerUnit())/x.S/Math.pow(2,0),wt=Zt/Math.pow(2,28);E=S.maxResolution,void 0!==E?k=0:E=Zt/Math.pow(Q,k),C=S.minResolution,void 0===C&&(C=void 0!==S.maxZoom?void 0!==S.maxResolution?E/Math.pow(Q,et):Zt/Math.pow(Q,et):wt),et=k+Math.floor(Math.log(E/C)/Math.log(Q)),C=E/Math.pow(Q,et-k),y=S.constrainResolution?function T(S,y,E,C,j,V){return C=void 0===C||C,E=void 0!==E?E:0,function(k,et,Q,gt){if(void 0!==k){const tt=j?c(y,j,Q,V):y;if(gt)return C?r(k,tt,E):(0,a.uZ)(k,E,tt);const rt=1e-9,ut=Math.ceil(Math.log(y/tt)/Math.log(S)-rt),vt=-et*(.5-rt)+.5,Ct=Math.min(tt,k),Pt=Math.floor(Math.log(y/Ct)/Math.log(S)+vt),Lt=Math.max(ut,Pt),Zt=y/Math.pow(S,Lt);return(0,a.uZ)(Zt,E,tt)}}}(Q,E,C,tt,!Ct&&Pt,rt):g(E,C,tt,!Ct&&Pt,rt)}return{constraint:y,maxResolution:E,minResolution:C,minZoom:k,zoomFactor:Q}}(y);this.maxResolution_=C.maxResolution,this.minResolution_=C.minResolution,this.zoomFactor_=C.zoomFactor,this.resolutions_=y.resolutions,this.padding_=y.padding,this.minZoom_=C.minZoom;const j=function Z(S){if(void 0!==S.extent)return e(S.extent,S.constrainOnlyCenter,void 0===S.smoothExtentConstraint||S.smoothExtentConstraint);const y=(0,m.UQ)(S.projection,"EPSG:3857");if(!0!==S.multiWorld&&y.isGlobal()){const E=y.getExtent().slice();return E[0]=-1/0,E[2]=1/0,e(E,!1,!1)}return i}(y),V=C.constraint,k=function K(S){if(void 0===S.enableRotation||S.enableRotation){const E=S.constrainRotation;return void 0===E||!0===E?(0,l.Gw)():!1===E?l.YP:"number"==typeof E?(0,l.gE)(E):l.YP}return l.h$}(y);this.constraints_={center:j,resolution:V,rotation:k},this.setRotation(void 0!==y.rotation?y.rotation:0),this.setCenterInternal(void 0!==y.center?y.center:null),void 0!==y.resolution?this.setResolution(y.resolution):void 0!==y.zoom&&this.setZoom(y.zoom)}get padding(){return this.padding_}set padding(y){let E=this.padding_;this.padding_=y;const C=this.getCenterInternal();if(C){const j=y||[0,0,0,0];E=E||[0,0,0,0];const V=this.getResolution();this.setCenterInternal([C[0]+V/2*(j[3]-E[3]+E[1]-j[1]),C[1]-V/2*(j[0]-E[0]+E[2]-j[2])])}}getUpdatedOptions_(y){const E=this.getProperties();return void 0!==E.resolution?E.resolution=this.getResolution():E.zoom=this.getZoom(),E.center=this.getCenterInternal(),E.rotation=this.getRotation(),Object.assign({},E,y)}animate(y){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const E=new Array(arguments.length);for(let C=0;C<E.length;++C){let j=arguments[C];j.center&&(j=Object.assign({},j),j.center=(0,m.Vs)(j.center,this.getProjection())),j.anchor&&(j=Object.assign({},j),j.anchor=(0,m.Vs)(j.anchor,this.getProjection())),E[C]=j}this.animateInternal.apply(this,E)}animateInternal(y){let C,E=arguments.length;E>1&&"function"==typeof arguments[E-1]&&(C=arguments[E-1],--E);let j=0;for(;j<E&&!this.isDef();++j){const tt=arguments[j];tt.center&&this.setCenterInternal(tt.center),void 0!==tt.zoom?this.setZoom(tt.zoom):tt.resolution&&this.setResolution(tt.resolution),void 0!==tt.rotation&&this.setRotation(tt.rotation)}if(j===E)return void(C&&O(C,!0));let V=Date.now(),k=this.targetCenter_.slice(),et=this.targetResolution_,Q=this.targetRotation_;const gt=[];for(;j<E;++j){const tt=arguments[j],rt={start:V,complete:!1,anchor:tt.anchor,duration:void 0!==tt.duration?tt.duration:1e3,easing:tt.easing||p.rd,callback:C};if(tt.center&&(rt.sourceCenter=k,rt.targetCenter=tt.center.slice(),k=rt.targetCenter),void 0!==tt.zoom?(rt.sourceResolution=et,rt.targetResolution=this.getResolutionForZoom(tt.zoom),et=rt.targetResolution):tt.resolution&&(rt.sourceResolution=et,rt.targetResolution=tt.resolution,et=rt.targetResolution),void 0!==tt.rotation){rt.sourceRotation=Q;const ut=(0,a.$W)(tt.rotation-Q+Math.PI,2*Math.PI)-Math.PI;rt.targetRotation=Q+ut,Q=rt.targetRotation}(S=rt).sourceCenter&&S.targetCenter&&!(0,f.fS)(S.sourceCenter,S.targetCenter)||S.sourceResolution!==S.targetResolution||S.sourceRotation!==S.targetRotation?V+=rt.duration:rt.complete=!0,gt.push(rt)}var S;this.animations_.push(gt),this.setHint(I.Z.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[I.Z.ANIMATING]>0}getInteracting(){return this.hints_[I.Z.INTERACTING]>0}cancelAnimations(){let y;this.setHint(I.Z.ANIMATING,-this.hints_[I.Z.ANIMATING]);for(let E=0,C=this.animations_.length;E<C;++E){const j=this.animations_[E];if(j[0].callback&&O(j[0].callback,!1),!y)for(let V=0,k=j.length;V<k;++V){const et=j[V];if(!et.complete){y=et.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=y,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const y=Date.now();let E=!1;for(let C=this.animations_.length-1;C>=0;--C){const j=this.animations_[C];let V=!0;for(let k=0,et=j.length;k<et;++k){const Q=j[k];if(Q.complete)continue;let tt=Q.duration>0?(y-Q.start)/Q.duration:1;tt>=1?(Q.complete=!0,tt=1):V=!1;const rt=Q.easing(tt);if(Q.sourceCenter){const ut=Q.sourceCenter[0],vt=Q.sourceCenter[1],Ct=Q.targetCenter[0],Pt=Q.targetCenter[1];this.nextCenter_=Q.targetCenter,this.targetCenter_=[ut+rt*(Ct-ut),vt+rt*(Pt-vt)]}if(Q.sourceResolution&&Q.targetResolution){const ut=1===rt?Q.targetResolution:Q.sourceResolution+rt*(Q.targetResolution-Q.sourceResolution);if(Q.anchor){const vt=this.getViewportSize_(this.getRotation()),Ct=this.constraints_.resolution(ut,0,vt,!0);this.targetCenter_=this.calculateCenterZoom(Ct,Q.anchor)}this.nextResolution_=Q.targetResolution,this.targetResolution_=ut,this.applyTargetState_(!0)}if(void 0!==Q.sourceRotation&&void 0!==Q.targetRotation){const ut=1===rt?(0,a.$W)(Q.targetRotation+Math.PI,2*Math.PI)-Math.PI:Q.sourceRotation+rt*(Q.targetRotation-Q.sourceRotation);if(Q.anchor){const vt=this.constraints_.rotation(ut,!0);this.targetCenter_=this.calculateCenterRotate(vt,Q.anchor)}this.nextRotation_=Q.targetRotation,this.targetRotation_=ut}if(this.applyTargetState_(!0),E=!0,!Q.complete)break}if(V){this.animations_[C]=null,this.setHint(I.Z.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const k=j[0].callback;k&&O(k,!0)}}this.animations_=this.animations_.filter(Boolean),E&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(y,E){let C;const j=this.getCenterInternal();return void 0!==j&&(C=[j[0]-E[0],j[1]-E[1]],(0,f.U1)(C,y-this.getRotation()),(0,f.IH)(C,E)),C}calculateCenterZoom(y,E){let C;const j=this.getCenterInternal(),V=this.getResolution();return void 0!==j&&void 0!==V&&(C=[E[0]-y*(E[0]-j[0])/V,E[1]-y*(E[1]-j[1])/V]),C}getViewportSize_(y){const E=this.viewportSize_;if(y){const C=E[0],j=E[1];return[Math.abs(C*Math.cos(y))+Math.abs(j*Math.sin(y)),Math.abs(C*Math.sin(y))+Math.abs(j*Math.cos(y))]}return E}setViewportSize(y){this.viewportSize_=Array.isArray(y)?y.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const y=this.getCenterInternal();return y&&(0,m.lO)(y,this.getProjection())}getCenterInternal(){return this.get(A.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(y){return void 0!==y?(y[0]=this.hints_[0],y[1]=this.hints_[1],y):this.hints_.slice()}calculateExtent(y){const E=this.calculateExtentInternal(y);return(0,m.Fj)(E,this.getProjection())}calculateExtentInternal(y){y=y||this.getViewportSizeMinusPadding_();const E=this.getCenterInternal();(0,u.h)(E,1);const C=this.getResolution();(0,u.h)(void 0!==C,2);const j=this.getRotation();return(0,u.h)(void 0!==j,3),(0,s.p8)(E,C,j,y)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(y){this.applyOptions_(this.getUpdatedOptions_({maxZoom:y}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(y){this.applyOptions_(this.getUpdatedOptions_({minZoom:y}))}setConstrainResolution(y){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:y}))}getProjection(){return this.projection_}getResolution(){return this.get(A.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(y,E){return this.getResolutionForExtentInternal((0,m.dY)(y,this.getProjection()),E)}getResolutionForExtentInternal(y,E){E=E||this.getViewportSizeMinusPadding_();const C=(0,s.dz)(y)/E[0],j=(0,s.Cr)(y)/E[1];return Math.max(C,j)}getResolutionForValueFunction(y){y=y||2;const E=this.getConstrainedResolution(this.maxResolution_),j=Math.log(E/this.minResolution_)/Math.log(y);return function(V){return E/Math.pow(y,V*j)}}getRotation(){return this.get(A.ROTATION)}getValueForResolutionFunction(y){const E=Math.log(y||2),C=this.getConstrainedResolution(this.maxResolution_),V=Math.log(C/this.minResolution_)/E;return function(k){return Math.log(C/k)/E/V}}getViewportSizeMinusPadding_(y){let E=this.getViewportSize_(y);const C=this.padding_;return C&&(E=[E[0]-C[1]-C[3],E[1]-C[0]-C[2]]),E}getState(){const y=this.getProjection(),E=this.getResolution(),C=this.getRotation();let j=this.getCenterInternal();const V=this.padding_;if(V){const k=this.getViewportSizeMinusPadding_();j=b(j,this.getViewportSize_(),[k[0]/2+V[3],k[1]/2+V[0]],E,C)}return{center:j.slice(0),projection:void 0!==y?y:null,resolution:E,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:C,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let y;const E=this.getResolution();return void 0!==E&&(y=this.getZoomForResolution(E)),y}getZoomForResolution(y){let C,j,E=this.minZoom_||0;if(this.resolutions_){const V=(0,n.h7)(this.resolutions_,y,1);E=V,C=this.resolutions_[V],j=V==this.resolutions_.length-1?2:C/this.resolutions_[V+1]}else C=this.maxResolution_,j=this.zoomFactor_;return E+Math.log(C/y)/Math.log(j)}getResolutionForZoom(y){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const E=(0,a.uZ)(Math.floor(y),0,this.resolutions_.length-2);return this.resolutions_[E]/Math.pow(this.resolutions_[E]/this.resolutions_[E+1],(0,a.uZ)(y-E,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,y-this.minZoom_)}fit(y,E){let C;if((0,u.h)(Array.isArray(y)||"function"==typeof y.getSimplifiedGeometry,24),Array.isArray(y)){(0,u.h)(!(0,s.xb)(y),25);const j=(0,m.dY)(y,this.getProjection());C=(0,h.oJ)(j)}else if("Circle"===y.getType()){const j=(0,m.dY)(y.getExtent(),this.getProjection());C=(0,h.oJ)(j),C.rotate(this.getRotation(),(0,s.qg)(j))}else{const j=(0,m.Cs)();C=j?y.clone().transform(j,this.getProjection()):y}this.fitInternal(C,E)}rotatedExtentForGeometry(y){const E=this.getRotation(),C=Math.cos(E),j=Math.sin(-E),V=y.getFlatCoordinates(),k=y.getStride();let et=1/0,Q=1/0,gt=-1/0,tt=-1/0;for(let rt=0,ut=V.length;rt<ut;rt+=k){const vt=V[rt]*C-V[rt+1]*j,Ct=V[rt]*j+V[rt+1]*C;et=Math.min(et,vt),Q=Math.min(Q,Ct),gt=Math.max(gt,vt),tt=Math.max(tt,Ct)}return[et,Q,gt,tt]}fitInternal(y,E){let C=(E=E||{}).size;C||(C=this.getViewportSizeMinusPadding_());const j=void 0!==E.padding?E.padding:[0,0,0,0],V=void 0!==E.nearest&&E.nearest;let k;k=void 0!==E.minResolution?E.minResolution:void 0!==E.maxZoom?this.getResolutionForZoom(E.maxZoom):0;const et=this.rotatedExtentForGeometry(y);let Q=this.getResolutionForExtentInternal(et,[C[0]-j[1]-j[3],C[1]-j[0]-j[2]]);Q=isNaN(Q)?k:Math.max(Q,k),Q=this.getConstrainedResolution(Q,V?0:1);const gt=this.getRotation(),tt=Math.sin(gt),rt=Math.cos(gt),ut=(0,s.qg)(et);ut[0]+=(j[1]-j[3])/2*Q,ut[1]+=(j[0]-j[2])/2*Q;const Pt=this.getConstrainedCenter([ut[0]*rt-ut[1]*tt,ut[1]*rt+ut[0]*tt],Q),Lt=E.callback?E.callback:R.Zn;void 0!==E.duration?this.animateInternal({resolution:Q,center:Pt,duration:E.duration,easing:E.easing},Lt):(this.targetResolution_=Q,this.targetCenter_=Pt,this.applyTargetState_(!1,!0),O(Lt,!0))}centerOn(y,E,C){this.centerOnInternal((0,m.Vs)(y,this.getProjection()),E,C)}centerOnInternal(y,E,C){this.setCenterInternal(b(y,E,C,this.getResolution(),this.getRotation()))}calculateCenterShift(y,E,C,j){let V;const k=this.padding_;if(k&&y){const et=this.getViewportSizeMinusPadding_(-C),Q=b(y,j,[et[0]/2+k[3],et[1]/2+k[0]],E,C);V=[y[0]-Q[0],y[1]-Q[1]]}return V}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(y){const E=(0,m.lO)(this.targetCenter_,this.getProjection());this.setCenter([E[0]+y[0],E[1]+y[1]])}adjustCenterInternal(y){const E=this.targetCenter_;this.setCenterInternal([E[0]+y[0],E[1]+y[1]])}adjustResolution(y,E){E=E&&(0,m.Vs)(E,this.getProjection()),this.adjustResolutionInternal(y,E)}adjustResolutionInternal(y,E){const C=this.getAnimating()||this.getInteracting(),j=this.getViewportSize_(this.getRotation()),V=this.constraints_.resolution(this.targetResolution_*y,0,j,C);E&&(this.targetCenter_=this.calculateCenterZoom(V,E)),this.targetResolution_*=y,this.applyTargetState_()}adjustZoom(y,E){this.adjustResolution(Math.pow(this.zoomFactor_,-y),E)}adjustRotation(y,E){E&&(E=(0,m.Vs)(E,this.getProjection())),this.adjustRotationInternal(y,E)}adjustRotationInternal(y,E){const C=this.getAnimating()||this.getInteracting(),j=this.constraints_.rotation(this.targetRotation_+y,C);E&&(this.targetCenter_=this.calculateCenterRotate(j,E)),this.targetRotation_+=y,this.applyTargetState_()}setCenter(y){this.setCenterInternal(y&&(0,m.Vs)(y,this.getProjection()))}setCenterInternal(y){this.targetCenter_=y,this.applyTargetState_()}setHint(y,E){return this.hints_[y]+=E,this.changed(),this.hints_[y]}setResolution(y){this.targetResolution_=y,this.applyTargetState_()}setRotation(y){this.targetRotation_=y,this.applyTargetState_()}setZoom(y){this.setResolution(this.getResolutionForZoom(y))}applyTargetState_(y,E){const C=this.getAnimating()||this.getInteracting()||E,j=this.constraints_.rotation(this.targetRotation_,C),V=this.getViewportSize_(j),k=this.constraints_.resolution(this.targetResolution_,0,V,C),et=this.constraints_.center(this.targetCenter_,k,V,C,this.calculateCenterShift(this.targetCenter_,k,j,V));this.get(A.ROTATION)!==j&&this.set(A.ROTATION,j),this.get(A.RESOLUTION)!==k&&(this.set(A.RESOLUTION,k),this.set("zoom",this.getZoom(),!0)),(!et||!this.get(A.CENTER)||!(0,f.fS)(this.get(A.CENTER),et))&&this.set(A.CENTER,et),this.getAnimating()&&!y&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(y,E,C){y=void 0!==y?y:200;const j=E||0,V=this.constraints_.rotation(this.targetRotation_),k=this.getViewportSize_(V),et=this.constraints_.resolution(this.targetResolution_,j,k),Q=this.constraints_.center(this.targetCenter_,et,k,!1,this.calculateCenterShift(this.targetCenter_,et,V,k));if(0===y&&!this.cancelAnchor_)return this.targetResolution_=et,this.targetRotation_=V,this.targetCenter_=Q,void this.applyTargetState_();C=C||(0===y?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==et||this.getRotation()!==V||!this.getCenterInternal()||!(0,f.fS)(this.getCenterInternal(),Q))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:V,center:Q,resolution:et,duration:y,easing:p.Vv,anchor:C}))}beginInteraction(){this.resolveConstraints(0),this.setHint(I.Z.INTERACTING,1)}endInteraction(y,E,C){C=C&&(0,m.Vs)(C,this.getProjection()),this.endInteractionInternal(y,E,C)}endInteractionInternal(y,E,C){this.getInteracting()&&(this.setHint(I.Z.INTERACTING,-1),this.resolveConstraints(y,E,C))}getConstrainedCenter(y,E){const C=this.getViewportSize_(this.getRotation());return this.constraints_.center(y,E||this.getResolution(),C)}getConstrainedZoom(y,E){const C=this.getResolutionForZoom(y);return this.getZoomForResolution(this.getConstrainedResolution(C,E))}getConstrainedResolution(y,E){E=E||0;const C=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(y,E,C)}}},5329:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>M});const M={ANIMATING:0,INTERACTING:1}},7555:(ht,X,o)=>{"use strict";function M(e,i,s){let n,c;s=s||I;let r=0,d=e.length,T=!1;for(;r<d;)n=r+(d-r>>1),c=+s(e[n],i),c<0?r=n+1:(d=n,T=!c);return T?r:~r}function I(e,i){return e>i?1:e<i?-1:0}function A(e,i,s){if(e[0]<=i)return 0;const n=e.length;if(i<=e[n-1])return n-1;if("function"==typeof s){for(let c=1;c<n;++c){const r=e[c];if(r===i)return c;if(r<i)return s(i,e[c-1],r)>0?c-1:c}return n-1}if(s>0){for(let c=1;c<n;++c)if(e[c]<i)return c-1;return n-1}if(s<0){for(let c=1;c<n;++c)if(e[c]<=i)return c;return n-1}for(let c=1;c<n;++c){if(e[c]==i)return c;if(e[c]<i)return e[c-1]-i<i-e[c]?c-1:c}return n-1}function x(e,i,s){for(;i<s;){const n=e[i];e[i]=e[s],e[s]=n,++i,--s}}function m(e,i){const s=Array.isArray(i)?i:[i],n=s.length;for(let c=0;c<n;c++)e[e.length]=s[c]}function f(e,i){const s=e.length;if(s!==i.length)return!1;for(let n=0;n<s;n++)if(e[n]!==i[n])return!1;return!0}function a(e,i,s){const n=i||I;return e.every(function(c,r){if(0===r)return!0;const d=n(e[r-1],c);return!(d>0||s&&0===d)})}o.d(X,{FZ:()=>x,fS:()=>f,h7:()=>A,j2:()=>I,l7:()=>m,pT:()=>a,ry:()=>M})},2780:(ht,X,o)=>{"use strict";o.d(X,{h:()=>I});var M=o(2259);function I(A,x){if(!A)throw new M.Z(x)}},9145:(ht,X,o)=>{"use strict";o.d(X,{BB:()=>i,XC:()=>m,_2:()=>u});var M=o(2780),I=o(3469);const A=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,x=/^([a-z]*)$|^hsla?\(.*\)$/i;function m(n){return"string"==typeof n?n:i(n)}const f=function(){const c={};let r=0;return function(d){let T;if(c.hasOwnProperty(d))T=c[d];else{if(r>=1024){let g=0;for(const l in c)3&g++||(delete c[l],--r)}T=function a(n){let c,r,d,T,g;if(x.exec(n)&&(n=function R(n){const c=document.createElement("div");if(c.style.color=n,""!==c.style.color){document.body.appendChild(c);const r=getComputedStyle(c).color;return document.body.removeChild(c),r}return""}(n)),A.exec(n)){const l=n.length-1;let p;p=l<=4?1:2;const h=4===l||8===l;c=parseInt(n.substr(1+0*p,p),16),r=parseInt(n.substr(1+1*p,p),16),d=parseInt(n.substr(1+2*p,p),16),T=h?parseInt(n.substr(1+3*p,p),16):255,1==p&&(c=(c<<4)+c,r=(r<<4)+r,d=(d<<4)+d,h&&(T=(T<<4)+T)),g=[c,r,d,T/255]}else n.startsWith("rgba(")?(g=n.slice(5,-1).split(",").map(Number),e(g)):n.startsWith("rgb(")?(g=n.slice(4,-1).split(",").map(Number),g.push(1),e(g)):(0,M.h)(!1,14);return g}(d),c[d]=T,++r}return T}}();function u(n){return Array.isArray(n)?n:f(n)}function e(n){return n[0]=(0,I.uZ)(n[0]+.5|0,0,255),n[1]=(0,I.uZ)(n[1]+.5|0,0,255),n[2]=(0,I.uZ)(n[2]+.5|0,0,255),n[3]=(0,I.uZ)(n[3],0,1),n}function i(n){let c=n[0];c!=(0|c)&&(c=c+.5|0);let r=n[1];r!=(0|r)&&(r=r+.5|0);let d=n[2];return d!=(0|d)&&(d=d+.5|0),"rgba("+c+","+r+","+d+","+(void 0===n[3]?1:Math.round(100*n[3])/100)+")"}},9886:(ht,X,o)=>{"use strict";o.d(X,{y:()=>I});var M=o(9145);function I(A){return Array.isArray(A)?(0,M.BB)(A):A}},9608:(ht,X,o)=>{"use strict";o.d(X,{ZK:()=>m});const M={info:1,warn:2,error:3,none:4};let I=M.info;function m(...f){I>M.warn||console.warn(...f)}},722:(ht,X,o)=>{"use strict";o.d(X,{Bs:()=>n,Cf:()=>d,Ed:()=>A,IH:()=>I,TE:()=>s,U1:()=>a,bA:()=>e,bI:()=>i,fS:()=>u,oL:()=>x});var M=o(4654);function I(g,l){return g[0]+=+l[0],g[1]+=+l[1],g}function A(g,l){const p=l.getRadius(),h=l.getCenter(),P=h[0],N=h[1];let L=g[0]-P;const K=g[1]-N;0===L&&0===K&&(L=1);const D=Math.sqrt(L*L+K*K);return[P+p*L/D,N+p*K/D]}function x(g,l){const P=l[0],N=l[1],O=P[0],Z=P[1],L=N[0],K=N[1],D=L-O,b=K-Z,z=0===D&&0===b?0:(D*(g[0]-O)+b*(g[1]-Z))/(D*D+b*b||0);let S,y;return z<=0?(S=O,y=Z):z>=1?(S=L,y=K):(S=O+z*D,y=Z+z*b),[S,y]}function u(g,l){let p=!0;for(let h=g.length-1;h>=0;--h)if(g[h]!=l[h]){p=!1;break}return p}function a(g,l){const p=Math.cos(l),h=Math.sin(l),N=g[1]*p+g[0]*h;return g[0]=g[0]*p-g[1]*h,g[1]=N,g}function e(g,l){return g[0]*=l,g[1]*=l,g}function i(g,l){const p=g[0]-l[0],h=g[1]-l[1];return p*p+h*h}function s(g,l){return Math.sqrt(i(g,l))}function n(g,l){return i(g,x(g,l))}function d(g,l){if(l.canWrapX()){const p=(0,M.dz)(l.getExtent()),h=function T(g,l,p){const h=l.getExtent();let P=0;return l.canWrapX()&&(g[0]<h[0]||g[0]>h[2])&&(p=p||(0,M.dz)(h),P=Math.floor((g[0]-h[0])/p)),P}(g,l,p);h&&(g[0]-=h*p)}return g}},4096:(ht,X,o)=>{"use strict";o.d(X,{$A:()=>I,XV:()=>A,hN:()=>R,hg:()=>m,oj:()=>M,p:()=>a});const M="ol-hidden",I="ol-selectable",A="ol-unselectable",m="ol-control",R="ol-collapsed",f=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),u=["style","variant","weight","size","lineHeight","family"],a=function(e){const i=e.match(f);if(!i)return null;const s={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let n=0,c=u.length;n<c;++n){const r=i[n+1];void 0!==r&&(s[u[n]]=r)}return s.families=s.family.split(/,\s?/),s}},7120:(ht,X,o)=>{"use strict";o.d(X,{$H:()=>R,E4:()=>I,Pb:()=>m,ZF:()=>f,ep:()=>u,hF:()=>a,iO:()=>x,jy:()=>A});var M=o(9365);function I(e,i,s,n){let c;return c=s&&s.length?s.shift():M.Id?new OffscreenCanvas(e||300,i||300):document.createElement("canvas"),e&&(c.width=e),i&&(c.height=i),c.getContext("2d",n)}function A(e){const i=e.canvas;i.width=1,i.height=1,e.clearRect(0,0,1,1)}function x(e){let i=e.offsetWidth;const s=getComputedStyle(e);return i+=parseInt(s.marginLeft,10)+parseInt(s.marginRight,10),i}function m(e){let i=e.offsetHeight;const s=getComputedStyle(e);return i+=parseInt(s.marginTop,10)+parseInt(s.marginBottom,10),i}function R(e,i){const s=i.parentNode;s&&s.replaceChild(e,i)}function f(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function u(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function a(e,i){const s=e.childNodes;for(let n=0;;++n){const c=s[n],r=i[n];if(!c&&!r)break;if(c!==r){if(!c){e.appendChild(r);continue}if(!r){e.removeChild(c),--n;continue}e.insertBefore(r,c)}}}},3906:(ht,X,o)=>{"use strict";function M(R){return Math.pow(R,3)}function I(R){return 1-M(1-R)}function A(R){return 3*R*R-2*R*R*R}function x(R){return R}o.d(X,{GE:()=>x,Vv:()=>I,YQ:()=>M,rd:()=>A})},7796:(ht,X,o)=>{"use strict";o.d(X,{Vx:()=>A,bN:()=>x,oL:()=>I});var M=o(925);function I(m,R,f,u,a){if(u&&u!==m&&(f=f.bind(u)),a){const i=f;f=function(){m.removeEventListener(R,f),i.apply(this,arguments)}}const e={target:m,type:R,listener:f};return m.addEventListener(R,f),e}function A(m,R,f,u){return I(m,R,f,u,!0)}function x(m){m&&m.target&&(m.target.removeEventListener(m.type,m.listener),(0,M.Z)(m))}},9395:(ht,X,o)=>{"use strict";o.d(X,{ZP:()=>x});const x=class M{constructor(R){this.type=R,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}},8688:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>M});const M={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},9078:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>R});var M=o(9511),I=o(9395),A=o(589),x=o(925);const R=class m extends M.Z{constructor(u){super(),this.eventTarget_=u,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(u,a){if(!u||!a)return;const e=this.listeners_||(this.listeners_={}),i=e[u]||(e[u]=[]);i.includes(a)||i.push(a)}dispatchEvent(u){const a="string"==typeof u,e=a?u:u.type,i=this.listeners_&&this.listeners_[e];if(!i)return;const s=a?new I.ZP(u):u;s.target||(s.target=this.eventTarget_||this);const n=this.dispatching_||(this.dispatching_={}),c=this.pendingRemovals_||(this.pendingRemovals_={});let r;e in n||(n[e]=0,c[e]=0),++n[e];for(let d=0,T=i.length;d<T;++d)if(r="handleEvent"in i[d]?i[d].handleEvent(s):i[d].call(this,s),!1===r||s.propagationStopped){r=!1;break}if(0==--n[e]){let d=c[e];for(delete c[e];d--;)this.removeEventListener(e,A.Zn);delete n[e]}return r}disposeInternal(){this.listeners_&&(0,x.Z)(this.listeners_)}getListeners(u){return this.listeners_&&this.listeners_[u]||void 0}hasListener(u){return!!this.listeners_&&(u?u in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(u,a){const e=this.listeners_&&this.listeners_[u];if(e){const i=e.indexOf(a);-1!==i&&(this.pendingRemovals_&&u in this.pendingRemovals_?(e[i]=A.Zn,++this.pendingRemovals_[u]):(e.splice(i,1),0===e.length&&delete this.listeners_[u]))}}}},8995:(ht,X,o)=>{"use strict";o.d(X,{$6:()=>m,Bx:()=>e,Fi:()=>n,Kf:()=>r,Ko:()=>R,QL:()=>h,TN:()=>p,Xp:()=>O,aj:()=>f,rM:()=>T,v8:()=>s,vY:()=>l,yZ:()=>a});var M=o(6560),I=o(589),A=o(9365),x=o(2780);function m(Z){const L=arguments;return function(K){let D=!0;for(let b=0,z=L.length;b<z&&(D=D&&L[b](K),D);++b);return D}}const R=function(Z){const L=Z.originalEvent;return L.altKey&&!(L.metaKey||L.ctrlKey)&&!L.shiftKey},f=function(Z){const L=Z.originalEvent;return L.altKey&&!(L.metaKey||L.ctrlKey)&&L.shiftKey},a=function(Z){return!Z.map.getTargetElement().hasAttribute("tabindex")||function(Z){const L=Z.map.getTargetElement(),K=Z.map.getOwnerDocument().activeElement;return L.contains(K)}(Z)},e=I.uX,s=function(Z){const L=Z.originalEvent;return 0==L.button&&!(A.G$&&A.tK&&L.ctrlKey)},n=I.Dv,r=function(Z){return Z.type==M.Z.SINGLECLICK},T=function(Z){const L=Z.originalEvent;return!L.altKey&&!(L.metaKey||L.ctrlKey)&&!L.shiftKey},l=function(Z){const L=Z.originalEvent;return!L.altKey&&!(L.metaKey||L.ctrlKey)&&L.shiftKey},p=function(Z){const L=Z.originalEvent,K=L.target.tagName;return"INPUT"!==K&&"SELECT"!==K&&"TEXTAREA"!==K&&!L.target.isContentEditable},h=function(Z){const L=Z.originalEvent;return(0,x.h)(void 0!==L,56),"mouse"==L.pointerType},O=function(Z){const L=Z.originalEvent;return(0,x.h)(void 0!==L,56),L.isPrimary&&0===L.button}},4654:(ht,X,o)=>{"use strict";o.d(X,{Cf:()=>Kt,Cr:()=>V,EO:()=>Pt,Ed:()=>et,GN:()=>T,H6:()=>K,HK:()=>r,I7:()=>Zt,MV:()=>Wt,Ne:()=>wt,T9:()=>n,Wj:()=>P,Xv:()=>rt,YN:()=>c,b8:()=>u,bg:()=>D,d9:()=>R,dY:()=>j,dz:()=>ut,f3:()=>m,fS:()=>l,g0:()=>y,hC:()=>b,hI:()=>A,jE:()=>e,kK:()=>vt,l7:()=>h,lJ:()=>s,p8:()=>C,pX:()=>i,qP:()=>O,qf:()=>f,qg:()=>S,r4:()=>a,rL:()=>tt,w$:()=>z,xb:()=>Ct});var M=o(5552),I=o(2780);function A(w){const G=[1/0,1/0,-1/0,-1/0];for(let H=0,_t=w.length;H<_t;++H)P(G,w[H]);return G}function m(w,G,H){return H?(H[0]=w[0]-G,H[1]=w[1]-G,H[2]=w[2]+G,H[3]=w[3]+G,H):[w[0]-G,w[1]-G,w[2]+G,w[3]+G]}function R(w,G){return G?(G[0]=w[0],G[1]=w[1],G[2]=w[2],G[3]=w[3],G):w.slice()}function f(w,G,H){let _t,yt;return _t=G<w[0]?w[0]-G:w[2]<G?G-w[2]:0,yt=H<w[1]?w[1]-H:w[3]<H?H-w[3]:0,_t*_t+yt*yt}function u(w,G){return e(w,G[0],G[1])}function a(w,G){return w[0]<=G[0]&&G[2]<=w[2]&&w[1]<=G[1]&&G[3]<=w[3]}function e(w,G,H){return w[0]<=G&&G<=w[2]&&w[1]<=H&&H<=w[3]}function i(w,G){const ot=G[0],_=G[1];let U=M.Z.UNKNOWN;return ot<w[0]?U|=M.Z.LEFT:ot>w[2]&&(U|=M.Z.RIGHT),_<w[1]?U|=M.Z.BELOW:_>w[3]&&(U|=M.Z.ABOVE),U===M.Z.UNKNOWN&&(U=M.Z.INTERSECTING),U}function s(){return[1/0,1/0,-1/0,-1/0]}function n(w,G,H,_t,yt){return yt?(yt[0]=w,yt[1]=G,yt[2]=H,yt[3]=_t,yt):[w,G,H,_t]}function c(w){return n(1/0,1/0,-1/0,-1/0,w)}function r(w,G){const H=w[0],_t=w[1];return n(H,_t,H,_t,G)}function T(w,G,H,_t,yt){return O(c(yt),w,G,H,_t)}function l(w,G){return w[0]==G[0]&&w[2]==G[2]&&w[1]==G[1]&&w[3]==G[3]}function h(w,G){return G[0]<w[0]&&(w[0]=G[0]),G[2]>w[2]&&(w[2]=G[2]),G[1]<w[1]&&(w[1]=G[1]),G[3]>w[3]&&(w[3]=G[3]),w}function P(w,G){G[0]<w[0]&&(w[0]=G[0]),G[0]>w[2]&&(w[2]=G[0]),G[1]<w[1]&&(w[1]=G[1]),G[1]>w[3]&&(w[3]=G[1])}function O(w,G,H,_t,yt){for(;H<_t;H+=yt)L(w,G[H],G[H+1]);return w}function L(w,G,H){w[0]=Math.min(w[0],G),w[1]=Math.min(w[1],H),w[2]=Math.max(w[2],G),w[3]=Math.max(w[3],H)}function K(w,G){let H;return H=G(b(w)),!!(H||(H=G(z(w)),H)||(H=G(rt(w)),H)||(H=G(tt(w)),H))&&H}function D(w){let G=0;return Ct(w)||(G=ut(w)*V(w)),G}function b(w){return[w[0],w[1]]}function z(w){return[w[2],w[1]]}function S(w){return[(w[0]+w[2])/2,(w[1]+w[3])/2]}function y(w,G){let H;return"bottom-left"===G?H=b(w):"bottom-right"===G?H=z(w):"top-left"===G?H=tt(w):"top-right"===G?H=rt(w):(0,I.h)(!1,13),H}function C(w,G,H,_t,yt){const[Ot,ot,_,U,B,q,at,lt]=j(w,G,H,_t);return n(Math.min(Ot,_,B,at),Math.min(ot,U,q,lt),Math.max(Ot,_,B,at),Math.max(ot,U,q,lt),yt)}function j(w,G,H,_t){const yt=G*_t[0]/2,Ot=G*_t[1]/2,ot=Math.cos(H),_=Math.sin(H),U=yt*ot,B=yt*_,q=Ot*ot,at=Ot*_,lt=w[0],mt=w[1];return[lt-U+at,mt-B-q,lt-U-at,mt-B+q,lt+U-at,mt+B+q,lt+U+at,mt+B-q,lt-U+at,mt-B-q]}function V(w){return w[3]-w[1]}function et(w,G,H){const _t=H||[1/0,1/0,-1/0,-1/0];return vt(w,G)?(_t[0]=w[0]>G[0]?w[0]:G[0],_t[1]=w[1]>G[1]?w[1]:G[1],_t[2]=w[2]<G[2]?w[2]:G[2],_t[3]=w[3]<G[3]?w[3]:G[3]):c(_t),_t}function tt(w){return[w[0],w[3]]}function rt(w){return[w[2],w[3]]}function ut(w){return w[2]-w[0]}function vt(w,G){return w[0]<=G[2]&&w[2]>=G[0]&&w[1]<=G[3]&&w[3]>=G[1]}function Ct(w){return w[2]<w[0]||w[3]<w[1]}function Pt(w,G){return G?(G[0]=w[0],G[1]=w[1],G[2]=w[2],G[3]=w[3],G):w}function Zt(w,G,H){let _t=!1;const yt=i(w,G),Ot=i(w,H);if(yt===M.Z.INTERSECTING||Ot===M.Z.INTERSECTING)_t=!0;else{const ot=w[0],_=w[1],U=w[2],B=w[3],lt=H[0],mt=H[1],pt=(mt-G[1])/(lt-G[0]);let Et,At;Ot&M.Z.ABOVE&&!(yt&M.Z.ABOVE)&&(Et=lt-(mt-B)/pt,_t=Et>=ot&&Et<=U),!_t&&Ot&M.Z.RIGHT&&!(yt&M.Z.RIGHT)&&(At=mt-(lt-U)*pt,_t=At>=_&&At<=B),!_t&&Ot&M.Z.BELOW&&!(yt&M.Z.BELOW)&&(Et=lt-(mt-_)/pt,_t=Et>=ot&&Et<=U),!_t&&Ot&M.Z.LEFT&&!(yt&M.Z.LEFT)&&(At=mt-(lt-ot)*pt,_t=At>=_&&At<=B)}return _t}function wt(w,G,H,_t){if(Ct(w))return c(H);let yt=[];if(_t>1){const _=w[2]-w[0],U=w[3]-w[1];for(let B=0;B<_t;++B)yt.push(w[0]+_*B/_t,w[1],w[2],w[1]+U*B/_t,w[2]-_*B/_t,w[3],w[0],w[3]-U*B/_t)}else yt=[w[0],w[1],w[2],w[1],w[2],w[3],w[0],w[3]];G(yt,yt,2);const Ot=[],ot=[];for(let _=0,U=yt.length;_<U;_+=2)Ot.push(yt[_]),ot.push(yt[_+1]);return function x(w,G,H){return n(Math.min.apply(null,w),Math.min.apply(null,G),Math.max.apply(null,w),Math.max.apply(null,G),H)}(Ot,ot,H)}function Kt(w,G){const H=G.getExtent(),_t=S(w);if(G.canWrapX()&&(_t[0]<H[0]||_t[0]>=H[2])){const yt=ut(H),ot=Math.floor((_t[0]-H[0])/yt)*yt;w[0]-=ot,w[2]-=ot}return w}function Wt(w,G){if(G.canWrapX()){const H=G.getExtent();if(!isFinite(w[0])||!isFinite(w[2]))return[[H[0],w[1],H[2],w[3]]];Kt(w,G);const _t=ut(H);if(ut(w)>_t)return[[H[0],w[1],H[2],w[3]]];if(w[0]<H[0])return[[w[0]+_t,w[1],H[2],w[3]],[H[0],w[1],w[2],w[3]]];if(w[2]>H[2])return[[w[0],w[1],H[2],w[3]],[H[0],w[1],w[2]-_t,w[3]]]}return[w]}},5552:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>M});const M={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},589:(ht,X,o)=>{"use strict";o.d(X,{Dv:()=>A,Zn:()=>x,qe:()=>m,uX:()=>I});var M=o(7555);function I(){return!0}function A(){return!1}function x(){}function m(f){let a,e,i,u=!1;return function(){const s=Array.prototype.slice.call(arguments);return(!u||this!==i||!(0,M.fS)(s,e))&&(u=!0,i=this,e=s,a=f.apply(this,arguments)),a}}},5738:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>e});var M=o(1092),I=o(9070),A=o(9664),x=o(4654),m=o(5111),R=o(589),f=o(7714);const u=(0,A.Ue)(),e=class a extends M.Z{constructor(){super(),this.extent_=(0,x.lJ)(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=(0,R.qe)(function(s,n,c){if(!c)return this.getSimplifiedGeometry(n);const r=this.clone();return r.applyTransform(c),r.getSimplifiedGeometry(n)})}simplifyTransformed(s,n){return this.simplifyTransformedInternal(this.getRevision(),s,n)}clone(){return(0,I.O3)()}closestPointXY(s,n,c,r){return(0,I.O3)()}containsXY(s,n){const c=this.getClosestPoint([s,n]);return c[0]===s&&c[1]===n}getClosestPoint(s,n){return this.closestPointXY(s[0],s[1],n=n||[NaN,NaN],1/0),n}intersectsCoordinate(s){return this.containsXY(s[0],s[1])}computeExtent(s){return(0,I.O3)()}getExtent(s){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&(0,x.YN)(n),this.extentRevision_=this.getRevision()}return(0,x.EO)(this.extent_,s)}rotate(s,n){(0,I.O3)()}scale(s,n,c){(0,I.O3)()}simplify(s){return this.getSimplifiedGeometry(s*s)}getSimplifiedGeometry(s){return(0,I.O3)()}getType(){return(0,I.O3)()}applyTransform(s){(0,I.O3)()}intersectsExtent(s){return(0,I.O3)()}translate(s,n){(0,I.O3)()}transform(s,n){const c=(0,m.U2)(s),r="tile-pixels"==c.getUnits()?function(d,T,g){const l=c.getExtent(),p=c.getWorldExtent(),h=(0,x.Cr)(p)/(0,x.Cr)(l);return(0,A.qC)(u,p[0],p[3],h,-h,0,0,0),(0,f.vT)(d,0,d.length,g,u,T),(0,m.Ck)(c,n)(d,T,g)}:(0,m.Ck)(c,n);return this.applyTransform(r),this}}},5311:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>R});var M=o(3806),I=o(4654),A=o(3449),x=o(3469);class m extends M.ZP{constructor(u,a){super(),this.setCoordinates(u,a)}clone(){const u=new m(this.flatCoordinates.slice(),this.layout);return u.applyProperties(this),u}closestPointXY(u,a,e,i){const s=this.flatCoordinates,n=(0,x.bI)(u,a,s[0],s[1]);if(n<i){const c=this.stride;for(let r=0;r<c;++r)e[r]=s[r];return e.length=c,n}return i}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(u){return(0,I.HK)(this.flatCoordinates,u)}getType(){return"Point"}intersectsExtent(u){return(0,I.jE)(u,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(u,a){this.setLayout(a,u,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,A.IG)(this.flatCoordinates,0,u,this.stride),this.changed()}}const R=m},3710:(ht,X,o)=>{"use strict";o.d(X,{ZP:()=>g,Bb:()=>h,oJ:()=>p});var M=o(3806),I=o(9227),A=o(4654),x=o(3449),m=o(4340),R=o(2868),f=o(2278);class u extends M.ZP{constructor(O,Z){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===Z||Array.isArray(O[0])?this.setCoordinates(O,Z):this.setFlatCoordinates(Z,O)}clone(){return new u(this.flatCoordinates.slice(),this.layout)}closestPointXY(O,Z,L,K){return K<(0,A.qf)(this.getExtent(),O,Z)?K:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,I.Bv)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,I.H$)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,O,Z,L,K))}getArea(){return(0,f.QQ)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return(0,R.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(O){const Z=[];return Z.length=(0,m.dt)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,O,Z,0),new u(Z,"XY")}getType(){return"LinearRing"}intersectsExtent(O){return!1}setCoordinates(O,Z){this.setLayout(Z,O,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,x.Sg)(this.flatCoordinates,0,O,this.stride),this.changed()}}const a=u;var e=o(5311),i=o(7555),s=o(8835),n=o(959),c=o(4124),r=o(4817),d=o(3469);class T extends M.ZP{constructor(O,Z,L){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==Z&&L?(this.setFlatCoordinates(Z,O),this.ends_=L):this.setCoordinates(O,Z)}appendLinearRing(O){this.flatCoordinates?(0,i.l7)(this.flatCoordinates,O.getFlatCoordinates()):this.flatCoordinates=O.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const O=new T(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return O.applyProperties(this),O}closestPointXY(O,Z,L,K){return K<(0,A.qf)(this.getExtent(),O,Z)?K:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,I.Af)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,I.Xl)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,O,Z,L,K))}containsXY(O,Z){return(0,r.wY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,O,Z)}getArea(){return(0,f.KP)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(O){let Z;return void 0!==O?(Z=this.getOrientedFlatCoordinates().slice(),(0,c.zX)(Z,0,this.ends_,this.stride,O)):Z=this.flatCoordinates,(0,R.o1)(Z,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const O=(0,A.qg)(this.getExtent());this.flatInteriorPoint_=(0,s.X)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,O,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new e.Z(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(O){return O<0||this.ends_.length<=O?null:new a(this.flatCoordinates.slice(0===O?0:this.ends_[O-1],this.ends_[O]),this.layout)}getLinearRings(){const O=this.layout,Z=this.flatCoordinates,L=this.ends_,K=[];let D=0;for(let b=0,z=L.length;b<z;++b){const S=L[b],y=new a(Z.slice(D,S),O);K.push(y),D=S}return K}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const O=this.flatCoordinates;(0,c.$v)(O,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=O:(this.orientedFlatCoordinates_=O.slice(),this.orientedFlatCoordinates_.length=(0,c.zX)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(O){const Z=[],L=[];return Z.length=(0,m.Zh)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(O),Z,0,L),new T(Z,"XY",L)}getType(){return"Polygon"}intersectsExtent(O){return(0,n.ac)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,O)}setCoordinates(O,Z){this.setLayout(Z,O,2),this.flatCoordinates||(this.flatCoordinates=[]);const L=(0,x._5)(this.flatCoordinates,0,O,this.stride,this.ends_);this.flatCoordinates.length=0===L.length?0:L[L.length-1],this.changed()}}const g=T;function p(N){const O=N[0],Z=N[1],L=N[2],K=N[3],D=[O,Z,O,K,L,K,L,Z,O,Z];return new T(D,"XY",[D.length])}function h(N,O,Z){O=O||32;const L=N.getStride(),K=N.getLayout(),D=N.getCenter(),b=L*(O+1),z=new Array(b);for(let E=0;E<b;E+=L){z[E]=0,z[E+1]=0;for(let C=2;C<L;C++)z[E+C]=D[C]}const y=new T(z,K,[z.length]);return function P(N,O,Z,L){const K=N.getFlatCoordinates(),D=N.getStride(),b=K.length/D-1,z=L||0;for(let S=0;S<=b;++S){const y=S*D,E=z+2*(0,d.$W)(S,b)*Math.PI/b;K[y]=O[0]+Z*Math.cos(E),K[y+1]=O[1]+Z*Math.sin(E)}N.changed()}(y,D,N.getRadius(),Z),y}},3806:(ht,X,o)=>{"use strict";o.d(X,{Kr:()=>u,ZP:()=>a,tP:()=>f});var M=o(5738),I=o(9070),A=o(4654),x=o(7714);function f(e){let i;return"XY"==e?i=2:"XYZ"==e||"XYM"==e?i=3:"XYZM"==e&&(i=4),i}function u(e,i,s){const n=e.getFlatCoordinates();if(!n)return null;const c=e.getStride();return(0,x.vT)(n,0,n.length,c,i,s)}const a=class m extends M.Z{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(i){return(0,A.GN)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,i)}getCoordinates(){return(0,I.O3)()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(i){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),i<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&i<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const s=this.getSimplifiedGeometryInternal(i);return s.getFlatCoordinates().length<this.flatCoordinates.length?s:(this.simplifiedGeometryMaxMinSquaredTolerance=i,this)}getSimplifiedGeometryInternal(i){return this}getStride(){return this.stride}setFlatCoordinates(i,s){this.stride=f(i),this.layout=i,this.flatCoordinates=s}setCoordinates(i,s){(0,I.O3)()}setLayout(i,s,n){let c;if(i)c=f(i);else{for(let r=0;r<n;++r){if(0===s.length)return this.layout="XY",void(this.stride=2);s=s[0]}c=s.length,i=function R(e){let i;return 2==e?i="XY":3==e?i="XYZ":4==e&&(i="XYZM"),i}(c)}this.layout=i,this.stride=c}applyTransform(i){this.flatCoordinates&&(i(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(i,s){const n=this.getFlatCoordinates();if(n){const c=this.getStride();(0,x.U1)(n,0,n.length,c,i,s,n),this.changed()}}scale(i,s,n){void 0===s&&(s=i),n||(n=(0,A.qg)(this.getExtent()));const c=this.getFlatCoordinates();if(c){const r=this.getStride();(0,x.bA)(c,0,c.length,r,i,s,n,c),this.changed()}}translate(i,s){const n=this.getFlatCoordinates();if(n){const c=this.getStride();(0,x.Iu)(n,0,n.length,c,i,s,n),this.changed()}}}},2278:(ht,X,o)=>{"use strict";function M(x,m,R,f){let u=0,a=x[R-f],e=x[R-f+1];for(;m<R;m+=f){const i=x[m],s=x[m+1];u+=e*i-a*s,a=i,e=s}return u/2}function I(x,m,R,f){let u=0;for(let a=0,e=R.length;a<e;++a){const i=R[a];u+=M(x,m,i,f),m=i}return u}function A(x,m,R,f){let u=0;for(let a=0,e=R.length;a<e;++a){const i=R[a];u+=I(x,m,i,f),m=i[i.length-1]}return u}o.d(X,{Eu:()=>A,KP:()=>I,QQ:()=>M})},9227:(ht,X,o)=>{"use strict";o.d(X,{Af:()=>x,Bv:()=>A,H$:()=>R,Xl:()=>f,gI:()=>u,sD:()=>m});var M=o(3469);function I(a,e,i,s,n,c,r){const d=a[e],T=a[e+1],g=a[i]-d,l=a[i+1]-T;let p;if(0===g&&0===l)p=e;else{const h=((n-d)*g+(c-T)*l)/(g*g+l*l);if(h>1)p=i;else{if(h>0){for(let P=0;P<s;++P)r[P]=(0,M.t7)(a[e+P],a[i+P],h);return void(r.length=s)}p=e}}for(let h=0;h<s;++h)r[h]=a[p+h];r.length=s}function A(a,e,i,s,n){let c=a[e],r=a[e+1];for(e+=s;e<i;e+=s){const d=a[e],T=a[e+1],g=(0,M.bI)(c,r,d,T);g>n&&(n=g),c=d,r=T}return n}function x(a,e,i,s,n){for(let c=0,r=i.length;c<r;++c){const d=i[c];n=A(a,e,d,s,n),e=d}return n}function m(a,e,i,s,n){for(let c=0,r=i.length;c<r;++c){const d=i[c];n=x(a,e,d,s,n),e=d[d.length-1]}return n}function R(a,e,i,s,n,c,r,d,T,g,l){if(e==i)return g;let p,h;if(0===n){if(h=(0,M.bI)(r,d,a[e],a[e+1]),h<g){for(p=0;p<s;++p)T[p]=a[e+p];return T.length=s,h}return g}l=l||[NaN,NaN];let P=e+s;for(;P<i;)if(I(a,P-s,P,s,r,d,l),h=(0,M.bI)(r,d,l[0],l[1]),h<g){for(g=h,p=0;p<s;++p)T[p]=l[p];T.length=s,P+=s}else P+=s*Math.max((Math.sqrt(h)-Math.sqrt(g))/n|0,1);if(c&&(I(a,i-s,e,s,r,d,l),h=(0,M.bI)(r,d,l[0],l[1]),h<g)){for(g=h,p=0;p<s;++p)T[p]=l[p];T.length=s}return g}function f(a,e,i,s,n,c,r,d,T,g,l){l=l||[NaN,NaN];for(let p=0,h=i.length;p<h;++p){const P=i[p];g=R(a,e,P,s,n,c,r,d,T,g,l),e=P}return g}function u(a,e,i,s,n,c,r,d,T,g,l){l=l||[NaN,NaN];for(let p=0,h=i.length;p<h;++p){const P=i[p];g=f(a,e,P,s,n,c,r,d,T,g,l),e=P[P.length-1]}return g}},4817:(ht,X,o)=>{"use strict";o.d(X,{TG:()=>A,Zl:()=>m,uG:()=>I,wY:()=>x});var M=o(4654);function I(R,f,u,a,e){return!(0,M.H6)(e,function(s){return!A(R,f,u,a,s[0],s[1])})}function A(R,f,u,a,e,i){let s=0,n=R[u-a],c=R[u-a+1];for(;f<u;f+=a){const r=R[f],d=R[f+1];c<=i?d>i&&(r-n)*(i-c)-(e-n)*(d-c)>0&&s++:d<=i&&(r-n)*(i-c)-(e-n)*(d-c)<0&&s--,n=r,c=d}return 0!==s}function x(R,f,u,a,e,i){if(0===u.length||!A(R,f,u[0],a,e,i))return!1;for(let s=1,n=u.length;s<n;++s)if(A(R,u[s-1],u[s],a,e,i))return!1;return!0}function m(R,f,u,a,e,i){if(0===u.length)return!1;for(let s=0,n=u.length;s<n;++s){const c=u[s];if(x(R,f,c,a,e,i))return!0;f=c[c.length-1]}return!1}},3449:(ht,X,o)=>{"use strict";function M(m,R,f,u){for(let a=0,e=f.length;a<e;++a)m[R++]=f[a];return R}function I(m,R,f,u){for(let a=0,e=f.length;a<e;++a){const i=f[a];for(let s=0;s<u;++s)m[R++]=i[s]}return R}function A(m,R,f,u,a){a=a||[];let e=0;for(let i=0,s=f.length;i<s;++i){const n=I(m,R,f[i],u);a[e++]=n,R=n}return a.length=e,a}function x(m,R,f,u,a){a=a||[];let e=0;for(let i=0,s=f.length;i<s;++i){const n=A(m,R,f[i],u,a[e]);0===n.length&&(n[0]=R),a[e++]=n,R=n[n.length-1]}return a.length=e,a}o.d(X,{IG:()=>M,QT:()=>x,Sg:()=>I,_5:()=>A})},2868:(ht,X,o)=>{"use strict";function M(x,m,R,f,u){u=void 0!==u?u:[];let a=0;for(let e=m;e<R;e+=f)u[a++]=x.slice(e,e+f);return u.length=a,u}function I(x,m,R,f,u){u=void 0!==u?u:[];let a=0;for(let e=0,i=R.length;e<i;++e){const s=R[e];u[a++]=M(x,m,s,f,u[a]),m=s}return u.length=a,u}function A(x,m,R,f,u){u=void 0!==u?u:[];let a=0;for(let e=0,i=R.length;e<i;++e){const s=R[e];u[a++]=1===s.length&&s[0]===m?[]:I(x,m,s,f,u[a]),m=s[s.length-1]}return u.length=a,u}o.d(X,{Ml:()=>M,o1:()=>I,ug:()=>A})},8835:(ht,X,o)=>{"use strict";o.d(X,{U:()=>x,X:()=>A});var M=o(7555),I=o(4817);function A(m,R,f,u,a,e,i){let s,n,c,r,d,T,g;const l=a[e+1],p=[];for(let N=0,O=f.length;N<O;++N){const Z=f[N];for(r=m[Z-u],T=m[Z-u+1],s=R;s<Z;s+=u)d=m[s],g=m[s+1],(l<=T&&g<=l||T<=l&&l<=g)&&(c=(l-T)/(g-T)*(d-r)+r,p.push(c)),r=d,T=g}let h=NaN,P=-1/0;for(p.sort(M.j2),r=p[0],s=1,n=p.length;s<n;++s){d=p[s];const N=Math.abs(d-r);N>P&&(c=(r+d)/2,(0,I.wY)(m,R,f,u,c,l)&&(h=c,P=N)),r=d}return isNaN(h)&&(h=a[e]),i?(i.push(h,l,P),i):[h,l,P]}function x(m,R,f,u,a){let e=[];for(let i=0,s=f.length;i<s;++i){const n=f[i];e=A(m,R,n,u,a,2*i,e),R=n[n.length-1]}return e}},959:(ht,X,o)=>{"use strict";o.d(X,{AW:()=>m,Kz:()=>x,ac:()=>f,mV:()=>R,oW:()=>u});var M=o(4654),I=o(8611),A=o(4817);function x(a,e,i,s,n){const c=(0,M.qP)((0,M.lJ)(),a,e,i,s);return!!(0,M.kK)(n,c)&&(!!((0,M.r4)(n,c)||c[0]>=n[0]&&c[2]<=n[2]||c[1]>=n[1]&&c[3]<=n[3])||(0,I.E)(a,e,i,s,function(r,d){return(0,M.I7)(n,r,d)}))}function m(a,e,i,s,n){for(let c=0,r=i.length;c<r;++c){if(x(a,e,i[c],s,n))return!0;e=i[c]}return!1}function R(a,e,i,s,n){return!!(x(a,e,i,s,n)||(0,A.TG)(a,e,i,s,n[0],n[1])||(0,A.TG)(a,e,i,s,n[0],n[3])||(0,A.TG)(a,e,i,s,n[2],n[1])||(0,A.TG)(a,e,i,s,n[2],n[3]))}function f(a,e,i,s,n){if(!R(a,e,i[0],s,n))return!1;if(1===i.length)return!0;for(let c=1,r=i.length;c<r;++c)if((0,A.uG)(a,i[c-1],i[c],s,n)&&!x(a,i[c-1],i[c],s,n))return!1;return!0}function u(a,e,i,s,n){for(let c=0,r=i.length;c<r;++c){const d=i[c];if(f(a,e,d,s,n))return!0;e=d[d.length-1]}return!1}},4124:(ht,X,o)=>{"use strict";function M(u,a,e,i){for(;a<e-i;){for(let s=0;s<i;++s){const n=u[a+s];u[a+s]=u[e-i+s],u[e-i+s]=n}a+=i,e-=i}}function I(u,a,e,i){let s=0,n=u[e-i],c=u[e-i+1];for(;a<e;a+=i){const r=u[a],d=u[a+1];s+=(r-n)*(d+c),n=r,c=d}return 0===s?void 0:s>0}function A(u,a,e,i,s){s=void 0!==s&&s;for(let n=0,c=e.length;n<c;++n){const r=e[n],d=I(u,a,r,i);if(0===n){if(s&&d||!s&&!d)return!1}else if(s&&!d||!s&&d)return!1;a=r}return!0}function x(u,a,e,i,s){for(let n=0,c=e.length;n<c;++n){const r=e[n];if(!A(u,a,r,i,s))return!1;r.length&&(a=r[r.length-1])}return!0}function m(u,a,e,i,s){s=void 0!==s&&s;for(let n=0,c=e.length;n<c;++n){const r=e[n],d=I(u,a,r,i);(0===n?s&&d||!s&&!d:s&&!d||!s&&d)&&M(u,a,r,i),a=r}return a}function R(u,a,e,i,s){for(let n=0,c=e.length;n<c;++n)a=m(u,a,e[n],i,s);return a}o.d(X,{$v:()=>A,Oj:()=>x,zX:()=>m,dL:()=>R})},8611:(ht,X,o)=>{"use strict";function M(I,A,x,m,R){let f;for(A+=m;A<x;A+=m)if(f=R(I.slice(A-m,A),I.slice(A,A+m)),f)return f;return!1}o.d(X,{E:()=>M})},4340:(ht,X,o)=>{"use strict";o.d(X,{Pp:()=>e,UJ:()=>x,Zh:()=>a,dt:()=>A,uZ:()=>f});var M=o(3469);function A(i,s,n,c,r,d,T){const g=(n-s)/c;if(g<3){for(;s<n;s+=c)d[T++]=i[s],d[T++]=i[s+1];return T}const l=new Array(g);l[0]=1,l[g-1]=1;const p=[s,n-c];let h=0;for(;p.length>0;){const P=p.pop(),N=p.pop();let O=0;const Z=i[N],L=i[N+1],K=i[P],D=i[P+1];for(let b=N+c;b<P;b+=c){const y=(0,M.rU)(i[b],i[b+1],Z,L,K,D);y>O&&(h=b,O=y)}O>r&&(l[(h-s)/c]=1,N+c<h&&p.push(N,h),h+c<P&&p.push(h,P))}for(let P=0;P<g;++P)l[P]&&(d[T++]=i[s+P*c],d[T++]=i[s+P*c+1]);return T}function x(i,s,n,c,r,d,T,g){for(let l=0,p=n.length;l<p;++l){const h=n[l];T=A(i,s,h,c,r,d,T),g.push(T),s=h}return T}function f(i,s){return s*Math.round(i/s)}function u(i,s,n,c,r,d,T){if(s==n)return T;let p,h,g=f(i[s],r),l=f(i[s+1],r);s+=c,d[T++]=g,d[T++]=l;do{if(p=f(i[s],r),h=f(i[s+1],r),(s+=c)==n)return d[T++]=p,d[T++]=h,T}while(p==g&&h==l);for(;s<n;){const P=f(i[s],r),N=f(i[s+1],r);if(s+=c,P==p&&N==h)continue;const O=p-g,Z=h-l,L=P-g,K=N-l;O*K==Z*L&&(O<0&&L<O||O==L||O>0&&L>O)&&(Z<0&&K<Z||Z==K||Z>0&&K>Z)?(p=P,h=N):(d[T++]=p,d[T++]=h,g=p,l=h,p=P,h=N)}return d[T++]=p,d[T++]=h,T}function a(i,s,n,c,r,d,T,g){for(let l=0,p=n.length;l<p;++l){const h=n[l];T=u(i,s,h,c,r,d,T),g.push(T),s=h}return T}function e(i,s,n,c,r,d,T,g){for(let l=0,p=n.length;l<p;++l){const h=n[l],P=[];T=a(i,s,h,c,r,d,T,P),g.push(P),s=h[h.length-1]}return T}},7714:(ht,X,o)=>{"use strict";function M(m,R,f,u,a,e){e=e||[];let i=0;for(let s=R;s<f;s+=u){const n=m[s],c=m[s+1];e[i++]=a[0]*n+a[2]*c+a[4],e[i++]=a[1]*n+a[3]*c+a[5]}return e&&e.length!=i&&(e.length=i),e}function I(m,R,f,u,a,e,i){i=i||[];const s=Math.cos(a),n=Math.sin(a),c=e[0],r=e[1];let d=0;for(let T=R;T<f;T+=u){const g=m[T]-c,l=m[T+1]-r;i[d++]=c+g*s-l*n,i[d++]=r+g*n+l*s;for(let p=T+2;p<T+u;++p)i[d++]=m[p]}return i&&i.length!=d&&(i.length=d),i}function A(m,R,f,u,a,e,i,s){s=s||[];const n=i[0],c=i[1];let r=0;for(let d=R;d<f;d+=u){const g=m[d+1]-c;s[r++]=n+a*(m[d]-n),s[r++]=c+e*g;for(let l=d+2;l<d+u;++l)s[r++]=m[l]}return s&&s.length!=r&&(s.length=r),s}function x(m,R,f,u,a,e,i){i=i||[];let s=0;for(let n=R;n<f;n+=u){i[s++]=m[n]+a,i[s++]=m[n+1]+e;for(let c=n+2;c<n+u;++c)i[s++]=m[c]}return i&&i.length!=s&&(i.length=s),i}o.d(X,{Iu:()=>x,U1:()=>I,bA:()=>A,vT:()=>M})},9365:(ht,X,o)=>{"use strict";o.d(X,{G$:()=>m,Id:()=>u,ME:()=>x,MP:()=>f,Tp:()=>a,V:()=>I,bM:()=>e,tK:()=>R});const M=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",I=M.includes("firefox"),x=M.includes("safari")&&!M.includes("chrom")&&(M.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(M)),m=M.includes("webkit")&&!M.includes("edge"),R=M.includes("macintosh"),f=typeof devicePixelRatio<"u"?devicePixelRatio:1,u=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,a=typeof Image<"u"&&Image.prototype.decode,e=function(){let i=!1;try{const s=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("_",null,s),window.removeEventListener("_",null,s)}catch{}return i}()},8252:(ht,X,o)=>{"use strict";o.d(X,{Cv:()=>m,FW:()=>R,ZP:()=>f});var M=o(1092),I=o(6269),A=o(3906);function m(u,a,e){const i=u.getCenterInternal();i&&u.animateInternal({duration:void 0!==e?e:250,easing:A.GE,center:u.getConstrainedCenter([i[0]+a[0],i[1]+a[1]])})}function R(u,a,e,i){const s=u.getZoom();if(void 0===s)return;const n=u.getConstrainedZoom(s+a),c=u.getResolutionForZoom(n);u.getAnimating()&&u.cancelAnimations(),u.animate({resolution:c,anchor:e,duration:void 0!==i?i:250,easing:A.Vv})}const f=class x extends M.Z{constructor(a){super(),a&&a.handleEvent&&(this.handleEvent=a.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(I.Z.ACTIVE)}getMap(){return this.map_}handleEvent(a){return!0}setActive(a){this.set(I.Z.ACTIVE,a)}setMap(a){this.map_=a}}},2624:(ht,X,o)=>{"use strict";o.d(X,{S:()=>x,Z:()=>m});var M=o(8252),I=o(6560);function x(R){const f=R.length;let u=0,a=0;for(let e=0;e<f;e++)u+=R[e].clientX,a+=R[e].clientY;return{clientX:u/f,clientY:a/f}}const m=class A extends M.ZP{constructor(f){super(f=f||{}),f.handleDownEvent&&(this.handleDownEvent=f.handleDownEvent),f.handleDragEvent&&(this.handleDragEvent=f.handleDragEvent),f.handleMoveEvent&&(this.handleMoveEvent=f.handleMoveEvent),f.handleUpEvent&&(this.handleUpEvent=f.handleUpEvent),f.stopDown&&(this.stopDown=f.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(f){return!1}handleDragEvent(f){}handleEvent(f){if(!f.originalEvent)return!0;let u=!1;if(this.updateTrackedPointers_(f),this.handlingDownUpSequence){if(f.type==I.Z.POINTERDRAG)this.handleDragEvent(f),f.originalEvent.preventDefault();else if(f.type==I.Z.POINTERUP){const a=this.handleUpEvent(f);this.handlingDownUpSequence=a&&this.targetPointers.length>0}}else if(f.type==I.Z.POINTERDOWN){const a=this.handleDownEvent(f);this.handlingDownUpSequence=a,u=this.stopDown(a)}else f.type==I.Z.POINTERMOVE&&this.handleMoveEvent(f);return!u}handleMoveEvent(f){}handleUpEvent(f){return!1}stopDown(f){return f}updateTrackedPointers_(f){f.activePointers&&(this.targetPointers=f.activePointers)}}},6269:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>M});const M={ACTIVE:"active"}},392:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>f});var M=o(1092),I=o(4974),A=o(9070),x=o(2780),m=o(3469);const f=class R extends M.Z{constructor(a){super(),this.background_=a.background;const e=Object.assign({},a);"object"==typeof a.properties&&(delete e.properties,Object.assign(e,a.properties)),e[I.Z.OPACITY]=void 0!==a.opacity?a.opacity:1,(0,x.h)("number"==typeof e[I.Z.OPACITY],64),e[I.Z.VISIBLE]=void 0===a.visible||a.visible,e[I.Z.Z_INDEX]=a.zIndex,e[I.Z.MAX_RESOLUTION]=void 0!==a.maxResolution?a.maxResolution:1/0,e[I.Z.MIN_RESOLUTION]=void 0!==a.minResolution?a.minResolution:0,e[I.Z.MIN_ZOOM]=void 0!==a.minZoom?a.minZoom:-1/0,e[I.Z.MAX_ZOOM]=void 0!==a.maxZoom?a.maxZoom:1/0,this.className_=void 0!==e.className?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(a){const e=this.state_||{layer:this,managed:void 0===a||a},i=this.getZIndex();return e.opacity=(0,m.uZ)(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==i||e.managed?i:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(a){return(0,A.O3)()}getLayerStatesArray(a){return(0,A.O3)()}getExtent(){return this.get(I.Z.EXTENT)}getMaxResolution(){return this.get(I.Z.MAX_RESOLUTION)}getMinResolution(){return this.get(I.Z.MIN_RESOLUTION)}getMinZoom(){return this.get(I.Z.MIN_ZOOM)}getMaxZoom(){return this.get(I.Z.MAX_ZOOM)}getOpacity(){return this.get(I.Z.OPACITY)}getSourceState(){return(0,A.O3)()}getVisible(){return this.get(I.Z.VISIBLE)}getZIndex(){return this.get(I.Z.Z_INDEX)}setBackground(a){this.background_=a,this.changed()}setExtent(a){this.set(I.Z.EXTENT,a)}setMaxResolution(a){this.set(I.Z.MAX_RESOLUTION,a)}setMinResolution(a){this.set(I.Z.MIN_RESOLUTION,a)}setMaxZoom(a){this.set(I.Z.MAX_ZOOM,a)}setMinZoom(a){this.set(I.Z.MIN_ZOOM,a)}setOpacity(a){(0,x.h)("number"==typeof a,64),this.set(I.Z.OPACITY,a)}setVisible(a){this.set(I.Z.VISIBLE,a)}setZIndex(a){this.set(I.Z.Z_INDEX,a)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}},1470:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>T});var M=o(7971),I=o(1414),A=o(6093),x=o(9443),m=o(1059),R=o(3822),f=o(5729),u=o(8648),a=o(8983);function e(g){return new A.ZP({fill:i(g,""),stroke:s(g,""),text:n(g),image:c(g)})}function i(g,l){const p=g[l+"fill-color"];if(p)return new m.Z({color:p})}function s(g,l){const p=g[l+"stroke-width"],h=g[l+"stroke-color"];if(p||h)return new u.Z({width:p,color:h,lineCap:g[l+"stroke-line-cap"],lineJoin:g[l+"stroke-line-join"],lineDash:g[l+"stroke-line-dash"],lineDashOffset:g[l+"stroke-line-dash-offset"],miterLimit:g[l+"stroke-miter-limit"]})}function n(g){const l=g["text-value"];return l?new a.Z({text:l,font:g["text-font"],maxAngle:g["text-max-angle"],offsetX:g["text-offset-x"],offsetY:g["text-offset-y"],overflow:g["text-overflow"],placement:g["text-placement"],repeat:g["text-repeat"],scale:g["text-scale"],rotateWithView:g["text-rotate-with-view"],rotation:g["text-rotation"],textAlign:g["text-align"],justify:g["text-justify"],textBaseline:g["text-baseline"],padding:g["text-padding"],fill:i(g,"text-"),backgroundFill:i(g,"text-background-"),stroke:s(g,"text-"),backgroundStroke:s(g,"text-background-")}):void 0}function c(g){const l=g["icon-src"],p=g["icon-img"];if(l||p)return new R.Z({src:l,img:p,imgSize:g["icon-img-size"],anchor:g["icon-anchor"],anchorOrigin:g["icon-anchor-origin"],anchorXUnits:g["icon-anchor-x-units"],anchorYUnits:g["icon-anchor-y-units"],color:g["icon-color"],crossOrigin:g["icon-cross-origin"],offset:g["icon-offset"],displacement:g["icon-displacement"],opacity:g["icon-opacity"],scale:g["icon-scale"],width:g["icon-width"],height:g["icon-height"],rotation:g["icon-rotation"],rotateWithView:g["icon-rotate-with-view"],size:g["icon-size"],declutterMode:g["icon-declutter-mode"]});const h=g["shape-points"];if(h){const N="shape-";return new f.Z({points:h,fill:i(g,N),stroke:s(g,N),radius:g["shape-radius"],radius1:g["shape-radius1"],radius2:g["shape-radius2"],angle:g["shape-angle"],displacement:g["shape-displacement"],rotation:g["shape-rotation"],rotateWithView:g["shape-rotate-with-view"],scale:g["shape-scale"],declutterMode:g["shape-declutter-mode"]})}const P=g["circle-radius"];if(P){const N="circle-";return new x.Z({radius:P,fill:i(g,N),stroke:s(g,N),displacement:g["circle-displacement"],scale:g["circle-scale"],rotation:g["circle-rotation"],rotateWithView:g["circle-rotate-with-view"],declutterMode:g["circle-declutter-mode"]})}}const T=class d extends M.Z{constructor(l){l=l||{};const p=Object.assign({},l);delete p.style,delete p.renderBuffer,delete p.updateWhileAnimating,delete p.updateWhileInteracting,super(p),this.declutter_=void 0!==l.declutter&&l.declutter,this.renderBuffer_=void 0!==l.renderBuffer?l.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(l.style),this.updateWhileAnimating_=void 0!==l.updateWhileAnimating&&l.updateWhileAnimating,this.updateWhileInteracting_=void 0!==l.updateWhileInteracting&&l.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(l){return super.getFeatures(l)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get("renderOrder")}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(l){l.declutterTree||(l.declutterTree=new I(9)),this.getRenderer().renderDeclutter(l)}setRenderOrder(l){this.set("renderOrder",l)}setStyle(l){let p;if(void 0===l)p=A.yF;else if(null===l)p=null;else if("function"==typeof l)p=l;else if(l instanceof A.ZP)p=l;else if(Array.isArray(l)){const h=l.length,P=new Array(h);for(let N=0;N<h;++N){const O=l[N];P[N]=O instanceof A.ZP?O:e(O)}p=P}else p=e(l);this.style_=p,this.styleFunction_=null===l?void 0:(0,A.J$)(this.style_),this.changed()}}},7055:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>n});var M=o(7971);const A=class I extends M.Z{constructor(r){super(r=r||{})}};var x=o(5060),m=o(1084),R=o(5329),f=o(9664),u=o(4654),a=o(5111);const i=class e extends x.Z{constructor(r){super(r),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(r){const d=r.layerStatesArray[r.layerIndex],T=r.pixelRatio,g=r.viewState,l=g.resolution,p=this.getLayer().getSource(),h=r.viewHints;let P=r.extent;if(void 0!==d.extent&&(P=(0,u.Ed)(P,(0,a.dY)(d.extent,g.projection))),!h[R.Z.ANIMATING]&&!h[R.Z.INTERACTING]&&!(0,u.xb)(P))if(p){const O=p.getImage(P,l,T,g.projection);O&&(this.loadImage(O)?this.image_=O:O.getState()===m.Z.EMPTY&&(this.image_=null))}else this.image_=null;return!!this.image_}getData(r){const d=this.frameState;if(!d)return null;const T=this.getLayer(),g=(0,f.nn)(d.pixelToCoordinateTransform,r.slice()),l=T.getExtent();if(l&&!(0,u.b8)(l,g))return null;const p=this.image_.getExtent(),h=this.getImage(),P=(0,u.dz)(p),N=Math.floor(h.width*((g[0]-p[0])/P));if(N<0||N>=h.width)return null;const O=(0,u.Cr)(p),Z=Math.floor(h.height*((p[3]-g[1])/O));return Z<0||Z>=h.height?null:this.getImageData(h,N,Z)}renderFrame(r,d){const T=this.image_,g=T.getExtent(),l=T.getResolution(),p=T.getPixelRatio(),h=r.layerStatesArray[r.layerIndex],P=r.pixelRatio,N=r.viewState,O=N.center,L=P*l/(N.resolution*p),K=r.extent,D=N.resolution,b=N.rotation,z=Math.round((0,u.dz)(K)/D*P),S=Math.round((0,u.Cr)(K)/D*P);(0,f.qC)(this.pixelTransform,r.size[0]/2,r.size[1]/2,1/P,1/P,b,-z/2,-S/2),(0,f.nb)(this.inversePixelTransform,this.pixelTransform);const y=(0,f.BB)(this.pixelTransform);this.useContainer(d,y,this.getBackground(r));const E=this.context,C=E.canvas;C.width!=z||C.height!=S?(C.width=z,C.height=S):this.containerReused||E.clearRect(0,0,z,S);let j=!1,V=!0;if(h.extent){const tt=(0,a.dY)(h.extent,N.projection);V=(0,u.kK)(tt,r.extent),j=V&&!(0,u.r4)(tt,r.extent),j&&this.clipUnrotated(E,r,tt)}const k=this.getImage(),et=(0,f.qC)(this.tempTransform,z/2,S/2,L,L,0,p*(g[0]-O[0])/l,p*(O[1]-g[3])/l);this.renderedResolution=l*P/p;const Q=k.width*et[0],gt=k.height*et[3];if(this.getLayer().getSource().getInterpolate()||(E.imageSmoothingEnabled=!1),this.preRender(E,r),V&&Q>=.5&&gt>=.5){const tt=et[4],rt=et[5],ut=h.opacity;let vt;1!==ut&&(vt=E.globalAlpha,E.globalAlpha=ut),E.drawImage(k,0,0,+k.width,+k.height,tt,rt,Q,gt),1!==ut&&(E.globalAlpha=vt)}return this.postRender(E,r),j&&E.restore(),E.imageSmoothingEnabled=!0,y!==C.style.transform&&(C.style.transform=y),this.container}},n=class s extends A{constructor(r){super(r)}createRenderer(){return new i(this)}getData(r){return super.getData(r)}}},7971:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>i,j:()=>e});var M=o(392),I=o(8688),A=o(4974),x=o(4074),m=o(1415),R=o(2780),f=o(4654),u=o(7796);function e(s,n){if(!s.visible)return!1;const c=n.resolution;if(c<s.minResolution||c>=s.maxResolution)return!1;const r=n.zoom;return r>s.minZoom&&r<=s.maxZoom}const i=class a extends M.Z{constructor(n){const c=Object.assign({},n);delete c.source,super(c),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,n.render&&(this.render=n.render),n.map&&this.setMap(n.map),this.addChangeListener(A.Z.SOURCE,this.handleSourcePropertyChange_),this.setSource(n.source?n.source:null)}getLayersArray(n){return(n=n||[]).push(this),n}getLayerStatesArray(n){return(n=n||[]).push(this.getLayerState()),n}getSource(){return this.get(A.Z.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const n=this.getSource();return n?n.getState():"undefined"}handleSourceChange_(){this.changed(),!this.sourceReady_&&"ready"===this.getSource().getState()&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&((0,u.bN)(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const n=this.getSource();n&&(this.sourceChangeKey_=(0,u.oL)(n,I.Z.CHANGE,this.handleSourceChange_,this),"ready"===n.getState()&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(n){return this.renderer_?this.renderer_.getFeatures(n):Promise.resolve([])}getData(n){return this.renderer_&&this.rendered?this.renderer_.getData(n):null}isVisible(n){let c;const r=this.getMapInternal();let d;!n&&r&&(n=r.getView()),c=n instanceof m.ZP?{viewState:n.getState(),extent:n.calculateExtent()}:n,!c.layerStatesArray&&r&&(c.layerStatesArray=r.getLayerGroup().getLayerStatesArray()),d=c.layerStatesArray?c.layerStatesArray.find(g=>g.layer===this):this.getLayerState();const T=this.getExtent();return e(d,c.viewState)&&(!T||(0,f.kK)(T,c.extent))}getAttributions(n){if(!this.isVisible(n))return[];let c;const r=this.getSource();if(r&&(c=r.getAttributions()),!c)return[];let T=c(n instanceof m.ZP?n.getViewStateAndExtent():n);return Array.isArray(T)||(T=[T]),T}render(n,c){const r=this.getRenderer();return r.prepareFrame(n)?(this.rendered=!0,r.renderFrame(n,c)):null}unrender(){this.rendered=!1}setMapInternal(n){n||this.unrender(),this.set(A.Z.MAP,n)}getMapInternal(){return this.get(A.Z.MAP)}setMap(n){this.mapPrecomposeKey_&&((0,u.bN)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),n||this.changed(),this.mapRenderKey_&&((0,u.bN)(this.mapRenderKey_),this.mapRenderKey_=null),n&&(this.mapPrecomposeKey_=(0,u.oL)(n,x.Z.PRECOMPOSE,function(c){const d=c.frameState.layerStatesArray,T=this.getLayerState(!1);(0,R.h)(!d.some(function(g){return g.layer===T.layer}),67),d.push(T)},this),this.mapRenderKey_=(0,u.oL)(this,I.Z.CHANGE,n.render,n),this.changed())}setSource(n){this.set(A.Z.SOURCE,n)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}},4974:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>M});const M={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},2620:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>l});var M=o(7971);const x=class A extends M.Z{constructor(h){h=h||{};const P=Object.assign({},h);delete P.preload,delete P.useInterimTilesOnError,super(P),this.setPreload(void 0!==h.preload?h.preload:0),this.setUseInterimTilesOnError(void 0===h.useInterimTilesOnError||h.useInterimTilesOnError)}getPreload(){return this.get("preload")}setPreload(h){this.set("preload",h)}getUseInterimTilesOnError(){return this.get("useInterimTilesOnError")}setUseInterimTilesOnError(h){this.set("useInterimTilesOnError",h)}getData(h){return super.getData(h)}};var m=o(5060),R=o(4961),f=o(6317),u=o(1047),a=o(6614),e=o(9664),i=o(7555),s=o(4654),n=o(5111),c=o(9070),r=o(2518);const T=class d extends m.Z{constructor(h){super(h),this.extentChanged=!0,this.renderedExtent_=null,this.renderedProjection=null,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=(0,s.lJ)(),this.tmpTileRange_=new u.Z(0,0,0,0)}isDrawableTile(h){const P=this.getLayer(),N=h.getState(),O=P.getUseInterimTilesOnError();return N==a.Z.LOADED||N==a.Z.EMPTY||N==a.Z.ERROR&&!O}getTile(h,P,N,O){const Z=O.pixelRatio,L=O.viewState.projection,K=this.getLayer();let b=K.getSource().getTile(h,P,N,Z,L);return b.getState()==a.Z.ERROR&&K.getUseInterimTilesOnError()&&K.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(b)||(b=b.getInterimTile()),b}getData(h){const P=this.frameState;if(!P)return null;const N=this.getLayer(),O=(0,e.nn)(P.pixelToCoordinateTransform,h.slice()),Z=N.getExtent();if(Z&&!(0,s.b8)(Z,O))return null;const L=P.pixelRatio,K=P.viewState.projection,D=P.viewState,b=N.getRenderSource(),z=b.getTileGridForProjection(D.projection),S=b.getTilePixelRatio(P.pixelRatio);for(let y=z.getZForResolution(D.resolution);y>=z.getMinZoom();--y){const E=z.getTileCoordForCoordAndZ(O,y),C=b.getTile(y,E[1],E[2],L,K);if(!(C instanceof R.Z||C instanceof f.Z)||C instanceof f.Z&&C.getState()===a.Z.EMPTY)return null;if(C.getState()!==a.Z.LOADED)continue;const j=z.getOrigin(y),V=(0,r.Pq)(z.getTileSize(y)),k=z.getResolution(y),et=Math.floor(S*((O[0]-j[0])/k-E[1]*V[0])),Q=Math.floor(S*((j[1]-O[1])/k-E[2]*V[1])),gt=Math.round(S*b.getGutterForProjection(D.projection));return this.getImageData(C.getImage(),et+gt,Q+gt)}return null}loadedTileCallback(h,P,N){return!!this.isDrawableTile(N)&&super.loadedTileCallback(h,P,N)}prepareFrame(h){return!!this.getLayer().getSource()}renderFrame(h,P){const N=h.layerStatesArray[h.layerIndex],O=h.viewState,Z=O.projection,L=O.resolution,K=O.center,D=O.rotation,b=h.pixelRatio,z=this.getLayer(),S=z.getSource(),y=S.getRevision(),E=S.getTileGridForProjection(Z),C=E.getZForResolution(L,S.zDirection),j=E.getResolution(C);let V=h.extent;const k=h.viewState.resolution,et=S.getTilePixelRatio(b),Q=Math.round((0,s.dz)(V)/k*b),gt=Math.round((0,s.Cr)(V)/k*b),tt=N.extent&&(0,n.dY)(N.extent,Z);tt&&(V=(0,s.Ed)(V,(0,n.dY)(N.extent,Z)));const rt=j*Q/2/et,ut=j*gt/2/et,vt=[K[0]-rt,K[1]-ut,K[0]+rt,K[1]+ut],Ct=E.getTileRangeForExtentAndZ(V,C),Pt={};Pt[C]={};const Lt=this.createLoadedTileFinder(S,Z,Pt),Zt=this.tmpExtent,wt=this.tmpTileRange_;this.newTiles_=!1;const Kt=D?(0,s.dY)(O.center,k,D,h.size):void 0;for(let _=Ct.minX;_<=Ct.maxX;++_)for(let U=Ct.minY;U<=Ct.maxY;++U){if(D&&!E.tileCoordIntersectsViewport([C,_,U],Kt))continue;const B=this.getTile(C,_,U,h);if(this.isDrawableTile(B)){const lt=(0,c.sq)(this);if(B.getState()==a.Z.LOADED){Pt[C][B.tileCoord.toString()]=B;let mt=B.inTransition(lt);mt&&1!==N.opacity&&(B.endTransition(lt),mt=!1),!this.newTiles_&&(mt||!this.renderedTiles.includes(B))&&(this.newTiles_=!0)}if(1===B.getAlpha(lt,h.time))continue}const q=E.getTileCoordChildTileRange(B.tileCoord,wt,Zt);let at=!1;q&&(at=Lt(C+1,q)),at||E.forEachTileCoordParentTileRange(B.tileCoord,Lt,wt,Zt)}const Wt=j/L*b/et;(0,e.qC)(this.pixelTransform,h.size[0]/2,h.size[1]/2,1/b,1/b,D,-Q/2,-gt/2);const w=(0,e.BB)(this.pixelTransform);this.useContainer(P,w,this.getBackground(h));const G=this.context,H=G.canvas;(0,e.nb)(this.inversePixelTransform,this.pixelTransform),(0,e.qC)(this.tempTransform,Q/2,gt/2,Wt,Wt,0,-Q/2,-gt/2),H.width!=Q||H.height!=gt?(H.width=Q,H.height=gt):this.containerReused||G.clearRect(0,0,Q,gt),tt&&this.clipUnrotated(G,h,tt),S.getInterpolate()||(G.imageSmoothingEnabled=!1),this.preRender(G,h),this.renderedTiles.length=0;let yt,Ot,ot,_t=Object.keys(Pt).map(Number);_t.sort(i.j2),1!==N.opacity||this.containerReused&&!S.getOpaque(h.viewState.projection)?(yt=[],Ot=[]):_t=_t.reverse();for(let _=_t.length-1;_>=0;--_){const U=_t[_],B=S.getTilePixelSize(U,b,Z),at=E.getResolution(U)/j,lt=B[0]*at*Wt,mt=B[1]*at*Wt,pt=E.getTileCoordForCoordAndZ((0,s.rL)(vt),U),Et=E.getTileCoordExtent(pt),At=(0,e.nn)(this.tempTransform,[et*(Et[0]-vt[0])/j,et*(vt[3]-Et[3])/j]),Ut=et*S.getGutterForProjection(Z),Yt=Pt[U];for(const Vt in Yt){const Y=Yt[Vt],J=Y.tileCoord,it=pt[1]-J[1],ct=Math.round(At[0]-(it-1)*lt),ft=pt[2]-J[2],Tt=Math.round(At[1]-(ft-1)*mt),Rt=Math.round(At[0]-it*lt),xt=Math.round(At[1]-ft*mt),Mt=ct-Rt,Dt=Tt-xt,bt=C===U,Xt=bt&&1!==Y.getAlpha((0,c.sq)(this),h.time);let Gt=!1;if(!Xt)if(yt){ot=[Rt,xt,Rt+Mt,xt,Rt+Mt,xt+Dt,Rt,xt+Dt];for(let kt=0,ee=yt.length;kt<ee;++kt)if(C!==U&&U<Ot[kt]){const jt=yt[kt];(0,s.kK)([Rt,xt,Rt+Mt,xt+Dt],[jt[0],jt[3],jt[4],jt[7]])&&(Gt||(G.save(),Gt=!0),G.beginPath(),G.moveTo(ot[0],ot[1]),G.lineTo(ot[2],ot[3]),G.lineTo(ot[4],ot[5]),G.lineTo(ot[6],ot[7]),G.moveTo(jt[6],jt[7]),G.lineTo(jt[4],jt[5]),G.lineTo(jt[2],jt[3]),G.lineTo(jt[0],jt[1]),G.clip())}yt.push(ot),Ot.push(U)}else G.clearRect(Rt,xt,Mt,Dt);this.drawTileImage(Y,h,Rt,xt,Mt,Dt,Ut,bt),yt&&!Xt?(Gt&&G.restore(),this.renderedTiles.unshift(Y)):this.renderedTiles.push(Y),this.updateUsedTiles(h.usedTiles,S,Y)}}return this.renderedRevision=y,this.renderedResolution=j,this.extentChanged=!this.renderedExtent_||!(0,s.fS)(this.renderedExtent_,vt),this.renderedExtent_=vt,this.renderedPixelRatio=b,this.renderedProjection=Z,this.manageTilePyramid(h,S,E,b,Z,V,C,z.getPreload()),this.scheduleExpireCache(h,S),this.postRender(G,h),N.extent&&G.restore(),G.imageSmoothingEnabled=!0,w!==H.style.transform&&(H.style.transform=w),this.container}drawTileImage(h,P,N,O,Z,L,K,D){const b=this.getTileImage(h);if(!b)return;const z=(0,c.sq)(this),S=P.layerStatesArray[P.layerIndex],y=S.opacity*(D?h.getAlpha(z,P.time):1),E=y!==this.context.globalAlpha;E&&(this.context.save(),this.context.globalAlpha=y),this.context.drawImage(b,K,K,b.width-2*K,b.height-2*K,N,O,Z,L),E&&this.context.restore(),y!==S.opacity?P.animate=!0:D&&h.endTransition(z)}getImage(){const h=this.context;return h?h.canvas:null}getTileImage(h){return h.getImage()}scheduleExpireCache(h,P){if(P.canExpireCache()){const N=function(O,Z,L){const K=(0,c.sq)(O);K in L.usedTiles&&O.expireCache(L.viewState.projection,L.usedTiles[K])}.bind(null,P);h.postRenderFunctions.push(N)}}updateUsedTiles(h,P,N){const O=(0,c.sq)(P);O in h||(h[O]={}),h[O][N.getKey()]=!0}manageTilePyramid(h,P,N,O,Z,L,K,D,b){const z=(0,c.sq)(P);z in h.wantedTiles||(h.wantedTiles[z]={});const S=h.wantedTiles[z],y=h.tileQueue,E=N.getMinZoom(),C=h.viewState.rotation,j=C?(0,s.dY)(h.viewState.center,h.viewState.resolution,C,h.size):void 0;let k,et,Q,gt,tt,rt,V=0;for(rt=E;rt<=K;++rt)for(et=N.getTileRangeForExtentAndZ(L,rt,et),Q=N.getResolution(rt),gt=et.minX;gt<=et.maxX;++gt)for(tt=et.minY;tt<=et.maxY;++tt)C&&!N.tileCoordIntersectsViewport([rt,gt,tt],j)||(K-rt<=D?(++V,k=P.getTile(rt,gt,tt,O,Z),k.getState()==a.Z.IDLE&&(S[k.getKey()]=!0,y.isKeyQueued(k.getKey())||y.enqueue([k,z,N.getTileCoordCenter(k.tileCoord),Q])),void 0!==b&&b(k)):P.useTile(rt,gt,tt,Z));P.updateCacheSize(V,Z)}},l=class g extends x{constructor(h){super(h)}createRenderer(){return new T(this)}}},3469:(ht,X,o)=>{"use strict";function M(n,c,r){return Math.min(Math.max(n,c),r)}function I(n,c,r,d,T,g){const l=T-r,p=g-d;if(0!==l||0!==p){const h=((n-r)*l+(c-d)*p)/(l*l+p*p);h>1?(r=T,d=g):h>0&&(r+=l*h,d+=p*h)}return A(n,c,r,d)}function A(n,c,r,d){const T=r-n,g=d-c;return T*T+g*g}function x(n){const c=n.length;for(let d=0;d<c;d++){let T=d,g=Math.abs(n[d][d]);for(let p=d+1;p<c;p++){const h=Math.abs(n[p][d]);h>g&&(g=h,T=p)}if(0===g)return null;const l=n[T];n[T]=n[d],n[d]=l;for(let p=d+1;p<c;p++){const h=-n[p][d]/n[d][d];for(let P=d;P<c+1;P++)d==P?n[p][P]=0:n[p][P]+=h*n[d][P]}}const r=new Array(c);for(let d=c-1;d>=0;d--){r[d]=n[d][c]/n[d][d];for(let T=d-1;T>=0;T--)n[T][c]-=n[T][d]*r[d]}return r}function R(n){return n*Math.PI/180}function f(n,c){const r=n%c;return r*c<0?r+c:r}function u(n,c,r){return n+r*(c-n)}function a(n,c){const r=Math.pow(10,c);return Math.round(n*r)/r}function i(n,c){return Math.floor(a(n,c))}function s(n,c){return Math.ceil(a(n,c))}o.d(X,{$W:()=>f,FH:()=>a,GW:()=>i,SV:()=>x,Yr:()=>R,bI:()=>A,mD:()=>s,rU:()=>I,t7:()=>u,uZ:()=>M})},925:(ht,X,o)=>{"use strict";function M(A){for(const x in A)delete A[x]}function I(A){let x;for(x in A)return!1;return!x}o.d(X,{Z:()=>M,x:()=>I})},5111:(ht,X,o)=>{"use strict";o.d(X,{Wm:()=>d.W,UQ:()=>Zt,h_:()=>et,OP:()=>G,Vs:()=>mt,dY:()=>Et,U2:()=>ut,_Q:()=>vt,Ck:()=>_t,WO:()=>H,Cs:()=>q,lO:()=>lt,Fj:()=>pt,on:()=>At,vs:()=>yt});var M=o(5435);const I=6378137,A=Math.PI*I,x=[-A,-A,A,A],m=[-180,-85,180,85],R=I*Math.log(Math.tan(Math.PI/2));class f extends M.Z{constructor(J){super({code:J,units:"m",extent:x,global:!0,worldExtent:m,getPointResolution:function(it,ct){return it/Math.cosh(ct[1]/I)}})}}const u=[new f("EPSG:3857"),new f("EPSG:102100"),new f("EPSG:102113"),new f("EPSG:900913"),new f("http://www.opengis.net/def/crs/EPSG/0/3857"),new f("http://www.opengis.net/gml/srs/epsg.xml#3857")];function a(Y,J,it){const ct=Y.length;it=it>1?it:2,void 0===J&&(J=it>2?Y.slice():new Array(ct));for(let ft=0;ft<ct;ft+=it){J[ft]=A*Y[ft]/180;let Tt=I*Math.log(Math.tan(Math.PI*(+Y[ft+1]+90)/360));Tt>R?Tt=R:Tt<-R&&(Tt=-R),J[ft+1]=Tt}return J}function e(Y,J,it){const ct=Y.length;it=it>1?it:2,void 0===J&&(J=it>2?Y.slice():new Array(ct));for(let ft=0;ft<ct;ft+=it)J[ft]=180*Y[ft]/A,J[ft+1]=360*Math.atan(Math.exp(Y[ft+1]/I))/Math.PI-90;return J}const s=[-180,-90,180,90],n=6378137*Math.PI/180;class c extends M.Z{constructor(J,it){super({code:J,units:"degrees",extent:s,axisOrientation:it,global:!0,metersPerUnit:n,worldExtent:s})}}const r=[new c("CRS:84"),new c("EPSG:4326","neu"),new c("urn:ogc:def:crs:OGC:1.3:CRS84"),new c("urn:ogc:def:crs:OGC:2:84"),new c("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new c("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new c("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var d=o(3526);let T={},h={};function N(Y,J,it){const ct=Y.getCode(),ft=J.getCode();ct in h||(h[ct]={}),h[ct][ft]=it}var L=o(4654),K=o(722),D=o(3469);const b=6371008.8;function z(Y,J,it){it=it||b;const ct=(0,D.Yr)(Y[1]),ft=(0,D.Yr)(J[1]),Tt=(ft-ct)/2,Rt=(0,D.Yr)(J[0]-Y[0])/2,xt=Math.sin(Tt)*Math.sin(Tt)+Math.sin(Rt)*Math.sin(Rt)*Math.cos(ct)*Math.cos(ft);return 2*it*Math.atan2(Math.sqrt(xt),Math.sqrt(1-xt))}var V=o(9608);let k=!0;function et(Y){k=!(void 0===Y||Y)}function Q(Y,J){if(void 0!==J)for(let it=0,ct=Y.length;it<ct;++it)J[it]=Y[it];else J=Y.slice();return J}function gt(Y,J){if(void 0!==J&&Y!==J){for(let it=0,ct=Y.length;it<ct;++it)J[it]=Y[it];Y=J}return Y}function tt(Y){(function p(Y,J){T[Y]=J})(Y.getCode(),Y),N(Y,Y,Q)}function ut(Y){return"string"==typeof Y?function l(Y){return T[Y]||T[Y.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(Y):Y||null}function vt(Y,J,it,ct){let ft;const Tt=(Y=ut(Y)).getPointResolutionFunc();if(Tt){if(ft=Tt(J,it),ct&&ct!==Y.getUnits()){const Rt=Y.getMetersPerUnit();Rt&&(ft=ft*Rt/d.W[ct])}}else{const Rt=Y.getUnits();if("degrees"==Rt&&!ct||"degrees"==ct)ft=J;else{const xt=H(Y,ut("EPSG:4326"));if(xt===gt&&"degrees"!==Rt)ft=J*Y.getMetersPerUnit();else{let Dt=[it[0]-J/2,it[1],it[0]+J/2,it[1],it[0],it[1]-J/2,it[0],it[1]+J/2];Dt=xt(Dt,Dt,2),ft=(z(Dt.slice(0,2),Dt.slice(2,4))+z(Dt.slice(4,6),Dt.slice(6,8)))/2}const Mt=ct?d.W[ct]:Y.getMetersPerUnit();void 0!==Mt&&(ft/=Mt)}}return ft}function Ct(Y){(function rt(Y){Y.forEach(tt)})(Y),Y.forEach(function(J){Y.forEach(function(it){J!==it&&N(J,it,Q)})})}function Zt(Y,J){return Y?"string"==typeof Y?ut(Y):Y:ut(J)}function G(Y,J){if(Y===J)return!0;const it=Y.getUnits()===J.getUnits();return(Y.getCode()===J.getCode()||H(Y,J)===Q)&&it}function H(Y,J){let ft=function Z(Y,J){let it;return Y in h&&J in h[Y]&&(it=h[Y][J]),it}(Y.getCode(),J.getCode());return ft||(ft=gt),ft}function _t(Y,J){return H(ut(Y),ut(J))}function yt(Y,J,it){return _t(J,it)(Y,void 0,Y.length)}function Ot(Y,J,it,ct){const ft=_t(J,it);return(0,L.Ne)(Y,ft,void 0,ct)}let _=null;function q(){return _}function lt(Y,J){return _?yt(Y,J,_):Y}function mt(Y,J){return _?yt(Y,_,J):(k&&!(0,K.fS)(Y,[0,0])&&Y[0]>=-180&&Y[0]<=180&&Y[1]>=-90&&Y[1]<=90&&(k=!1,(0,V.ZK)("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),Y)}function pt(Y,J){return _?Ot(Y,J,_):Y}function Et(Y,J){return _?Ot(Y,_,J):Y}function At(Y,J){if(!_)return Y;const it=ut(J).getUnits(),ct=_.getUnits();return it&&ct?Y*d.W[it]/d.W[ct]:Y}!function Vt(){Ct(u),Ct(r),function Pt(Y,J,it,ct){Y.forEach(function(ft){J.forEach(function(Tt){N(ft,Tt,it),N(Tt,ft,ct)})})}(r,u,a,e)}()},5435:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>A});var M=o(3526);const A=class I{constructor(m){this.code_=m.code,this.units_=m.units,this.extent_=void 0!==m.extent?m.extent:null,this.worldExtent_=void 0!==m.worldExtent?m.worldExtent:null,this.axisOrientation_=void 0!==m.axisOrientation?m.axisOrientation:"enu",this.global_=void 0!==m.global&&m.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=m.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=m.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||M.W[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(m){this.global_=m,this.canWrapX_=!(!m||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(m){this.defaultTileGrid_=m}setExtent(m){this.extent_=m,this.canWrapX_=!(!this.global_||!m)}setWorldExtent(m){this.worldExtent_=m}setGetPointResolution(m){this.getPointResolutionFunc_=m}getPointResolutionFunc(){return this.getPointResolutionFunc_}}},3526:(ht,X,o)=>{"use strict";o.d(X,{W:()=>A});const A={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937}},6008:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>A});var M=o(9395);const A=class I extends M.ZP{constructor(m,R,f,u){super(m),this.inversePixelTransform=R,this.frameState=f,this.context=u}}},4074:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>M});const M={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},748:(ht,X,o)=>{"use strict";o.d(X,{Df:()=>R,He:()=>e,Kd:()=>L,PH:()=>c,Qx:()=>P,Tx:()=>n,V4:()=>s,X9:()=>a,Zw:()=>K,_f:()=>b,bL:()=>f,mb:()=>u,oB:()=>d,rc:()=>i,ru:()=>r,sG:()=>g,yC:()=>T});var M=o(1092),I=o(9365),A=o(925),x=o(7120),m=o(4096);const R="10px sans-serif",f="#000",u="round",a=[],e=0,i="round",s=10,n="#000",c="center",r="middle",d=[0,0,0,0],T=1,g=new M.Z;let p,l=null;const h={},P=function(){const y="32px ",E=["monospace","serif"],C=E.length,j="wmytzilWMYTZIL@#/&?$%10\uf013";let V,k;function et(gt,tt,rt){let ut=!0;for(let vt=0;vt<C;++vt){const Ct=E[vt];if(k=Z(gt+" "+tt+" "+y+Ct,j),rt!=Ct){const Pt=Z(gt+" "+tt+" "+y+rt+","+Ct,j);ut=ut&&Pt!=k}}return!!ut}function Q(){let gt=!0;const tt=g.getKeys();for(let rt=0,ut=tt.length;rt<ut;++rt){const vt=tt[rt];g.get(vt)<100&&(et.apply(this,vt.split("\n"))?((0,A.Z)(h),l=null,p=void 0,g.set(vt,100)):(g.set(vt,g.get(vt)+1,!0),gt=!1))}gt&&(clearInterval(V),V=void 0)}return function(gt){const tt=(0,m.p)(gt);if(!tt)return;const rt=tt.families;for(let ut=0,vt=rt.length;ut<vt;++ut){const Ct=rt[ut],Pt=tt.style+"\n"+tt.weight+"\n"+Ct;void 0===g.get(Pt)&&(g.set(Pt,100,!0),et(tt.style,tt.weight,Ct)||(g.set(Pt,0,!0),void 0===V&&(V=setInterval(Q,32))))}}}(),N=function(){let S;return function(y){let E=h[y];if(null==E){if(I.Id){const C=(0,m.p)(y),j=O(y,"\u017dg");E=(isNaN(Number(C.lineHeight))?1.2:Number(C.lineHeight))*(j.actualBoundingBoxAscent+j.actualBoundingBoxDescent)}else S||(S=document.createElement("div"),S.innerHTML="M",S.style.minHeight="0",S.style.maxHeight="none",S.style.height="auto",S.style.padding="0",S.style.border="none",S.style.position="absolute",S.style.display="block",S.style.left="-99999px"),S.style.font=y,document.body.appendChild(S),E=S.offsetHeight,document.body.removeChild(S);h[y]=E}return E}}();function O(S,y){return l||(l=(0,x.E4)(1,1)),S!=p&&(l.font=S,p=l.font),l.measureText(y)}function Z(S,y){return O(S,y).width}function L(S,y,E){if(y in E)return E[y];const C=y.split("\n").reduce((j,V)=>Math.max(j,Z(S,V)),0);return E[y]=C,C}function K(S,y){const E=[],C=[],j=[];let V=0,k=0,et=0,Q=0;for(let gt=0,tt=y.length;gt<=tt;gt+=2){const rt=y[gt];if("\n"===rt||gt===tt){V=Math.max(V,k),j.push(k),k=0,et+=Q;continue}const ut=y[gt+1]||S.font,vt=Z(ut,rt);E.push(vt),k+=vt;const Ct=N(ut);C.push(Ct),Q=Math.max(Q,Ct)}return{width:V,height:et,widths:E,heights:C,lineWidths:j}}function b(S,y,E,C,j,V,k,et,Q,gt,tt){S.save(),1!==E&&(S.globalAlpha*=E),y&&S.setTransform.apply(S,y),C.contextInstructions?(S.translate(Q,gt),S.scale(tt[0],tt[1]),function z(S,y){const E=S.contextInstructions;for(let C=0,j=E.length;C<j;C+=2)Array.isArray(E[C+1])?y[E[C]].apply(y,E[C+1]):y[E[C]]=E[C+1]}(C,S)):tt[0]<0||tt[1]<0?(S.translate(Q,gt),S.scale(tt[0],tt[1]),S.drawImage(C,j,V,k,et,0,0,k,et)):S.drawImage(C,j,V,k,et,Q,gt,k*tt[0],et*tt[1]),S.restore()}},5226:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>R});var M=o(8688),I=o(1084),A=o(7210),x=o(9070);const R=class m extends A.Z{constructor(u){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=u,this.declutterExecutorGroup=null}getFeatures(u){return(0,x.O3)()}getData(u){return null}prepareFrame(u){return(0,x.O3)()}renderFrame(u,a){return(0,x.O3)()}loadedTileCallback(u,a,e){u[a]||(u[a]={}),u[a][e.tileCoord.toString()]=e}createLoadedTileFinder(u,a,e){return(i,s)=>{const n=this.loadedTileCallback.bind(this,e,i);return u.forEachLoadedTile(a,i,s,n)}}forEachFeatureAtCoordinate(u,a,e,i,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(u){u.target.getState()===I.Z.LOADED&&this.renderIfReadyAndVisible()}loadImage(u){let a=u.getState();return a!=I.Z.LOADED&&a!=I.Z.ERROR&&u.addEventListener(M.Z.CHANGE,this.boundHandleImageChange_),a==I.Z.IDLE&&(u.load(),a=u.getState()),a==I.Z.LOADED}renderIfReadyAndVisible(){const u=this.getLayer();u&&u.getVisible()&&"ready"===u.getSourceState()&&u.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}},5060:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>n,r:()=>a});var M=o(5226),I=o(6008),A=o(4074),x=o(9664),m=o(9145),R=o(7120),f=o(7555),u=o(4654);const a=[];let e=null;const n=class s extends M.Z{constructor(r){super(r),this.container=null,this.tempTransform=(0,x.Ue)(),this.pixelTransform=(0,x.Ue)(),this.inversePixelTransform=(0,x.Ue)(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(r,d,T){let g;e||function i(){e=(0,R.E4)(1,1,void 0,{willReadFrequently:!0})}(),e.clearRect(0,0,1,1);try{e.drawImage(r,d,T,1,1,0,0,1,1),g=e.getImageData(0,0,1,1).data}catch{return e=null,null}return g}getBackground(r){let T=this.getLayer().getBackground();return"function"==typeof T&&(T=T(r.viewState.resolution)),T||void 0}useContainer(r,d,T){const g=this.getLayer().getClassName();let l,p;if(r&&r.className===g&&(!T||r&&r.style.backgroundColor&&(0,f.fS)((0,m._2)(r.style.backgroundColor),(0,m._2)(T)))){const h=r.firstElementChild;h instanceof HTMLCanvasElement&&(p=h.getContext("2d"))}if(p&&p.canvas.style.transform===d?(this.container=r,this.context=p,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){l=document.createElement("div"),l.className=g;let h=l.style;h.position="absolute",h.width="100%",h.height="100%",p=(0,R.E4)();const P=p.canvas;l.appendChild(P),h=P.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=l,this.context=p}!this.containerReused&&T&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=T)}clipUnrotated(r,d,T){const g=(0,u.rL)(T),l=(0,u.Xv)(T),p=(0,u.w$)(T),h=(0,u.hC)(T);(0,x.nn)(d.coordinateToPixelTransform,g),(0,x.nn)(d.coordinateToPixelTransform,l),(0,x.nn)(d.coordinateToPixelTransform,p),(0,x.nn)(d.coordinateToPixelTransform,h);const P=this.inversePixelTransform;(0,x.nn)(P,g),(0,x.nn)(P,l),(0,x.nn)(P,p),(0,x.nn)(P,h),r.save(),r.beginPath(),r.moveTo(Math.round(g[0]),Math.round(g[1])),r.lineTo(Math.round(l[0]),Math.round(l[1])),r.lineTo(Math.round(p[0]),Math.round(p[1])),r.lineTo(Math.round(h[0]),Math.round(h[1])),r.clip()}dispatchRenderEvent_(r,d,T){const g=this.getLayer();if(g.hasListener(r)){const l=new I.Z(r,this.inversePixelTransform,T,d);g.dispatchEvent(l)}}preRender(r,d){this.frameState=d,this.dispatchRenderEvent_(A.Z.PRERENDER,r,d)}postRender(r,d){this.dispatchRenderEvent_(A.Z.POSTRENDER,r,d)}getRenderTransform(r,d,T,g,l,p,h){const O=g/d;return(0,x.qC)(this.tempTransform,l/2,p/2,O,-O,-T,-r[0]+h,-r[1])}disposeInternal(){delete this.frameState,super.disposeInternal()}}},1848:(ht,X,o)=>{"use strict";o.d(X,{Co:()=>i,aA:()=>e,rX:()=>R,sY:()=>s});var M=o(4654),I=o(7120),A=o(5111),x=o(3469);let m;const R=[];function f(n,c,r,d,T){n.beginPath(),n.moveTo(0,0),n.lineTo(c,r),n.lineTo(d,T),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(c,d)+1,Math.max(r,T)),n.restore()}function u(n,c){return Math.abs(n[4*c]-210)>2||Math.abs(n[4*c+3]-191.25)>2}function e(n,c,r,d){const T=(0,A.vs)(r,c,n);let g=(0,A._Q)(c,d,r);const l=c.getMetersPerUnit();void 0!==l&&(g*=l);const p=n.getMetersPerUnit();void 0!==p&&(g/=p);const h=n.getExtent();if(!h||(0,M.b8)(h,T)){const P=(0,A._Q)(n,g,T)/g;isFinite(P)&&P>0&&(g/=P)}return g}function i(n,c,r,d){const T=(0,M.qg)(r);let g=e(n,c,T,d);return(!isFinite(g)||g<=0)&&(0,M.H6)(r,function(l){return g=e(n,c,l,d),isFinite(g)&&g>0}),g}function s(n,c,r,d,T,g,l,p,h,P,N,O){const Z=(0,I.E4)(Math.round(r*n),Math.round(r*c),R);if(O||(Z.imageSmoothingEnabled=!1),0===h.length)return Z.canvas;function L(E){return Math.round(E*r)/r}Z.scale(r,r),Z.globalCompositeOperation="lighter";const K=(0,M.lJ)();h.forEach(function(E,C,j){(0,M.l7)(K,E.extent)});const D=(0,M.dz)(K),b=(0,M.Cr)(K),z=(0,I.E4)(Math.round(r*D/d),Math.round(r*b/d),R);O||(z.imageSmoothingEnabled=!1);const S=r/d;h.forEach(function(E,C,j){const V=E.extent[0]-K[0],k=-(E.extent[3]-K[3]),et=(0,M.dz)(E.extent),Q=(0,M.Cr)(E.extent);E.image.width>0&&E.image.height>0&&z.drawImage(E.image,P,P,E.image.width-2*P,E.image.height-2*P,V*S,k*S,et*S,Q*S)});const y=(0,M.rL)(l);return p.getTriangles().forEach(function(E,C,j){const V=E.source,k=E.target;let et=V[0][0],Q=V[0][1],gt=V[1][0],tt=V[1][1],rt=V[2][0],ut=V[2][1];const vt=L((k[0][0]-y[0])/g),Ct=L(-(k[0][1]-y[1])/g),Pt=L((k[1][0]-y[0])/g),Lt=L(-(k[1][1]-y[1])/g),Zt=L((k[2][0]-y[0])/g),wt=L(-(k[2][1]-y[1])/g),Kt=et,Wt=Q;et=0,Q=0,gt-=Kt,tt-=Wt,rt-=Kt,ut-=Wt;const G=(0,x.SV)([[gt,tt,0,0,Pt-vt],[rt,ut,0,0,Zt-vt],[0,0,gt,tt,Lt-Ct],[0,0,rt,ut,wt-Ct]]);if(G){if(Z.save(),Z.beginPath(),function a(){if(void 0===m){const n=(0,I.E4)(6,6,R);n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",f(n,4,5,4,0),f(n,4,5,0,5);const c=n.getImageData(0,0,3,3).data;m=u(c,0)||u(c,4)||u(c,8),(0,I.jy)(n),R.push(n.canvas)}return m}()||!O){Z.moveTo(Pt,Lt);const H=4,_t=vt-Pt,yt=Ct-Lt;for(let Ot=0;Ot<H;Ot++)Z.lineTo(Pt+L((Ot+1)*_t/H),Lt+L(Ot*yt/(H-1))),Ot!=H-1&&Z.lineTo(Pt+L((Ot+1)*_t/H),Lt+L((Ot+1)*yt/(H-1)));Z.lineTo(Zt,wt)}else Z.moveTo(Pt,Lt),Z.lineTo(vt,Ct),Z.lineTo(Zt,wt);Z.clip(),Z.transform(G[0],G[2],G[1],G[3],vt,Ct),Z.translate(K[0]-Kt,K[3]-Wt),Z.scale(d/r,-d/r),Z.drawImage(z.canvas,0,0),Z.restore()}}),(0,I.jy)(z),R.push(z.canvas),N&&(Z.save(),Z.globalCompositeOperation="source-over",Z.strokeStyle="black",Z.lineWidth=1,p.getTriangles().forEach(function(E,C,j){const V=E.target,k=(V[0][0]-y[0])/g,et=-(V[0][1]-y[1])/g,Q=(V[1][0]-y[0])/g,gt=-(V[1][1]-y[1])/g,tt=(V[2][0]-y[0])/g,rt=-(V[2][1]-y[1])/g;Z.beginPath(),Z.moveTo(Q,gt),Z.lineTo(k,et),Z.lineTo(tt,rt),Z.closePath(),Z.stroke()}),Z.restore()),Z.canvas}},6317:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>s});var M=o(843),I=o(8688),A=o(6323),x=o(6614),m=o(7592),R=o(1848),f=o(3469),u=o(4654),a=o(7796),e=o(7120);const s=class i extends A.Z{constructor(c,r,d,T,g,l,p,h,P,N,O,Z){super(g,x.Z.IDLE,{interpolate:!!Z}),this.renderEdges_=void 0!==O&&O,this.pixelRatio_=p,this.gutter_=h,this.canvas_=null,this.sourceTileGrid_=r,this.targetTileGrid_=T,this.wrappedTileCoord_=l||g,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const L=T.getTileCoordExtent(this.wrappedTileCoord_),K=this.targetTileGrid_.getExtent();let D=this.sourceTileGrid_.getExtent();const b=K?(0,u.Ed)(L,K):L;if(0===(0,u.bg)(b))return void(this.state=x.Z.EMPTY);const z=c.getExtent();z&&(D=D?(0,u.Ed)(D,z):z);const S=T.getResolution(this.wrappedTileCoord_[0]),y=(0,R.Co)(c,d,b,S);if(!isFinite(y)||y<=0)return void(this.state=x.Z.EMPTY);if(this.triangulation_=new m.Z(c,d,b,D,y*(void 0!==N?N:M.m),S),0===this.triangulation_.getTriangles().length)return void(this.state=x.Z.EMPTY);this.sourceZ_=r.getZForResolution(y);let C=this.triangulation_.calculateSourceExtent();if(D&&(c.canWrapX()?(C[1]=(0,f.uZ)(C[1],D[1],D[3]),C[3]=(0,f.uZ)(C[3],D[1],D[3])):C=(0,u.Ed)(C,D)),(0,u.bg)(C)){const j=r.getTileRangeForExtentAndZ(C,this.sourceZ_);for(let V=j.minX;V<=j.maxX;V++)for(let k=j.minY;k<=j.maxY;k++){const et=P(this.sourceZ_,V,k,p);et&&this.sourceTiles_.push(et)}0===this.sourceTiles_.length&&(this.state=x.Z.EMPTY)}else this.state=x.Z.EMPTY}getImage(){return this.canvas_}reproject_(){const c=[];if(this.sourceTiles_.forEach(r=>{r&&r.getState()==x.Z.LOADED&&c.push({extent:this.sourceTileGrid_.getTileCoordExtent(r.tileCoord),image:r.getImage()})}),this.sourceTiles_.length=0,0===c.length)this.state=x.Z.ERROR;else{const r=this.wrappedTileCoord_[0],d=this.targetTileGrid_.getTileSize(r),T="number"==typeof d?d:d[0],g="number"==typeof d?d:d[1],l=this.targetTileGrid_.getResolution(r),p=this.sourceTileGrid_.getResolution(this.sourceZ_),h=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,R.sY)(T,g,this.pixelRatio_,p,this.sourceTileGrid_.getExtent(),l,h,this.triangulation_,c,this.gutter_,this.renderEdges_,this.interpolate),this.state=x.Z.LOADED}this.changed()}load(){if(this.state==x.Z.IDLE){this.state=x.Z.LOADING,this.changed();let c=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(r=>{const d=r.getState();if(d==x.Z.IDLE||d==x.Z.LOADING){c++;const T=(0,a.oL)(r,I.Z.CHANGE,function(g){const l=r.getState();(l==x.Z.LOADED||l==x.Z.ERROR||l==x.Z.EMPTY)&&((0,a.bN)(T),c--,0===c&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(T)}}),0===c?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(r,d,T){r.getState()==x.Z.IDLE&&r.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(a.bN),this.sourcesListenerKeys_=null}release(){this.canvas_&&((0,e.jy)(this.canvas_.getContext("2d")),R.rX.push(this.canvas_),this.canvas_=null),super.release()}}},7592:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>f});var M=o(4654),I=o(5111),A=o(3469);const f=class R{constructor(a,e,i,s,n,c){this.sourceProj_=a,this.targetProj_=e;let r={};const d=(0,I.Ck)(this.targetProj_,this.sourceProj_);this.transformInv_=function(L){const K=L[0]+"/"+L[1];return r[K]||(r[K]=d(L)),r[K]},this.maxSourceExtent_=s,this.errorThresholdSquared_=n*n,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!s&&!!this.sourceProj_.getExtent()&&(0,M.dz)(s)>=(0,M.dz)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,M.dz)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,M.dz)(this.targetProj_.getExtent()):null;const T=(0,M.rL)(i),g=(0,M.Xv)(i),l=(0,M.w$)(i),p=(0,M.hC)(i),h=this.transformInv_(T),P=this.transformInv_(g),N=this.transformInv_(l),O=this.transformInv_(p),Z=10+(c?Math.max(0,Math.ceil(Math.log2((0,M.bg)(i)/(c*c*256*256)))):0);if(this.addQuad_(T,g,l,p,h,P,N,O,Z),this.wrapsXInSource_){let L=1/0;this.triangles_.forEach(function(K,D,b){L=Math.min(L,K.source[0][0],K.source[1][0],K.source[2][0])}),this.triangles_.forEach(K=>{if(Math.max(K.source[0][0],K.source[1][0],K.source[2][0])-L>this.sourceWorldWidth_/2){const D=[[K.source[0][0],K.source[0][1]],[K.source[1][0],K.source[1][1]],[K.source[2][0],K.source[2][1]]];D[0][0]-L>this.sourceWorldWidth_/2&&(D[0][0]-=this.sourceWorldWidth_),D[1][0]-L>this.sourceWorldWidth_/2&&(D[1][0]-=this.sourceWorldWidth_),D[2][0]-L>this.sourceWorldWidth_/2&&(D[2][0]-=this.sourceWorldWidth_);const b=Math.min(D[0][0],D[1][0],D[2][0]);Math.max(D[0][0],D[1][0],D[2][0])-b<this.sourceWorldWidth_/2&&(K.source=D)}})}r={}}addTriangle_(a,e,i,s,n,c){this.triangles_.push({source:[s,n,c],target:[a,e,i]})}addQuad_(a,e,i,s,n,c,r,d,T){const g=(0,M.hI)([n,c,r,d]),l=this.sourceWorldWidth_?(0,M.dz)(g)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,h=this.sourceProj_.canWrapX()&&l>.5&&l<1;let P=!1;if(T>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const O=(0,M.hI)([a,e,i,s]);P=(0,M.dz)(O)/this.targetWorldWidth_>.25||P}!h&&this.sourceProj_.isGlobal()&&l&&(P=l>.25||P)}if(!P&&this.maxSourceExtent_&&isFinite(g[0])&&isFinite(g[1])&&isFinite(g[2])&&isFinite(g[3])&&!(0,M.kK)(g,this.maxSourceExtent_))return;let N=0;if(!(P||isFinite(n[0])&&isFinite(n[1])&&isFinite(c[0])&&isFinite(c[1])&&isFinite(r[0])&&isFinite(r[1])&&isFinite(d[0])&&isFinite(d[1])))if(T>0)P=!0;else if(N=(isFinite(n[0])&&isFinite(n[1])?0:8)+(isFinite(c[0])&&isFinite(c[1])?0:4)+(isFinite(r[0])&&isFinite(r[1])?0:2)+(isFinite(d[0])&&isFinite(d[1])?0:1),1!=N&&2!=N&&4!=N&&8!=N)return;if(T>0){if(!P){const Z=this.transformInv_([(a[0]+i[0])/2,(a[1]+i[1])/2]);let L;L=h?((0,A.$W)(n[0],p)+(0,A.$W)(r[0],p))/2-(0,A.$W)(Z[0],p):(n[0]+r[0])/2-Z[0];const K=(n[1]+r[1])/2-Z[1];P=L*L+K*K>this.errorThresholdSquared_}if(P){if(Math.abs(a[0]-i[0])<=Math.abs(a[1]-i[1])){const O=[(e[0]+i[0])/2,(e[1]+i[1])/2],Z=this.transformInv_(O),L=[(s[0]+a[0])/2,(s[1]+a[1])/2],K=this.transformInv_(L);this.addQuad_(a,e,O,L,n,c,Z,K,T-1),this.addQuad_(L,O,i,s,K,Z,r,d,T-1)}else{const O=[(a[0]+e[0])/2,(a[1]+e[1])/2],Z=this.transformInv_(O),L=[(i[0]+s[0])/2,(i[1]+s[1])/2],K=this.transformInv_(L);this.addQuad_(a,O,L,s,n,Z,K,d,T-1),this.addQuad_(O,e,i,L,Z,c,r,K,T-1)}return}}if(h){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}11&N||this.addTriangle_(a,i,s,n,r,d),14&N||this.addTriangle_(a,i,e,n,r,c),N&&(13&N||this.addTriangle_(e,s,a,c,d,n),7&N||this.addTriangle_(e,s,i,c,d,r))}calculateSourceExtent(){const a=(0,M.lJ)();return this.triangles_.forEach(function(e,i,s){const n=e.source;(0,M.Wj)(a,n[0]),(0,M.Wj)(a,n[1]),(0,M.Wj)(a,n[2])}),a}getTriangles(){return this.triangles_}}},843:(ht,X,o)=>{"use strict";o.d(X,{m:()=>M});const M=.5},1781:(ht,X,o)=>{"use strict";o.d(X,{Gw:()=>m,YP:()=>A,gE:()=>x,h$:()=>I});var M=o(3469);function I(R){if(void 0!==R)return 0}function A(R){if(void 0!==R)return R}function x(R){const f=2*Math.PI/R;return function(u,a){return a?u:void 0!==u?u=Math.floor(u/f+.5)*f:void 0}}function m(R){return R=R||(0,M.Yr)(5),function(f,u){return u?f:void 0!==f?Math.abs(f)<=R?0:f:void 0}}},2518:(ht,X,o)=>{"use strict";function I(m){return m[0]>0&&m[1]>0}function A(m,R,f){return void 0===f&&(f=[0,0]),f[0]=m[0]*R+.5|0,f[1]=m[1]*R+.5|0,f}function x(m,R){return Array.isArray(m)?m:(void 0===R?R=[m,m]:(R[0]=m,R[1]=m),R)}o.d(X,{Pq:()=>x,bA:()=>A,py:()=>I})},3870:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>O});var M=o(8688),I=o(9395),A=o(1084),x=o(843),m=o(3683),R=o(7592),f=o(1848),u=o(4654),a=o(7796);const i=class e extends m.Z{constructor(L,K,D,b,z,S,y){let E=L.getExtent();E&&L.canWrapX()&&(E=E.slice(),E[0]=-1/0,E[2]=1/0);let C=K.getExtent();C&&K.canWrapX()&&(C=C.slice(),C[0]=-1/0,C[2]=1/0);const j=C?(0,u.Ed)(D,C):D,V=(0,u.qg)(j),k=(0,f.aA)(L,K,V,b),Q=new R.Z(L,K,j,E,k*x.m,b),gt=Q.calculateSourceExtent(),tt=(0,u.xb)(gt)?null:S(gt,k,z),rt=tt?A.Z.IDLE:A.Z.EMPTY,ut=tt?tt.getPixelRatio():1;super(D,b,ut,rt),this.targetProj_=K,this.maxSourceExtent_=E,this.triangulation_=Q,this.targetResolution_=b,this.targetExtent_=D,this.sourceImage_=tt,this.sourcePixelRatio_=ut,this.interpolate_=y,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==A.Z.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const L=this.sourceImage_.getState();if(L==A.Z.LOADED){const K=(0,u.dz)(this.targetExtent_)/this.targetResolution_,D=(0,u.Cr)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,f.sY)(K,D,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=L,this.changed()}load(){if(this.state==A.Z.IDLE){this.state=A.Z.LOADING,this.changed();const L=this.sourceImage_.getState();L==A.Z.LOADED||L==A.Z.ERROR?this.reproject_():(this.sourceListenerKey_=(0,a.oL)(this.sourceImage_,M.Z.CHANGE,function(K){const D=this.sourceImage_.getState();(D==A.Z.LOADED||D==A.Z.ERROR)&&(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}}unlistenSource_(){(0,a.bN)(this.sourceListenerKey_),this.sourceListenerKey_=null}};var s=o(5347),n=o(9070),c=o(5111),r=o(7555);class T extends I.ZP{constructor(L,K){super(L),this.image=K}}function l(Z,L){Z.getImage().src=L}const p=class g extends s.Z{constructor(L){super({attributions:L.attributions,projection:L.projection,state:L.state,interpolate:void 0===L.interpolate||L.interpolate}),this.resolutions_=void 0!==L.resolutions?L.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0}getResolutions(){return this.resolutions_}setResolutions(L){this.resolutions_=L}findNearestResolution(L){const K=this.getResolutions();return K&&(L=K[(0,r.h7)(K,L,0)]),L}getImage(L,K,D,b){const z=this.getProjection();if(!z||!b||(0,c.OP)(z,b))return z&&(b=z),this.getImageInternal(L,K,D,b);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,c.OP)(this.reprojectedImage_.getProjection(),b)&&this.reprojectedImage_.getResolution()==K&&(0,u.fS)(this.reprojectedImage_.getExtent(),L))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new i(z,b,L,K,D,(S,y,E)=>this.getImageInternal(S,y,E,z),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(L,K,D,b){return(0,n.O3)()}handleImageChange(L){const K=L.target;let D;switch(K.getState()){case A.Z.LOADING:this.loading=!0,D="imageloadstart";break;case A.Z.LOADED:this.loading=!1,D="imageloadend";break;case A.Z.ERROR:this.loading=!1,D="imageloaderror";break;default:return}this.hasListener(D)&&this.dispatchEvent(new T(D,K))}};var h=o(5605),P=o(7120);const O=class N extends p{constructor(L){const K=void 0!==L.crossOrigin?L.crossOrigin:null,D=void 0!==L.imageLoadFunction?L.imageLoadFunction:l;super({attributions:L.attributions,interpolate:L.interpolate,projection:(0,c.U2)(L.projection)}),this.url_=L.url,this.imageExtent_=L.imageExtent,this.image_=new h.Z(this.imageExtent_,void 0,1,this.url_,K,D,(0,P.E4)(1,1)),this.imageSize_=L.imageSize?L.imageSize:null,this.image_.addEventListener(M.Z.CHANGE,this.handleImageChange.bind(this))}getImageExtent(){return this.imageExtent_}getImageInternal(L,K,D,b){return(0,u.kK)(L,this.image_.getExtent())?this.image_:null}getUrl(){return this.url_}handleImageChange(L){if(this.image_.getState()==A.Z.LOADED){const K=this.image_.getExtent(),D=this.image_.getImage();let b,z;this.imageSize_?(b=this.imageSize_[0],z=this.imageSize_[1]):(b=D.width,z=D.height);const S=(0,u.dz)(K),y=(0,u.Cr)(K),E=S/b,C=y/z;let j=b,V=z;if(E>C?j=Math.round(S/C):V=Math.round(y/E),j!==b||V!==z){const k=(0,P.E4)(j,V);this.getInterpolate()||(k.imageSmoothingEnabled=!1);const et=k.canvas;k.drawImage(D,0,0,b,z,0,0,et.width,et.height),this.image_.setImage(et)}}super.handleImageChange(L)}}},8536:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>Ot});var M=o(8688),I=o(4961),A=o(6317),x=o(2780);const R=class m{constructor(_){this.highWaterMark=void 0!==_?_:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(_){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(_){return this.entries_.hasOwnProperty(_)}forEach(_){let U=this.oldest_;for(;U;)_(U.value_,U.key_,this),U=U.newer}get(_,U){const B=this.entries_[_];return(0,x.h)(void 0!==B,15),B===this.newest_||(B===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(B.newer.older=B.older,B.older.newer=B.newer),B.newer=null,B.older=this.newest_,this.newest_.newer=B,this.newest_=B),B.value_}remove(_){const U=this.entries_[_];return(0,x.h)(void 0!==U,15),U===this.newest_?(this.newest_=U.older,this.newest_&&(this.newest_.newer=null)):U===this.oldest_?(this.oldest_=U.newer,this.oldest_&&(this.oldest_.older=null)):(U.newer.older=U.older,U.older.newer=U.newer),delete this.entries_[_],--this.count_,U.value_}getCount(){return this.count_}getKeys(){const _=new Array(this.count_);let B,U=0;for(B=this.newest_;B;B=B.older)_[U++]=B.key_;return _}getValues(){const _=new Array(this.count_);let B,U=0;for(B=this.newest_;B;B=B.older)_[U++]=B.value_;return _}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(_){if(this.containsKey(_))return this.entries_[_].value_}pop(){const _=this.oldest_;return delete this.entries_[_.key_],_.newer&&(_.newer.older=null),this.oldest_=_.newer,this.oldest_||(this.newest_=null),--this.count_,_.value_}replace(_,U){this.get(_),this.entries_[_].value_=U}set(_,U){(0,x.h)(!(_ in this.entries_),16);const B={key_:_,newer:null,older:this.newest_,value_:U};this.newest_?this.newest_.newer=B:this.oldest_=B,this.newest_=B,this.entries_[_]=B,++this.count_}setSize(_){this.highWaterMark=_}};function f(ot,_,U,B){return void 0!==B?(B[0]=ot,B[1]=_,B[2]=U,B):[ot,_,U]}function u(ot,_,U){return ot+"/"+_+"/"+U}function a(ot){return u(ot[0],ot[1],ot[2])}const r=class c extends R{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(_){for(;this.canExpireCache()&&!(this.peekLast().getKey()in _);)this.pop().release()}pruneExceptNewestZ(){if(0===this.getCount())return;const B=function i(ot){return ot.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(q=>{q.tileCoord[0]!==B&&(this.remove(a(q.tileCoord)),q.release())})}};var d=o(6614);var g=o(9395),l=o(5347),p=o(9070),h=o(5111),P=o(1047),N=o(8834),O=o(3469),Z=o(4654),L=o(959),K=o(7555),D=o(2518);const b=[0,0,0],y=class S{constructor(_){let U;if(this.minZoom=void 0!==_.minZoom?_.minZoom:0,this.resolutions_=_.resolutions,(0,x.h)((0,K.pT)(this.resolutions_,function(q,at){return at-q},!0),17),!_.origins)for(let q=0,at=this.resolutions_.length-1;q<at;++q)if(U){if(this.resolutions_[q]/this.resolutions_[q+1]!==U){U=void 0;break}}else U=this.resolutions_[q]/this.resolutions_[q+1];this.zoomFactor_=U,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==_.origin?_.origin:null,this.origins_=null,void 0!==_.origins&&(this.origins_=_.origins,(0,x.h)(this.origins_.length==this.resolutions_.length,20));const B=_.extent;void 0!==B&&!this.origin_&&!this.origins_&&(this.origin_=(0,Z.rL)(B)),(0,x.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==_.tileSizes&&(this.tileSizes_=_.tileSizes,(0,x.h)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==_.tileSize?_.tileSize:this.tileSizes_?null:N.S,(0,x.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==B?B:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==_.sizes?this.fullTileRanges_=_.sizes.map(function(q,at){const lt=new P.Z(Math.min(0,q[0]),Math.max(q[0]-1,-1),Math.min(0,q[1]),Math.max(q[1]-1,-1));if(B){const mt=this.getTileRangeForExtentAndZ(B,at);lt.minX=Math.max(mt.minX,lt.minX),lt.maxX=Math.min(mt.maxX,lt.maxX),lt.minY=Math.max(mt.minY,lt.minY),lt.maxY=Math.min(mt.maxY,lt.maxY)}return lt},this):B&&this.calculateTileRanges_(B)}forEachTileCoord(_,U,B){const q=this.getTileRangeForExtentAndZ(_,U);for(let at=q.minX,lt=q.maxX;at<=lt;++at)for(let mt=q.minY,pt=q.maxY;mt<=pt;++mt)B([U,at,mt])}forEachTileCoordParentTileRange(_,U,B,q){let at,lt,mt,pt=null,Et=_[0]-1;for(2===this.zoomFactor_?(lt=_[1],mt=_[2]):pt=this.getTileCoordExtent(_,q);Et>=this.minZoom;){if(2===this.zoomFactor_?(lt=Math.floor(lt/2),mt=Math.floor(mt/2),at=(0,P.T)(lt,lt,mt,mt,B)):at=this.getTileRangeForExtentAndZ(pt,Et,B),U(Et,at))return!0;--Et}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(_){return this.origin_?this.origin_:this.origins_[_]}getResolution(_){return this.resolutions_[_]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(_,U,B){if(_[0]<this.maxZoom){if(2===this.zoomFactor_){const at=2*_[1],lt=2*_[2];return(0,P.T)(at,at+1,lt,lt+1,U)}const q=this.getTileCoordExtent(_,B||this.tmpExtent_);return this.getTileRangeForExtentAndZ(q,_[0]+1,U)}return null}getTileRangeForTileCoordAndZ(_,U,B){if(U>this.maxZoom||U<this.minZoom)return null;const q=_[0],at=_[1],lt=_[2];if(U===q)return(0,P.T)(at,lt,at,lt,B);if(this.zoomFactor_){const pt=Math.pow(this.zoomFactor_,U-q),Et=Math.floor(at*pt),At=Math.floor(lt*pt);if(U<q)return(0,P.T)(Et,Et,At,At,B);const Ut=Math.floor(pt*(at+1))-1,Yt=Math.floor(pt*(lt+1))-1;return(0,P.T)(Et,Ut,At,Yt,B)}const mt=this.getTileCoordExtent(_,this.tmpExtent_);return this.getTileRangeForExtentAndZ(mt,U,B)}getTileRangeForExtentAndZ(_,U,B){this.getTileCoordForXYAndZ_(_[0],_[3],U,!1,b);const q=b[1],at=b[2];return this.getTileCoordForXYAndZ_(_[2],_[1],U,!0,b),(0,P.T)(q,b[1],at,b[2],B)}getTileCoordCenter(_){const U=this.getOrigin(_[0]),B=this.getResolution(_[0]),q=(0,D.Pq)(this.getTileSize(_[0]),this.tmpSize_);return[U[0]+(_[1]+.5)*q[0]*B,U[1]-(_[2]+.5)*q[1]*B]}getTileCoordExtent(_,U){const B=this.getOrigin(_[0]),q=this.getResolution(_[0]),at=(0,D.Pq)(this.getTileSize(_[0]),this.tmpSize_),lt=B[0]+_[1]*at[0]*q,mt=B[1]-(_[2]+1)*at[1]*q;return(0,Z.T9)(lt,mt,lt+at[0]*q,mt+at[1]*q,U)}getTileCoordForCoordAndResolution(_,U,B){return this.getTileCoordForXYAndResolution_(_[0],_[1],U,!1,B)}getTileCoordForXYAndResolution_(_,U,B,q,at){const lt=this.getZForResolution(B),mt=B/this.getResolution(lt),pt=this.getOrigin(lt),Et=(0,D.Pq)(this.getTileSize(lt),this.tmpSize_);let At=mt*(_-pt[0])/B/Et[0],Ut=mt*(pt[1]-U)/B/Et[1];return q?(At=(0,O.mD)(At,5)-1,Ut=(0,O.mD)(Ut,5)-1):(At=(0,O.GW)(At,5),Ut=(0,O.GW)(Ut,5)),f(lt,At,Ut,at)}getTileCoordForXYAndZ_(_,U,B,q,at){const lt=this.getOrigin(B),mt=this.getResolution(B),pt=(0,D.Pq)(this.getTileSize(B),this.tmpSize_);let Et=(_-lt[0])/mt/pt[0],At=(lt[1]-U)/mt/pt[1];return q?(Et=(0,O.mD)(Et,5)-1,At=(0,O.mD)(At,5)-1):(Et=(0,O.GW)(Et,5),At=(0,O.GW)(At,5)),f(B,Et,At,at)}getTileCoordForCoordAndZ(_,U,B){return this.getTileCoordForXYAndZ_(_[0],_[1],U,!1,B)}getTileCoordResolution(_){return this.resolutions_[_[0]]}getTileSize(_){return this.tileSize_?this.tileSize_:this.tileSizes_[_]}getFullTileRange(_){return this.fullTileRanges_?this.fullTileRanges_[_]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,_):null}getZForResolution(_,U){const B=(0,K.h7)(this.resolutions_,_,U||0);return(0,O.uZ)(B,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(_,U){return(0,L.mV)(U,0,U.length,2,this.getTileCoordExtent(_))}calculateTileRanges_(_){const U=this.resolutions_.length,B=new Array(U);for(let q=this.minZoom;q<U;++q)B[q]=this.getTileRangeForExtentAndZ(_,q);this.fullTileRanges_=B}};function E(ot){let _=ot.getDefaultTileGrid();return _||(_=function et(ot,_,U,B){return function j(ot,_,U,B){B=void 0!==B?B:"top-left";const q=k(ot,_,U);return new y({extent:ot,origin:(0,Z.g0)(ot,B),resolutions:q,tileSize:U})}(Q(ot),_,U,B)}(ot),ot.setDefaultTileGrid(_)),_}function k(ot,_,U,B){_=void 0!==_?_:N.e,U=(0,D.Pq)(void 0!==U?U:N.S);const q=(0,Z.Cr)(ot),at=(0,Z.dz)(ot);B=B>0?B:Math.max(at/U[0],q/U[1]);const lt=_+1,mt=new Array(lt);for(let pt=0;pt<lt;++pt)mt[pt]=B/Math.pow(2,pt);return mt}function Q(ot){let _=(ot=(0,h.U2)(ot)).getExtent();if(!_){const U=180*h.Wm.degrees/ot.getMetersPerUnit();_=(0,Z.T9)(-U,-U,U,U)}return _}class tt extends g.ZP{constructor(_,U){super(_),this.tile=U}}const rt=class gt extends l.Z{constructor(_){super({attributions:_.attributions,attributionsCollapsible:_.attributionsCollapsible,projection:_.projection,state:_.state,wrapX:_.wrapX,interpolate:_.interpolate}),this.opaque_=void 0!==_.opaque&&_.opaque,this.tilePixelRatio_=void 0!==_.tilePixelRatio?_.tilePixelRatio:1,this.tileGrid=void 0!==_.tileGrid?_.tileGrid:null,this.tileGrid&&(0,D.Pq)(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),[256,256]),this.tileCache=new r(_.cacheSize||0),this.tmpSize=[0,0],this.key_=_.key||"",this.tileOptions={transition:_.transition,interpolate:_.interpolate},this.zDirection=_.zDirection?_.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(_,U){const B=this.getTileCacheForProjection(_);B&&B.expireCache(U)}forEachLoadedTile(_,U,B,q){const at=this.getTileCacheForProjection(_);if(!at)return!1;let mt,pt,Et,lt=!0;for(let At=B.minX;At<=B.maxX;++At)for(let Ut=B.minY;Ut<=B.maxY;++Ut)pt=u(U,At,Ut),Et=!1,at.containsKey(pt)&&(mt=at.get(pt),Et=mt.getState()===d.Z.LOADED,Et&&(Et=!1!==q(mt))),Et||(lt=!1);return lt}getGutterForProjection(_){return 0}getKey(){return this.key_}setKey(_){this.key_!==_&&(this.key_=_,this.changed())}getOpaque(_){return this.opaque_}getResolutions(_){const U=_?this.getTileGridForProjection(_):this.tileGrid;return U?U.getResolutions():null}getTile(_,U,B,q,at){return(0,p.O3)()}getTileGrid(){return this.tileGrid}getTileGridForProjection(_){return this.tileGrid?this.tileGrid:E(_)}getTileCacheForProjection(_){const U=this.getProjection();return(0,x.h)(null===U||(0,h.OP)(U,_),68),this.tileCache}getTilePixelRatio(_){return this.tilePixelRatio_}getTilePixelSize(_,U,B){const q=this.getTileGridForProjection(B),at=this.getTilePixelRatio(U),lt=(0,D.Pq)(q.getTileSize(_),this.tmpSize);return 1==at?lt:(0,D.bA)(lt,at,this.tmpSize)}getTileCoordForTileUrlFunction(_,U){U=void 0!==U?U:this.getProjection();const B=this.getTileGridForProjection(U);return this.getWrapX()&&U.isGlobal()&&(_=function C(ot,_,U){const B=_[0],q=ot.getTileCoordCenter(_),at=Q(U);if(!(0,Z.b8)(at,q)){const lt=(0,Z.dz)(at),mt=Math.ceil((at[0]-q[0])/lt);return q[0]+=lt*mt,ot.getTileCoordForCoordAndZ(q,B)}return _}(B,_,U)),function n(ot,_){const U=ot[0],B=ot[1],q=ot[2];if(_.getMinZoom()>U||U>_.getMaxZoom())return!1;const at=_.getFullTileRange(U);return!at||at.containsXY(B,q)}(_,B)?_:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(_,U){const B=this.getTileCacheForProjection(U);_>B.highWaterMark&&(B.highWaterMark=_)}useTile(_,U,B,q){}};function ut(ot,_){const U=/\{z\}/g,B=/\{x\}/g,q=/\{y\}/g,at=/\{-y\}/g;return function(lt,mt,pt){if(lt)return ot.replace(U,lt[0].toString()).replace(B,lt[1].toString()).replace(q,lt[2].toString()).replace(at,function(){const At=_.getFullTileRange(lt[0]);return(0,x.h)(At,55),(At.getHeight()-lt[2]-1).toString()})}}class Zt extends rt{constructor(_){super({attributions:_.attributions,cacheSize:_.cacheSize,opaque:_.opaque,projection:_.projection,state:_.state,tileGrid:_.tileGrid,tilePixelRatio:_.tilePixelRatio,wrapX:_.wrapX,transition:_.transition,interpolate:_.interpolate,key:_.key,attributionsCollapsible:_.attributionsCollapsible,zDirection:_.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Zt.prototype.tileUrlFunction,this.tileLoadFunction=_.tileLoadFunction,_.tileUrlFunction&&(this.tileUrlFunction=_.tileUrlFunction),this.urls=null,_.urls?this.setUrls(_.urls):_.url&&this.setUrl(_.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(_){const U=_.target,B=(0,p.sq)(U),q=U.getState();let at;q==d.Z.LOADING?(this.tileLoadingKeys_[B]=!0,at="tileloadstart"):B in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[B],at=q==d.Z.ERROR?"tileloaderror":q==d.Z.LOADED?"tileloadend":void 0),null!=at&&this.dispatchEvent(new tt(at,U))}setTileLoadFunction(_){this.tileCache.clear(),this.tileLoadFunction=_,this.changed()}setTileUrlFunction(_,U){this.tileUrlFunction=_,this.tileCache.pruneExceptNewestZ(),typeof U<"u"?this.setKey(U):this.changed()}setUrl(_){const U=function Lt(ot){const _=[];let U=/\{([a-z])-([a-z])\}/.exec(ot);if(U){const B=U[1].charCodeAt(0),q=U[2].charCodeAt(0);let at;for(at=B;at<=q;++at)_.push(ot.replace(U[0],String.fromCharCode(at)));return _}if(U=/\{(\d+)-(\d+)\}/.exec(ot),U){const B=parseInt(U[2],10);for(let q=parseInt(U[1],10);q<=B;q++)_.push(ot.replace(U[0],q.toString()));return _}return _.push(ot),_}(_);this.urls=U,this.setUrls(U)}setUrls(_){this.urls=_;const U=_.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function vt(ot,_){const U=ot.length,B=new Array(U);for(let q=0;q<U;++q)B[q]=ut(ot[q],_);return function Ct(ot){return 1===ot.length?ot[0]:function(_,U,B){if(!_)return;const q=function s(ot){return(ot[1]<<ot[0])+ot[2]}(_),at=(0,O.$W)(q,ot.length);return ot[at](_,U,B)}}(B)}(_,this.tileGrid),U):this.setKey(U)}tileUrlFunction(_,U,B){}useTile(_,U,B){const q=u(_,U,B);this.tileCache.containsKey(q)&&this.tileCache.get(q)}}const wt=Zt;function Wt(ot,_){ot.getImage().src=_}const w=class Kt extends wt{constructor(_){super({attributions:_.attributions,cacheSize:_.cacheSize,opaque:_.opaque,projection:_.projection,state:_.state,tileGrid:_.tileGrid,tileLoadFunction:_.tileLoadFunction?_.tileLoadFunction:Wt,tilePixelRatio:_.tilePixelRatio,tileUrlFunction:_.tileUrlFunction,url:_.url,urls:_.urls,wrapX:_.wrapX,transition:_.transition,interpolate:void 0===_.interpolate||_.interpolate,key:_.key,attributionsCollapsible:_.attributionsCollapsible,zDirection:_.zDirection}),this.crossOrigin=void 0!==_.crossOrigin?_.crossOrigin:null,this.tileClass=void 0!==_.tileClass?_.tileClass:I.Z,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=_.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const _ in this.tileCacheForProjection)if(this.tileCacheForProjection[_].canExpireCache())return!0;return!1}expireCache(_,U){const B=this.getTileCacheForProjection(_);this.tileCache.expireCache(this.tileCache==B?U:{});for(const q in this.tileCacheForProjection){const at=this.tileCacheForProjection[q];at.expireCache(at==B?U:{})}}getGutterForProjection(_){return this.getProjection()&&_&&!(0,h.OP)(this.getProjection(),_)?0:this.getGutter()}getGutter(){return 0}getKey(){let _=super.getKey();return this.getInterpolate()||(_+=":disable-interpolation"),_}getOpaque(_){return!(this.getProjection()&&_&&!(0,h.OP)(this.getProjection(),_))&&super.getOpaque(_)}getTileGridForProjection(_){const U=this.getProjection();if(this.tileGrid&&(!U||(0,h.OP)(U,_)))return this.tileGrid;const B=(0,p.sq)(_);return B in this.tileGridForProjection||(this.tileGridForProjection[B]=E(_)),this.tileGridForProjection[B]}getTileCacheForProjection(_){const U=this.getProjection();if(!U||(0,h.OP)(U,_))return this.tileCache;const B=(0,p.sq)(_);return B in this.tileCacheForProjection||(this.tileCacheForProjection[B]=new r(this.tileCache.highWaterMark)),this.tileCacheForProjection[B]}createTile_(_,U,B,q,at,lt){const mt=[_,U,B],pt=this.getTileCoordForTileUrlFunction(mt,at),Et=pt?this.tileUrlFunction(pt,q,at):void 0,At=new this.tileClass(mt,void 0!==Et?d.Z.IDLE:d.Z.EMPTY,void 0!==Et?Et:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return At.key=lt,At.addEventListener(M.Z.CHANGE,this.handleTileChange.bind(this)),At}getTile(_,U,B,q,at){const lt=this.getProjection();if(!lt||!at||(0,h.OP)(lt,at))return this.getTileInternal(_,U,B,q,lt||at);const mt=this.getTileCacheForProjection(at),pt=[_,U,B];let Et;const At=a(pt);mt.containsKey(At)&&(Et=mt.get(At));const Ut=this.getKey();if(Et&&Et.key==Ut)return Et;const Yt=this.getTileGridForProjection(lt),Vt=this.getTileGridForProjection(at),Y=this.getTileCoordForTileUrlFunction(pt,at),J=new A.Z(lt,Yt,at,Vt,pt,Y,this.getTilePixelRatio(q),this.getGutter(),(it,ct,ft,Tt)=>this.getTileInternal(it,ct,ft,Tt,lt),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return J.key=Ut,Et?(J.interimTile=Et,J.refreshInterimChain(),mt.replace(At,J)):mt.set(At,J),J}getTileInternal(_,U,B,q,at){let lt=null;const mt=u(_,U,B),pt=this.getKey();if(this.tileCache.containsKey(mt)){if(lt=this.tileCache.get(mt),lt.key!=pt){const Et=lt;lt=this.createTile_(_,U,B,q,at,pt),lt.interimTile=Et.getState()==d.Z.IDLE?Et.interimTile:Et,lt.refreshInterimChain(),this.tileCache.replace(mt,lt)}}else lt=this.createTile_(_,U,B,q,at,pt),this.tileCache.set(mt,lt);return lt}setRenderReprojectionEdges(_){if(this.renderReprojectionEdges_!=_){this.renderReprojectionEdges_=_;for(const U in this.tileCacheForProjection)this.tileCacheForProjection[U].clear();this.changed()}}setTileGridForProjection(_,U){const B=(0,h.U2)(_);if(B){const q=(0,p.sq)(B);q in this.tileGridForProjection||(this.tileGridForProjection[q]=U)}}clear(){super.clear();for(const _ in this.tileCacheForProjection)this.tileCacheForProjection[_].clear()}},H=class G extends w{constructor(_){const U=void 0!==(_=_||{}).projection?_.projection:"EPSG:3857",B=void 0!==_.tileGrid?_.tileGrid:function V(ot){const _=ot||{},U=_.extent||(0,h.U2)("EPSG:3857").getExtent(),B={extent:U,minZoom:_.minZoom,tileSize:_.tileSize,resolutions:k(U,_.maxZoom,_.tileSize,_.maxResolution)};return new y(B)}({extent:Q(U),maxResolution:_.maxResolution,maxZoom:_.maxZoom,minZoom:_.minZoom,tileSize:_.tileSize});super({attributions:_.attributions,cacheSize:_.cacheSize,crossOrigin:_.crossOrigin,interpolate:_.interpolate,opaque:_.opaque,projection:U,reprojectionErrorThreshold:_.reprojectionErrorThreshold,tileGrid:B,tileLoadFunction:_.tileLoadFunction,tilePixelRatio:_.tilePixelRatio,tileUrlFunction:_.tileUrlFunction,url:_.url,urls:_.urls,wrapX:void 0===_.wrapX||_.wrapX,transition:_.transition,attributionsCollapsible:_.attributionsCollapsible,zDirection:_.zDirection}),this.gutter_=void 0!==_.gutter?_.gutter:0}getGutter(){return this.gutter_}},Ot=class yt extends H{constructor(_){let U;U=void 0!==(_=_||{}).attributions?_.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],super({attributions:U,attributionsCollapsible:!1,cacheSize:_.cacheSize,crossOrigin:void 0!==_.crossOrigin?_.crossOrigin:"anonymous",interpolate:_.interpolate,maxZoom:void 0!==_.maxZoom?_.maxZoom:19,opaque:void 0===_.opaque||_.opaque,reprojectionErrorThreshold:_.reprojectionErrorThreshold,tileLoadFunction:_.tileLoadFunction,transition:_.transition,url:void 0!==_.url?_.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:_.wrapX,zDirection:_.zDirection})}}},5347:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>m});var M=o(1092),I=o(5111);function x(R){return R?Array.isArray(R)?function(f){return R}:"function"==typeof R?R:function(f){return[R]}:null}const m=class A extends M.Z{constructor(f){super(),this.projection=(0,I.U2)(f.projection),this.attributions_=x(f.attributions),this.attributionsCollapsible_=void 0===f.attributionsCollapsible||f.attributionsCollapsible,this.loading=!1,this.state_=void 0!==f.state?f.state:"ready",this.wrapX_=void 0!==f.wrapX&&f.wrapX,this.interpolate_=!!f.interpolate,this.viewResolver=null,this.viewRejector=null;const u=this;this.viewPromise_=new Promise(function(a,e){u.viewResolver=a,u.viewRejector=e})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(f){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(f){this.attributions_=x(f),this.changed()}setState(f){this.state_=f,this.changed()}}},5930:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>L});var M=o(1165),I=o(9529),A=o(9395),x=o(8688),m=o(3196),R=o(4989),f=o(5347),u=o(451),a=o(589);function i(K,D){return[[-1/0,-1/0,1/0,1/0]]}o(5111);var c=o(2780),r=o(4654),d=o(7555),T=o(9070),g=o(925),l=o(7796);function P(K,D){return function(b,z,S,y,E){const C=this;!function h(K,D,b,z,S,y,E){const C=new XMLHttpRequest;C.open("GET","function"==typeof K?K(b,z,S):K,!0),"arraybuffer"==D.getType()&&(C.responseType="arraybuffer"),C.withCredentials=false,C.onload=function(j){if(!C.status||C.status>=200&&C.status<300){const V=D.getType();let k;"json"==V||"text"==V?k=C.responseText:"xml"==V?(k=C.responseXML,k||(k=(new DOMParser).parseFromString(C.responseText,"application/xml"))):"arraybuffer"==V&&(k=C.response),k?y(D.readFeatures(k,{extent:b,featureProjection:S}),D.readProjection(k)):E()}else E()},C.onerror=E,C.send()}(K,D,b,z,S,function(j,V){C.addFeatures(j),void 0!==y&&y(j)},E||a.Zn)}}class O extends A.ZP{constructor(D,b,z){super(D),this.feature=b,this.features=z}}const L=class Z extends f.Z{constructor(D){super({attributions:(D=D||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===D.wrapX||D.wrapX}),this.loader_=a.Zn,this.format_=D.format,this.overlaps_=void 0===D.overlaps||D.overlaps,this.url_=D.url,void 0!==D.loader?this.loader_=D.loader:void 0!==this.url_&&((0,c.h)(this.format_,7),this.loader_=P(this.url_,this.format_)),this.strategy_=void 0!==D.strategy?D.strategy:i;const b=void 0===D.useSpatialIndex||D.useSpatialIndex;let z,S;this.featuresRtree_=b?new R.Z:null,this.loadedExtentsRtree_=new R.Z,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(D.features)?S=D.features:D.features&&(z=D.features,S=z.getArray()),!b&&void 0===z&&(z=new M.Z(S)),void 0!==S&&this.addFeaturesInternal(S),void 0!==z&&this.bindFeaturesCollection_(z)}addFeature(D){this.addFeatureInternal(D),this.changed()}addFeatureInternal(D){const b=(0,T.sq)(D);if(!this.addToIndex_(b,D))return void(this.featuresCollection_&&this.featuresCollection_.remove(D));this.setupChangeEvents_(b,D);const z=D.getGeometry();if(z){const S=z.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(S,D)}else this.nullGeometryFeatures_[b]=D;this.dispatchEvent(new O(u.Z.ADDFEATURE,D))}setupChangeEvents_(D,b){this.featureChangeKeys_[D]=[(0,l.oL)(b,x.Z.CHANGE,this.handleFeatureChange_,this),(0,l.oL)(b,m.Z.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(D,b){let z=!0;const S=b.getId();return void 0!==S&&(S.toString()in this.idIndex_?z=!1:this.idIndex_[S.toString()]=b),z&&((0,c.h)(!(D in this.uidIndex_),30),this.uidIndex_[D]=b),z}addFeatures(D){this.addFeaturesInternal(D),this.changed()}addFeaturesInternal(D){const b=[],z=[],S=[];for(let y=0,E=D.length;y<E;y++){const C=D[y],j=(0,T.sq)(C);this.addToIndex_(j,C)&&z.push(C)}for(let y=0,E=z.length;y<E;y++){const C=z[y],j=(0,T.sq)(C);this.setupChangeEvents_(j,C);const V=C.getGeometry();if(V){const k=V.getExtent();b.push(k),S.push(C)}else this.nullGeometryFeatures_[j]=C}if(this.featuresRtree_&&this.featuresRtree_.load(b,S),this.hasListener(u.Z.ADDFEATURE))for(let y=0,E=z.length;y<E;y++)this.dispatchEvent(new O(u.Z.ADDFEATURE,z[y]))}bindFeaturesCollection_(D){let b=!1;this.addEventListener(u.Z.ADDFEATURE,function(z){b||(b=!0,D.push(z.feature),b=!1)}),this.addEventListener(u.Z.REMOVEFEATURE,function(z){b||(b=!0,D.remove(z.feature),b=!1)}),D.addEventListener(I.Z.ADD,z=>{b||(b=!0,this.addFeature(z.element),b=!1)}),D.addEventListener(I.Z.REMOVE,z=>{b||(b=!0,this.removeFeature(z.element),b=!1)}),this.featuresCollection_=D}clear(D){if(D){for(const z in this.featureChangeKeys_)this.featureChangeKeys_[z].forEach(l.bN);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(S=>{this.removeFeatureInternal(S)});for(const S in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[S])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const b=new O(u.Z.CLEAR);this.dispatchEvent(b),this.changed()}forEachFeature(D){if(this.featuresRtree_)return this.featuresRtree_.forEach(D);this.featuresCollection_&&this.featuresCollection_.forEach(D)}forEachFeatureAtCoordinateDirect(D,b){return this.forEachFeatureInExtent([D[0],D[1],D[0],D[1]],function(S){if(S.getGeometry().intersectsCoordinate(D))return b(S)})}forEachFeatureInExtent(D,b){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(D,b);this.featuresCollection_&&this.featuresCollection_.forEach(b)}forEachFeatureIntersectingExtent(D,b){return this.forEachFeatureInExtent(D,function(z){if(z.getGeometry().intersectsExtent(D)){const y=b(z);if(y)return y}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let D;return this.featuresCollection_?D=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(D=this.featuresRtree_.getAll(),(0,g.x)(this.nullGeometryFeatures_)||(0,d.l7)(D,Object.values(this.nullGeometryFeatures_))),D}getFeaturesAtCoordinate(D){const b=[];return this.forEachFeatureAtCoordinateDirect(D,function(z){b.push(z)}),b}getFeaturesInExtent(D,b){if(this.featuresRtree_){if(!(b&&b.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(D);const S=(0,r.MV)(D,b);return[].concat(...S.map(y=>this.featuresRtree_.getInExtent(y)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(D,b){const z=D[0],S=D[1];let y=null;const E=[NaN,NaN];let C=1/0;const j=[-1/0,-1/0,1/0,1/0];return b=b||a.uX,this.featuresRtree_.forEachInExtent(j,function(V){if(b(V)){const k=V.getGeometry(),et=C;if(C=k.closestPointXY(z,S,E,C),C<et){y=V;const Q=Math.sqrt(C);j[0]=z-Q,j[1]=S-Q,j[2]=z+Q,j[3]=S+Q}}}),y}getExtent(D){return this.featuresRtree_.getExtent(D)}getFeatureById(D){const b=this.idIndex_[D.toString()];return void 0!==b?b:null}getFeatureByUid(D){const b=this.uidIndex_[D];return void 0!==b?b:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(D){const b=D.target,z=(0,T.sq)(b),S=b.getGeometry();if(S){const E=S.getExtent();z in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[z],this.featuresRtree_&&this.featuresRtree_.insert(E,b)):this.featuresRtree_&&this.featuresRtree_.update(E,b)}else z in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(b),this.nullGeometryFeatures_[z]=b);const y=b.getId();if(void 0!==y){const E=y.toString();this.idIndex_[E]!==b&&(this.removeFromIdIndex_(b),this.idIndex_[E]=b)}else this.removeFromIdIndex_(b),this.uidIndex_[z]=b;this.changed(),this.dispatchEvent(new O(u.Z.CHANGEFEATURE,b))}hasFeature(D){const b=D.getId();return void 0!==b?b in this.idIndex_:(0,T.sq)(D)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,g.x)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(D,b,z){const S=this.loadedExtentsRtree_,y=this.strategy_(D,b,z);for(let E=0,C=y.length;E<C;++E){const j=y[E];S.forEachInExtent(j,function(k){return(0,r.r4)(k.extent,j)})||(++this.loadingExtentsCount_,this.dispatchEvent(new O(u.Z.FEATURESLOADSTART)),this.loader_.call(this,j,b,z,k=>{--this.loadingExtentsCount_,this.dispatchEvent(new O(u.Z.FEATURESLOADEND,void 0,k))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new O(u.Z.FEATURESLOADERROR))}),S.insert(j,{extent:j.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(D){const b=this.loadedExtentsRtree_;let z;b.forEachInExtent(D,function(S){if((0,r.fS)(S.extent,D))return z=S,!0}),z&&b.remove(z)}removeFeature(D){if(!D)return;const b=(0,T.sq)(D);b in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[b]:this.featuresRtree_&&this.featuresRtree_.remove(D),this.removeFeatureInternal(D)&&this.changed()}removeFeatureInternal(D){const b=(0,T.sq)(D),z=this.featureChangeKeys_[b];if(!z)return;z.forEach(l.bN),delete this.featureChangeKeys_[b];const S=D.getId();return void 0!==S&&delete this.idIndex_[S.toString()],delete this.uidIndex_[b],this.dispatchEvent(new O(u.Z.REMOVEFEATURE,D)),D}removeFromIdIndex_(D){let b=!1;for(const z in this.idIndex_)if(this.idIndex_[z]===D){delete this.idIndex_[z],b=!0;break}return b}setLoader(D){this.loader_=D}setUrl(D){(0,c.h)(this.format_,7),this.url_=D,this.setLoader(P(D,this.format_))}}},451:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>M});const M={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}},4989:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>R});var M=o(1414),I=o(4654),A=o(9070),x=o(925);const R=class m{constructor(u){this.rbush_=new M(u),this.items_={}}insert(u,a){const e={minX:u[0],minY:u[1],maxX:u[2],maxY:u[3],value:a};this.rbush_.insert(e),this.items_[(0,A.sq)(a)]=e}load(u,a){const e=new Array(a.length);for(let i=0,s=a.length;i<s;i++){const n=u[i],c=a[i],r={minX:n[0],minY:n[1],maxX:n[2],maxY:n[3],value:c};e[i]=r,this.items_[(0,A.sq)(c)]=r}this.rbush_.load(e)}remove(u){const a=(0,A.sq)(u),e=this.items_[a];return delete this.items_[a],null!==this.rbush_.remove(e)}update(u,a){const e=this.items_[(0,A.sq)(a)];(0,I.fS)([e.minX,e.minY,e.maxX,e.maxY],u)||(this.remove(a),this.insert(u,a))}getAll(){return this.rbush_.all().map(function(a){return a.value})}getInExtent(u){return this.rbush_.search({minX:u[0],minY:u[1],maxX:u[2],maxY:u[3]}).map(function(i){return i.value})}forEach(u){return this.forEach_(this.getAll(),u)}forEachInExtent(u,a){return this.forEach_(this.getInExtent(u),a)}forEach_(u,a){let e;for(let i=0,s=u.length;i<s;i++)if(e=a(u[i]),e)return e;return e}isEmpty(){return(0,x.x)(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(u){const a=this.rbush_.toJSON();return(0,I.T9)(a.minX,a.minY,a.maxX,a.maxY,u)}concat(u){this.rbush_.load(u.rbush_.all());for(const a in u.items_)this.items_[a]=u.items_[a]}}},9443:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>A});var M=o(5729);class I extends M.Z{constructor(m){super({points:1/0,fill:(m=m||{radius:5}).fill,radius:m.radius,stroke:m.stroke,scale:void 0!==m.scale?m.scale:1,rotation:void 0!==m.rotation?m.rotation:0,rotateWithView:void 0!==m.rotateWithView&&m.rotateWithView,displacement:void 0!==m.displacement?m.displacement:[0,0],declutterMode:m.declutterMode})}clone(){const m=this.getScale(),R=new I({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(m)?m.slice():m,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return R.setOpacity(this.getOpacity()),R}setRadius(m){this.radius_=m,this.render()}}const A=I},1059:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>I});class M{constructor(x){this.color_=void 0!==(x=x||{}).color?x.color:null}clone(){const x=this.getColor();return new M({color:Array.isArray(x)?x.slice():x||void 0})}getColor(){return this.color_}setColor(x){this.color_=x}}const I=M},3822:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>T});var M=o(8688),I=o(1084),A=o(660),x=o(9145),m=o(2780),R=o(9078),f=o(7120),u=o(1075),a=o(5605);let e=null;class i extends R.Z{constructor(l,p,h,P,N,O){super(),this.hitDetectionImage_=null,this.image_=l,this.crossOrigin_=P,this.canvas_={},this.color_=O,this.unlisten_=null,this.imageState_=N,this.size_=h,this.src_=p}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===I.Z.LOADED){e||(e=(0,f.E4)(1,1,void 0,{willReadFrequently:!0})),e.drawImage(this.image_,0,0);try{e.getImageData(0,0,1,1),this.tainted_=!1}catch{e=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(M.Z.CHANGE)}handleImageError_(){this.imageState_=I.Z.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=I.Z.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(l){return this.image_||this.initializeImage_(),this.replaceColor_(l),this.canvas_[l]?this.canvas_[l]:this.image_}getPixelRatio(l){return this.replaceColor_(l),this.canvas_[l]?l:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const l=this.size_[0],p=this.size_[1],h=(0,f.E4)(l,p);h.fillRect(0,0,l,p),this.hitDetectionImage_=h.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===I.Z.IDLE){this.image_||this.initializeImage_(),this.imageState_=I.Z.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=(0,a.K)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(l){if(!this.color_||this.canvas_[l]||this.imageState_!==I.Z.LOADED)return;const p=this.image_,h=document.createElement("canvas");h.width=Math.ceil(p.width*l),h.height=Math.ceil(p.height*l);const P=h.getContext("2d");P.scale(l,l),P.drawImage(p,0,0),P.globalCompositeOperation="multiply",P.fillStyle=(0,x.XC)(this.color_),P.fillRect(0,0,h.width/l,h.height/l),P.globalCompositeOperation="destination-in",P.drawImage(p,0,0),this.canvas_[l]=h}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}var c=o(9070);function r(g,l,p,h){return void 0!==p&&void 0!==h?[p/g,h/l]:void 0!==p?p/g:void 0!==h?h/l:1}class d extends A.Z{constructor(l){super({opacity:void 0!==(l=l||{}).opacity?l.opacity:1,rotation:void 0!==l.rotation?l.rotation:0,scale:void 0!==l.scale?l.scale:1,displacement:void 0!==l.displacement?l.displacement:[0,0],rotateWithView:void 0!==l.rotateWithView&&l.rotateWithView,declutterMode:l.declutterMode}),this.anchor_=void 0!==l.anchor?l.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==l.anchorOrigin?l.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==l.anchorXUnits?l.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==l.anchorYUnits?l.anchorYUnits:"fraction",this.crossOrigin_=void 0!==l.crossOrigin?l.crossOrigin:null;const O=void 0!==l.img?l.img:null;this.imgSize_=l.imgSize;let Z=l.src;(0,m.h)(!(void 0!==Z&&O),4),(0,m.h)(!O||O&&this.imgSize_,5),(void 0===Z||0===Z.length)&&O&&(Z=O.src||(0,c.sq)(O)),(0,m.h)(void 0!==Z&&Z.length>0,6),(0,m.h)(!((void 0!==l.width||void 0!==l.height)&&void 0!==l.scale),69);const L=void 0!==l.src?I.Z.IDLE:I.Z.LOADED;if(this.color_=void 0!==l.color?(0,x._2)(l.color):null,this.iconImage_=function s(g,l,p,h,P,N){let O=u.c.get(l,h,N);return O||(O=new i(g,l,p,h,P,N),u.c.set(l,h,N,O)),O}(O,Z,void 0!==this.imgSize_?this.imgSize_:null,this.crossOrigin_,L,this.color_),this.offset_=void 0!==l.offset?l.offset:[0,0],this.offsetOrigin_=void 0!==l.offsetOrigin?l.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==l.size?l.size:null,void 0!==l.width||void 0!==l.height){let K,D;if(l.size)[K,D]=l.size;else{const b=this.getImage(1);if(!(b instanceof HTMLCanvasElement||b.src&&b.complete)){this.initialOptions_=l;const z=()=>{if(this.unlistenImageChange(z),!this.initialOptions_)return;const S=this.iconImage_.getSize();this.setScale(r(S[0],S[1],l.width,l.height))};return void this.listenImageChange(z)}K=b.width,D=b.height}void 0!==K&&this.setScale(r(K,D,l.width,l.height))}}clone(){let l,p,h;return this.initialOptions_?(p=this.initialOptions_.width,h=this.initialOptions_.height):(l=this.getScale(),l=Array.isArray(l)?l.slice():l),new d({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:l,width:p,height:h,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let l=this.normalizedAnchor_;if(!l){l=this.anchor_;const P=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!P)return null;l=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(l[0]*=P[0]),"fraction"==this.anchorYUnits_&&(l[1]*=P[1])}if("top-left"!=this.anchorOrigin_){if(!P)return null;l===this.anchor_&&(l=this.anchor_.slice()),("top-right"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(l[0]=-l[0]+P[0]),("bottom-left"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(l[1]=-l[1]+P[1])}this.normalizedAnchor_=l}const p=this.getDisplacement(),h=this.getScaleArray();return[l[0]-p[0]/h[0],l[1]+p[1]/h[1]]}setAnchor(l){this.anchor_=l,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(l){return this.iconImage_.getImage(l)}getPixelRatio(l){return this.iconImage_.getPixelRatio(l)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let l=this.offset_;if("top-left"!=this.offsetOrigin_){const p=this.getSize(),h=this.iconImage_.getSize();if(!p||!h)return null;l=l.slice(),("top-right"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(l[0]=h[0]-p[0]-l[0]),("bottom-left"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(l[1]=h[1]-p[1]-l[1])}return this.origin_=l,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const l=this.getScaleArray();return this.size_?this.size_[0]*l[0]:this.iconImage_.getImageState()==I.Z.LOADED?this.iconImage_.getSize()[0]*l[0]:void 0}getHeight(){const l=this.getScaleArray();return this.size_?this.size_[1]*l[1]:this.iconImage_.getImageState()==I.Z.LOADED?this.iconImage_.getSize()[1]*l[1]:void 0}setScale(l){delete this.initialOptions_,super.setScale(l)}listenImageChange(l){this.iconImage_.addEventListener(M.Z.CHANGE,l)}load(){this.iconImage_.load()}unlistenImageChange(l){this.iconImage_.removeEventListener(M.Z.CHANGE,l)}}const T=d},1075:(ht,X,o)=>{"use strict";o.d(X,{c:()=>m});var M=o(9145);function A(R,f,u){return f+":"+R+":"+(u?(0,M.XC)(u):"null")}const m=new class I{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let f=0;for(const u in this.cache_)!(3&f++)&&!this.cache_[u].hasListener()&&(delete this.cache_[u],--this.cacheSize_)}}get(f,u,a){const e=A(f,u,a);return e in this.cache_?this.cache_[e]:null}set(f,u,a,e){const i=A(f,u,a);this.cache_[i]=e,++this.cacheSize_}setSize(f){this.maxCacheSize_=f,this.expire()}}},660:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>x});var M=o(9070),I=o(2518);class A{constructor(R){this.opacity_=R.opacity,this.rotateWithView_=R.rotateWithView,this.rotation_=R.rotation,this.scale_=R.scale,this.scaleArray_=(0,I.Pq)(R.scale),this.displacement_=R.displacement,this.declutterMode_=R.declutterMode}clone(){const R=this.getScale();return new A({opacity:this.getOpacity(),scale:Array.isArray(R)?R.slice():R,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return(0,M.O3)()}getImage(R){return(0,M.O3)()}getHitDetectionImage(){return(0,M.O3)()}getPixelRatio(R){return 1}getImageState(){return(0,M.O3)()}getImageSize(){return(0,M.O3)()}getOrigin(){return(0,M.O3)()}getSize(){return(0,M.O3)()}setDisplacement(R){this.displacement_=R}setOpacity(R){this.opacity_=R}setRotateWithView(R){this.rotateWithView_=R}setRotation(R){this.rotation_=R}setScale(R){this.scale_=R,this.scaleArray_=(0,I.Pq)(R)}listenImageChange(R){(0,M.O3)()}load(){(0,M.O3)()}unlistenImageChange(R){(0,M.O3)()}}const x=A},5729:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>u});var M=o(1084),I=o(660),A=o(9145),x=o(9886),m=o(7120),R=o(748);class f extends I.Z{constructor(e){super({opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const e=this.getScale(),i=new f({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return i.setOpacity(this.getOpacity()),i}getAnchor(){const e=this.size_;if(!e)return null;const i=this.getDisplacement(),s=this.getScaleArray();return[e[0]/2-i[0]/s[0],e[1]/2+i[1]/s[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(e){let i=this.canvas_[e];if(!i){const s=this.renderOptions_,n=(0,m.E4)(s.size*e,s.size*e);this.draw_(s,n,e),i=n.canvas,this.canvas_[e]=i}return i}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return M.Z.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,i,s){if(0===i||this.points_===1/0||"bevel"!==e&&"miter"!==e)return i;let n=this.radius_,c=void 0===this.radius2_?n:this.radius2_;if(n<c){const S=n;n=c,c=S}const d=2*Math.PI/(void 0===this.radius2_?this.points_:2*this.points_),T=c*Math.sin(d),l=n-Math.sqrt(c*c-T*T),p=Math.sqrt(T*T+l*l),h=p/T;if("miter"===e&&h<=s)return h*i;const P=i/2/h,N=i/2*(l/p),Z=Math.sqrt((n+P)*(n+P)+N*N)-n;if(void 0===this.radius2_||"bevel"===e)return 2*Z;const L=n*Math.sin(d),D=c-Math.sqrt(n*n-L*L),z=Math.sqrt(L*L+D*D)/L;return z<=s?2*Math.max(Z,z*i/2-c-n):2*Z}createRenderOptions(){let c,e=R.rc,i=0,s=null,n=0,r=0;this.stroke_&&(c=this.stroke_.getColor(),null===c&&(c=R.Tx),c=(0,x.y)(c),r=this.stroke_.getWidth(),void 0===r&&(r=R.yC),s=this.stroke_.getLineDash(),n=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),void 0===e&&(e=R.rc),i=this.stroke_.getMiterLimit(),void 0===i&&(i=R.V4));const d=this.calculateLineJoinSize_(e,r,i),T=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:c,strokeWidth:r,size:Math.ceil(2*T+d),lineDash:s,lineDashOffset:n,lineJoin:e,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]}draw_(e,i,s){if(i.scale(s,s),i.translate(e.size/2,e.size/2),this.createPath_(i),this.fill_){let n=this.fill_.getColor();null===n&&(n=R.bL),i.fillStyle=(0,x.y)(n),i.fill()}this.stroke_&&(i.strokeStyle=e.strokeStyle,i.lineWidth=e.strokeWidth,e.lineDash&&(i.setLineDash(e.lineDash),i.lineDashOffset=e.lineDashOffset),i.lineJoin=e.lineJoin,i.miterLimit=e.miterLimit,i.stroke())}createHitDetectionCanvas_(e){if(this.fill_){let i=this.fill_.getColor(),s=0;if("string"==typeof i&&(i=(0,A._2)(i)),null===i?s=1:Array.isArray(i)&&(s=4===i.length?i[3]:1),0===s){const n=(0,m.E4)(e.size,e.size);this.hitDetectionCanvas_=n.canvas,this.drawHitDetectionCanvas_(e,n)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(e){let i=this.points_;const s=this.radius_;if(i===1/0)e.arc(0,0,s,0,2*Math.PI);else{const n=void 0===this.radius2_?s:this.radius2_;void 0!==this.radius2_&&(i*=2);const c=this.angle_-Math.PI/2,r=2*Math.PI/i;for(let d=0;d<i;d++){const T=c+d*r,g=d%2==0?s:n;e.lineTo(g*Math.cos(T),g*Math.sin(T))}e.closePath()}}drawHitDetectionCanvas_(e,i){i.translate(e.size/2,e.size/2),this.createPath_(i),i.fillStyle=R.bL,i.fill(),this.stroke_&&(i.strokeStyle=e.strokeStyle,i.lineWidth=e.strokeWidth,e.lineDash&&(i.setLineDash(e.lineDash),i.lineDashOffset=e.lineDashOffset),i.lineJoin=e.lineJoin,i.miterLimit=e.miterLimit,i.stroke())}}const u=f},8648:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>I});class M{constructor(x){this.color_=void 0!==(x=x||{}).color?x.color:null,this.lineCap_=x.lineCap,this.lineDash_=void 0!==x.lineDash?x.lineDash:null,this.lineDashOffset_=x.lineDashOffset,this.lineJoin_=x.lineJoin,this.miterLimit_=x.miterLimit,this.width_=x.width}clone(){const x=this.getColor();return new M({color:Array.isArray(x)?x.slice():x||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(x){this.color_=x}setLineCap(x){this.lineCap_=x}setLineDash(x){this.lineDash_=x}setLineDashOffset(x){this.lineDashOffset_=x}setLineJoin(x){this.lineJoin_=x}setMiterLimit(x){this.miterLimit_=x}setWidth(x){this.width_=x}}const I=M},6093:(ht,X,o)=>{"use strict";o.d(X,{J$:()=>R,Ly:()=>a,ZP:()=>i,yF:()=>u});var M=o(9443),I=o(1059),A=o(8648),x=o(2780);class m{constructor(n){n=n||{},this.geometry_=null,this.geometryFunction_=e,void 0!==n.geometry&&this.setGeometry(n.geometry),this.fill_=void 0!==n.fill?n.fill:null,this.image_=void 0!==n.image?n.image:null,this.renderer_=void 0!==n.renderer?n.renderer:null,this.hitDetectionRenderer_=void 0!==n.hitDetectionRenderer?n.hitDetectionRenderer:null,this.stroke_=void 0!==n.stroke?n.stroke:null,this.text_=void 0!==n.text?n.text:null,this.zIndex_=n.zIndex}clone(){let n=this.getGeometry();return n&&"object"==typeof n&&(n=n.clone()),new m({geometry:n,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(n){this.renderer_=n}setHitDetectionRenderer(n){this.hitDetectionRenderer_=n}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(n){this.fill_=n}getImage(){return this.image_}setImage(n){this.image_=n}getStroke(){return this.stroke_}setStroke(n){this.stroke_=n}getText(){return this.text_}setText(n){this.text_=n}getZIndex(){return this.zIndex_}setGeometry(n){"function"==typeof n?this.geometryFunction_=n:"string"==typeof n?this.geometryFunction_=function(c){return c.get(n)}:n?void 0!==n&&(this.geometryFunction_=function(){return n}):this.geometryFunction_=e,this.geometry_=n}setZIndex(n){this.zIndex_=n}}function R(s){let n;if("function"==typeof s)n=s;else{let c;Array.isArray(s)?c=s:((0,x.h)("function"==typeof s.getZIndex,41),c=[s]),n=function(){return c}}return n}let f=null;function u(s,n){if(!f){const c=new I.Z({color:"rgba(255,255,255,0.4)"}),r=new A.Z({color:"#3399CC",width:1.25});f=[new m({image:new M.Z({fill:c,stroke:r,radius:5}),fill:c,stroke:r})]}return f}function a(){const s={},n=[255,255,255,1],c=[0,153,255,1];return s.Polygon=[new m({fill:new I.Z({color:[255,255,255,.5]})})],s.MultiPolygon=s.Polygon,s.LineString=[new m({stroke:new A.Z({color:n,width:5})}),new m({stroke:new A.Z({color:c,width:3})})],s.MultiLineString=s.LineString,s.Circle=s.Polygon.concat(s.LineString),s.Point=[new m({image:new M.Z({radius:6,fill:new I.Z({color:c}),stroke:new A.Z({color:n,width:1.5})}),zIndex:1/0})],s.MultiPoint=s.Point,s.GeometryCollection=s.Polygon.concat(s.LineString,s.Point),s}function e(s){return s.getGeometry()}const i=m},8983:(ht,X,o)=>{"use strict";o.d(X,{Z:()=>m});var M=o(1059),I=o(2518);class x{constructor(f){this.font_=(f=f||{}).font,this.rotation_=f.rotation,this.rotateWithView_=f.rotateWithView,this.scale_=f.scale,this.scaleArray_=(0,I.Pq)(void 0!==f.scale?f.scale:1),this.text_=f.text,this.textAlign_=f.textAlign,this.justify_=f.justify,this.repeat_=f.repeat,this.textBaseline_=f.textBaseline,this.fill_=void 0!==f.fill?f.fill:new M.Z({color:"#333"}),this.maxAngle_=void 0!==f.maxAngle?f.maxAngle:Math.PI/4,this.placement_=void 0!==f.placement?f.placement:"point",this.overflow_=!!f.overflow,this.stroke_=void 0!==f.stroke?f.stroke:null,this.offsetX_=void 0!==f.offsetX?f.offsetX:0,this.offsetY_=void 0!==f.offsetY?f.offsetY:0,this.backgroundFill_=f.backgroundFill?f.backgroundFill:null,this.backgroundStroke_=f.backgroundStroke?f.backgroundStroke:null,this.padding_=void 0===f.padding?null:f.padding}clone(){const f=this.getScale();return new x({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(f)?f.slice():f,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(f){this.overflow_=f}setFont(f){this.font_=f}setMaxAngle(f){this.maxAngle_=f}setOffsetX(f){this.offsetX_=f}setOffsetY(f){this.offsetY_=f}setPlacement(f){this.placement_=f}setRepeat(f){this.repeat_=f}setRotateWithView(f){this.rotateWithView_=f}setFill(f){this.fill_=f}setRotation(f){this.rotation_=f}setScale(f){this.scale_=f,this.scaleArray_=(0,I.Pq)(void 0!==f?f:1)}setStroke(f){this.stroke_=f}setText(f){this.text_=f}setTextAlign(f){this.textAlign_=f}setJustify(f){this.justify_=f}setTextBaseline(f){this.textBaseline_=f}setBackgroundFill(f){this.backgroundFill_=f}setBackgroundStroke(f){this.backgroundStroke_=f}setPadding(f){this.padding_=f}}const m=x},8834:(ht,X,o)=>{"use strict";o.d(X,{S:()=>I,e:()=>M});const M=42,I=256},9664:(ht,X,o)=>{"use strict";o.d(X,{BB:()=>p,Iu:()=>n,Jp:()=>R,U1:()=>e,Ue:()=>x,bA:()=>i,lk:()=>u,mc:()=>m,n3:()=>s,nb:()=>T,nn:()=>a,qC:()=>c});var M=o(9365),I=o(2780);const A=new Array(6);function x(){return[1,0,0,1,0,0]}function m(h){return f(h,1,0,0,1,0,0)}function R(h,P){const N=h[0],O=h[1],Z=h[2],L=h[3],K=h[4],D=h[5],b=P[0],z=P[1],S=P[2],y=P[3],E=P[4],C=P[5];return h[0]=N*b+Z*z,h[1]=O*b+L*z,h[2]=N*S+Z*y,h[3]=O*S+L*y,h[4]=N*E+Z*C+K,h[5]=O*E+L*C+D,h}function f(h,P,N,O,Z,L,K){return h[0]=P,h[1]=N,h[2]=O,h[3]=Z,h[4]=L,h[5]=K,h}function u(h,P){return h[0]=P[0],h[1]=P[1],h[2]=P[2],h[3]=P[3],h[4]=P[4],h[5]=P[5],h}function a(h,P){const N=P[0],O=P[1];return P[0]=h[0]*N+h[2]*O+h[4],P[1]=h[1]*N+h[3]*O+h[5],P}function e(h,P){const N=Math.cos(P),O=Math.sin(P);return R(h,f(A,N,O,-O,N,0,0))}function i(h,P,N){return R(h,f(A,P,0,0,N,0,0))}function s(h,P,N){return f(h,P,0,0,N,0,0)}function n(h,P,N){return R(h,f(A,1,0,0,1,P,N))}function c(h,P,N,O,Z,L,K,D){const b=Math.sin(L),z=Math.cos(L);return h[0]=O*z,h[1]=Z*b,h[2]=-O*b,h[3]=Z*z,h[4]=K*O*z-D*O*b+P,h[5]=K*Z*b+D*Z*z+N,h}function T(h,P){const N=function g(h){return h[0]*h[3]-h[1]*h[2]}(P);(0,I.h)(0!==N,32);const O=P[0],Z=P[1],L=P[2],K=P[3],D=P[4],b=P[5];return h[0]=K/N,h[1]=-Z/N,h[2]=-L/N,h[3]=O/N,h[4]=(L*b-K*D)/N,h[5]=-(O*b-Z*D)/N,h}let l;function p(h){const P="matrix("+h.join(", ")+")";if(M.Id)return P;const N=l||(l=document.createElement("div"));return N.style.transform=P,N.style.transform}},9070:(ht,X,o)=>{"use strict";function M(){throw new Error("Unimplemented abstract method.")}o.d(X,{O3:()=>M,sq:()=>A});let I=0;function A(m){return m.ol_uid||(m.ol_uid=String(++I))}}}]);