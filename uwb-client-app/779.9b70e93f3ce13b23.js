"use strict";(self.webpackChunkuwb_client_app=self.webpackChunkuwb_client_app||[]).push([[779],{779:(G,O,l)=>{l.r(O),l.d(O,{ObjectsModule:()=>he});var _=l(6106),j=l(6208),h=l(2125),a=l(6223),e=l(9291),c=l(8193),b=l(1321),d=l(5374),f=l(7966),m=l(3999),N=l(5032),T=l(7398),Q=l(9862);let y=(()=>{class i{constructor(t){this.http=t,this.resourceUrl=N.T+"uwb-object-type"}findAll(){return this.http.get(this.resourceUrl,{observe:"response"})}findById(t){return this.http.get(`${this.resourceUrl}/${t}`,{observe:"response"})}findAllByUserOrganizationUnit(t){return this.http.get(`${this.resourceUrl}/user-organization-unit/${t}`,{observe:"response"})}create(t){return this.http.post(this.resourceUrl,t,{observe:"response"})}update(t){return this.http.put(this.resourceUrl,t,{observe:"response"})}delete(t){return this.http.delete(`${this.resourceUrl}/${t}`,{observe:"response",responseType:"text"}).pipe((0,T.U)(n=>n.body))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Q.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var C=l(5969),w=l(7477),U=l(2435),D=l(7571),z=l(641),v=l(7397),x=l(6861),S=l(6814);function M(i,r){1&i&&e._UZ(0,"uwb-input-warn",13),2&i&&e.Q6J("minLength",2)("maxLength",30)}function k(i,r){1&i&&e._UZ(0,"uwb-input-warn",13),2&i&&e.Q6J("minLength",2)("maxLength",30)}function P(i,r){1&i&&e._UZ(0,"uwb-input-warn",13),2&i&&e.Q6J("minLength",2)("maxLength",20)}let V=(()=>{class i{constructor(t,n,o,s,u,p,g,I){this.formBuilder=t,this.ref=n,this.config=o,this.clientsService=s,this.objectsService=u,this.toastService=p,this.translateService=g,this.objectTypesService=I,this.edit=!1,this.dropdownObjectTypeItems=[],this.treeSelectItems=[]}ngOnInit(){this.loadPageData(),this.loadFormGroup(),this.loadOrganizationUnits()}loadPageData(){this.edit=this.config.data.edit,this.selectedObject=this.config.data.selectedObject,this.pageSelectedOrganizationUnit=this.config.data.selectedOrganizationUnit}loadFormGroup(){this.formGroup=this.formBuilder.group({name:[{value:null,disabled:!1},[a.kI.required,a.kI.minLength(2),a.kI.maxLength(30)]],secondName:[{value:null,disabled:!1},[a.kI.required,a.kI.minLength(2),a.kI.maxLength(30)]],hexTagId:[{value:null,disabled:this.edit},[a.kI.required,a.kI.minLength(2),a.kI.maxLength(20)]],uwbObjectTypeId:[{value:null,disabled:!1},[a.kI.required]]}),this.edit&&(this.loadObjectTypes(this.selectedObject?.uwbObjectType?.organizationUnitId),this.formGroup.patchValue({name:this.selectedObject?.name,secondName:this.selectedObject?.secondName,hexTagId:this.selectedObject?.hexTagId,uwbObjectTypeId:this.selectedObject?.uwbObjectType?.id}))}loadOrganizationUnits(){this.clientsService.findTree().subscribe(t=>{this.treeSelectItems=t.body??[],this.edit?this.selectedOrganizationUnit=this.clientsService.findByIdFromUnits(this.treeSelectItems[0],this.selectedObject?.uwbObjectType?.organizationUnitId):(this.selectedOrganizationUnit=this.clientsService.findByIdFromUnits(this.treeSelectItems[0],this.pageSelectedOrganizationUnit?.id),this.loadObjectTypes(this.selectedOrganizationUnit.data.id))})}loadObjectTypes(t){this.objectTypesService.findAllByUserOrganizationUnit(t).subscribe(n=>{this.dropdownObjectTypeItems=n.body??[],1===this.dropdownObjectTypeItems.length&&this.formGroup?.get("uwbObjectTypeId")?.setValue(this.dropdownObjectTypeItems[0].id)})}onOrganizationUnitSelected(t){t&&this.loadObjectTypes(t.id)}onSave(){let t=this.formGroup?.getRawValue();t={...t,hexTagId:t.hexTagId.toLowerCase()},this.edit?(t.id=this.selectedObject?.id,this.objectsService.update(t).subscribe({next:()=>{this.toastService.showSuccessToast({summary:this.translateService.instant("global.toast.header.success"),detail:this.translateService.instant("object.dialog.editSuccess")}),this.onCloseDialog(!0)},error:()=>{this.toastService.showErrorToast({summary:this.translateService.instant("global.toast.header.error"),detail:this.translateService.instant("object.dialog.editError")})}})):this.objectsService.create(t).subscribe({next:()=>{this.toastService.showSuccessToast({summary:this.translateService.instant("global.toast.header.success"),detail:this.translateService.instant("object.dialog.addSuccess")}),this.onCloseDialog(!0)},error:n=>{this.toastService.showErrorToast(409===n.status?{summary:this.translateService.instant("global.toast.header.error"),detail:this.translateService.instant("object.dialog.idAlreadyExistsError")}:{summary:this.translateService.instant("global.toast.header.error"),detail:this.translateService.instant("object.dialog.addError")})}})}onCloseDialog(t){this.ref.close(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(c.E7),e.Y36(c.S),e.Y36(b.a),e.Y36(d.h),e.Y36(f.k),e.Y36(m.sK),e.Y36(y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["uwb-objects-dialog"]],decls:29,vars:30,consts:[[3,"formGroup","ngSubmit","cancel"],["form-body",""],[3,"styleClass"],[1,"p-float-label"],["pInputText","","id","name","formControlName","name","minlength","2","maxlength","30"],["htmlFor","name"],[3,"minLength","maxLength",4,"ngIf"],["pInputText","","id","secondName","formControlName","secondName","minlength","2","maxlength","30"],["htmlFor","secondName"],["pInputText","","id","hexTagId","formControlName","hexTagId","minlength","2","maxlength","20"],["htmlFor","hexTagId"],[3,"treeSelectValue","options","optionLabel","label","modelChange"],["formControlName","uwbObjectTypeId",3,"items","optionLabel","itemValue","label"],[3,"minLength","maxLength"]],template:function(t,n){if(1&t&&(e.TgZ(0,"uwb-form",0),e.NdJ("ngSubmit",function(){return n.onSave()})("cancel",function(){return n.onCloseDialog()}),e.TgZ(1,"uwb-form-grid",1)(2,"uwb-form-control",2)(3,"span",3),e._UZ(4,"input",4),e.TgZ(5,"label",5),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.YNc(8,M,1,2,"uwb-input-warn",6),e.qZA(),e.TgZ(9,"uwb-form-control",2)(10,"span",3),e._UZ(11,"input",7),e.TgZ(12,"label",8),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.YNc(15,k,1,2,"uwb-input-warn",6),e.qZA(),e.TgZ(16,"uwb-form-control",2)(17,"span",3),e._UZ(18,"input",9),e.TgZ(19,"label",10),e._uU(20),e.ALo(21,"translate"),e.qZA()(),e.YNc(22,P,1,2,"uwb-input-warn",6),e.qZA(),e.TgZ(23,"uwb-form-control",2)(24,"uwb-tree-select",11),e.NdJ("modelChange",function(s){return n.onOrganizationUnitSelected(s)}),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"uwb-form-control",2),e._UZ(27,"uwb-single-select",12),e.ALo(28,"translate"),e.qZA()()()),2&t){let o,s,u;e.Q6J("formGroup",n.formGroup),e.xp6(2),e.Q6J("styleClass","col-12"),e.xp6(4),e.Oqu(e.lcZ(7,20,"object.name")),e.xp6(2),e.Q6J("ngIf",(null==n.formGroup||null==(o=n.formGroup.get("name"))?null:o.touched)&&(null==n.formGroup||null==(o=n.formGroup.get("name"))?null:o.invalid)),e.xp6(1),e.Q6J("styleClass","col-12"),e.xp6(4),e.Oqu(e.lcZ(14,22,"object.secondName")),e.xp6(2),e.Q6J("ngIf",(null==n.formGroup||null==(s=n.formGroup.get("secondName"))?null:s.touched)&&(null==n.formGroup||null==(s=n.formGroup.get("secondName"))?null:s.invalid)),e.xp6(1),e.Q6J("styleClass","col-12"),e.xp6(4),e.Oqu(e.lcZ(21,24,"object.hexTagId")),e.xp6(2),e.Q6J("ngIf",(null==n.formGroup||null==(u=n.formGroup.get("hexTagId"))?null:u.touched)&&(null==n.formGroup||null==(u=n.formGroup.get("hexTagId"))?null:u.invalid)),e.xp6(1),e.Q6J("styleClass","col-12"),e.xp6(1),e.s9C("label",e.lcZ(25,26,"object.organizationUnit")),e.Q6J("treeSelectValue",n.selectedOrganizationUnit)("options",n.treeSelectItems)("optionLabel","name"),e.xp6(2),e.Q6J("styleClass","col-12"),e.xp6(1),e.s9C("label",e.lcZ(28,28,"object.uwbObjectType")),e.Q6J("items",n.dropdownObjectTypeItems)("optionLabel","name")("itemValue","id")}},dependencies:[C.o,w.U,U.A,D.c,z.g,v.s,x.z,a.Fj,a.JJ,a.JL,a.wO,a.nD,S.O5,a.sg,a.u,m.X$],encapsulation:2}),i})();var A=l(5083),Z=l(5630),$=l(6641),L=l(1407),K=l(9185),F=l(737),J=l(7378),E=l(9496);let B=(()=>{class i{constructor(t){this.http=t,this.resourceUrl=N.T+"uwb-object-icon"}findAll(){return this.http.get(this.resourceUrl,{observe:"response"})}findById(t){return this.http.get(`${this.resourceUrl}/${t}`,{observe:"response"})}findAllByUserOrganizationUnit(t){return this.http.get(`${this.resourceUrl}/user-organization-unit/${t}`,{observe:"response"})}create(t){return this.http.post(this.resourceUrl,t,{observe:"response"})}uploadFile(t){const n=new FormData;return n.append("file",t),this.http.post(`${this.resourceUrl}/upload-file`,n,{observe:"response",responseType:"text"}).pipe((0,T.U)(o=>o.body))}update(t){return this.http.put(this.resourceUrl,t,{observe:"response"})}delete(t){return this.http.delete(`${this.resourceUrl}/${t}`,{observe:"response",responseType:"text"}).pipe((0,T.U)(n=>n.body))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Q.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var q=l(9972),H=l(3161);function R(i,r){1&i&&e._UZ(0,"uwb-input-warn",14),2&i&&e.Q6J("minLength",2)("maxLength",50)}function X(i,r){if(1&i&&(e.TgZ(0,"div",15),e._UZ(1,"img",16),e._uU(2),e.qZA()),2&i){const t=r.item;e.s9C("pTooltip",t.name),e.xp6(1),e.Q6J("src",t.fullPath,e.LSH),e.xp6(1),e.hij(" ",t.name," ")}}let W=(()=>{class i{constructor(t,n,o,s,u,p,g,I){this.formBuilder=t,this.ref=n,this.config=o,this.clientsService=s,this.iconsService=u,this.objectTypesService=p,this.toastService=g,this.translateService=I,this.edit=!1,this.treeSelectItems=[],this.dropdownItems=[]}ngOnInit(){this.loadPageData(),this.loadFormGroup(),this.loadOrganizationUnits()}loadPageData(){this.edit=this.config.data.edit,this.selectedObjectType=this.config.data.selectedObjectType,this.pageSelectedOrganizationUnit=this.config.data.selectedOrganizationUnit}loadFormGroup(){this.formGroup=this.formBuilder.group({name:[{value:null,disabled:!1},[a.kI.required,a.kI.minLength(2),a.kI.maxLength(50)]],organizationUnitId:[{value:null,disabled:!1},[a.kI.required]],uwbObjectIconId:[{value:null,disabled:!1},[a.kI.required]],adminOnly:[{value:!1,disabled:!1},[a.kI.required]]}),this.edit&&(this.loadIcons(this.selectedObjectType?.organizationUnitId),this.formGroup.patchValue({name:this.selectedObjectType?.name,organizationUnitId:null,uwbObjectIconId:this.selectedObjectType?.uwbObjectIcon?.id,adminOnly:this.selectedObjectType?.adminOnly}))}loadOrganizationUnits(){this.clientsService.findTree().subscribe(t=>{if(this.treeSelectItems=t.body??[],this.edit){const n=this.clientsService.findByIdFromUnits(this.treeSelectItems[0],this.selectedObjectType?.organizationUnitId);this.formGroup?.get("organizationUnitId")?.setValue(n)}else{const n=this.clientsService.findByIdFromUnits(this.treeSelectItems[0],this.pageSelectedOrganizationUnit?.id);this.formGroup?.get("organizationUnitId")?.setValue(n),this.loadIcons(n.data.id)}})}loadIcons(t){this.iconsService.findAllByUserOrganizationUnit(t).subscribe(n=>{this.dropdownItems=n.body??[],1===this.dropdownItems.length&&this.formGroup?.get("uwbObjectIconId")?.setValue(this.dropdownItems[0].id)})}onOrganizationUnitSelected(t){this.loadIcons(t.id)}onSave(){let t=this.formGroup?.getRawValue();t={...t,organizationUnitId:t.organizationUnitId.data.id},this.edit?(t.id=this.selectedObjectType?.id,this.objectTypesService.update(t).subscribe({next:()=>{this.toastService.showSuccessToast({summary:this.translateService.instant("global.toast.header.success"),detail:this.translateService.instant("objectType.dialog.editSuccess")}),this.onCloseDialog(!0)},error:()=>{this.toastService.showErrorToast({summary:this.translateService.instant("global.toast.header.error"),detail:this.translateService.instant("objectType.dialog.editError")})}})):this.objectTypesService.create(t).subscribe({next:()=>{this.toastService.showSuccessToast({summary:this.translateService.instant("global.toast.header.success"),detail:this.translateService.instant("objectType.dialog.addSuccess")}),this.onCloseDialog(!0)},error:()=>{this.toastService.showErrorToast({summary:this.translateService.instant("global.toast.header.error"),detail:this.translateService.instant("objectType.dialog.addError")})}})}onCloseDialog(t){this.ref.close(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(c.E7),e.Y36(c.S),e.Y36(b.a),e.Y36(B),e.Y36(y),e.Y36(f.k),e.Y36(m.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["uwb-object-types-dialog"]],decls:23,vars:27,consts:[[3,"formGroup","ngSubmit","cancel"],["form-body",""],[3,"styleClass"],[1,"p-float-label"],["pInputText","","id","name","formControlName","name",3,"minLength","maxLength"],["htmlFor","name"],[3,"minLength","maxLength",4,"ngIf"],["formControlName","organizationUnitId",3,"treeSelectValue","options","label","modelChange"],["formControlName","uwbObjectIconId",3,"items","optionLabel","itemValue","label","itemTemplate"],["pTemplate","item"],["itemTemplate",""],[1,"flex","justify-content-center","align-items-center"],["htmlFor","adminOnly",1,"mr-2"],["formControlName","adminOnly","inputId","binary",3,"binary"],[3,"minLength","maxLength"],[1,"flex","align-items-center",3,"pTooltip"],[1,"pr-2",2,"height","30px",3,"src"]],template:function(t,n){if(1&t&&(e.TgZ(0,"uwb-form",0),e.NdJ("ngSubmit",function(){return n.onSave()})("cancel",function(){return n.onCloseDialog()}),e.TgZ(1,"uwb-form-grid",1)(2,"uwb-form-control",2)(3,"span",3),e._UZ(4,"input",4),e.TgZ(5,"label",5),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.YNc(8,R,1,2,"uwb-input-warn",6),e.qZA(),e.TgZ(9,"uwb-form-control",2)(10,"uwb-tree-select",7),e.NdJ("modelChange",function(s){return n.onOrganizationUnitSelected(s)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"uwb-form-control",2)(13,"uwb-single-select",8),e.ALo(14,"translate"),e.YNc(15,X,3,3,"ng-template",9,10,e.W1O),e.qZA()(),e.TgZ(17,"uwb-form-control",2)(18,"span",11)(19,"label",12),e._uU(20),e.ALo(21,"translate"),e.qZA(),e._UZ(22,"p-checkbox",13),e.qZA()()()()),2&t){const o=e.MAs(16);let s;e.Q6J("formGroup",n.formGroup),e.xp6(2),e.Q6J("styleClass","col-12"),e.xp6(2),e.Q6J("minLength",2)("maxLength",50),e.xp6(2),e.Oqu(e.lcZ(7,19,"objectType.name")),e.xp6(2),e.Q6J("ngIf",(null==n.formGroup||null==(s=n.formGroup.get("name"))?null:s.touched)&&(null==n.formGroup||null==(s=n.formGroup.get("name"))?null:s.invalid)),e.xp6(1),e.Q6J("styleClass","col-12"),e.xp6(1),e.s9C("label",e.lcZ(11,21,"objectType.organizationUnit")),e.Q6J("treeSelectValue",n.selectedClient)("options",n.treeSelectItems),e.xp6(2),e.Q6J("styleClass","col-12"),e.xp6(1),e.s9C("label",e.lcZ(14,23,"objectType.icon")),e.Q6J("items",n.dropdownItems)("optionLabel","name")("itemValue","id")("itemTemplate",o),e.xp6(4),e.Q6J("styleClass","col-12"),e.xp6(3),e.Oqu(e.lcZ(21,25,"objectType.adminOnly")),e.xp6(2),e.Q6J("binary",!0)}},dependencies:[q.jx,F.u,C.o,H.XZ,w.U,U.A,D.c,z.g,v.s,x.z,a.Fj,a.JJ,a.JL,S.O5,a.sg,a.u,m.X$],encapsulation:2}),i})(),ee=(()=>{class i{constructor(t,n,o,s,u,p,g){this.objectTypesService=t,this.columnService=n,this.dialogService=o,this.translateService=s,this.confirmDialogService=u,this.toastService=p,this.arrayBufferService=g,this.treeSelectItems=[],this.isSmallScreen=!1,this.emitTreeSelectItem=new e.vpe,this.objectTypes=[],this.columns=[],this.loading=!1}ngOnInit(){this.loading=!0,this.columns=this.columnService.getObjectTypeColumns(),this.loadObjectTypes()}loadObjectTypes(){this.loading=!0,this.objectTypesService.findAllByUserOrganizationUnit(this.selectedOrganizationUnit?.id??this.userOrganizationUnitId).subscribe(t=>{this.objectTypes=t.body??[],this.objectTypes.forEach(n=>{n.uwbObjectIcon.fullPath=this.arrayBufferService.convertImage(n.uwbObjectIcon?.pathArrayBuffer)}),this.loading=!1})}onOrganizationUnitSelect(t){this.selectedOrganizationUnit?.id!==t.id&&(this.selectedOrganizationUnit=t,this.selectedObjectType=void 0,this.loadObjectTypes(),this.emitTreeSelectItem.emit(this.selectedOrganizationUnit))}onObjectTypeSelected(t){this.selectedObjectType=t??void 0}openDialog(t=!1){this.dialogService.open(W,{header:this.translateService.instant(t?"global.dialog.editHeader":"global.dialog.addHeader"),data:{edit:t,selectedObjectType:this.selectedObjectType,selectedOrganizationUnit:this.selectedOrganizationUnit},width:this.isSmallScreen?"95%":"40%"}).onClose.subscribe(o=>this.handleDialogResponse(o))}openDeleteDialog(){this.confirmDialogService.openDeleteDialog({},t=>{t&&this.handleDeleteDialog()})}handleDialogResponse(t){t&&(this.selectedObjectType=void 0,this.loadObjectTypes())}handleDeleteDialog(){this.objectTypesService.delete(this.selectedObjectType?.id).subscribe({next:()=>{this.toastService.showSuccessToast({summary:this.translateService.instant("global.toast.header.success"),detail:this.translateService.instant("objectType.dialog.deleteSuccess")}),this.handleDialogResponse(!0)},error:t=>{this.toastService.showErrorToast({summary:this.translateService.instant("global.toast.header.error"),detail:this.translateService.instant("objectType.dialog.deleteError")})}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(y),e.Y36(A.w),e.Y36(c.xA),e.Y36(m.sK),e.Y36(Z.D),e.Y36(f.k),e.Y36(L.A))},i.\u0275cmp=e.Xpm({type:i,selectors:[["uwb-object-types"]],inputs:{userOrganizationUnitId:"userOrganizationUnitId",treeSelectItems:"treeSelectItems",treeSelectItemSelected:"treeSelectItemSelected",selectedOrganizationUnit:"selectedOrganizationUnit",isSmallScreen:"isSmallScreen"},outputs:{emitTreeSelectItem:"emitTreeSelectItem"},decls:6,vars:12,consts:[[1,"object-table"],[3,"columns","values","loading","showHeaderSelect","selectionChange"],[3,"treeSelectValue","options","optionLabel","floatLabel","placeholder","modelChange"],[1,"buttons_container_center","buttons_container_scale"],[3,"disabledEditAndDeleteButton","emitAddClick","emitEditClick","emitDeleteClick"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"uwb-table",1),e.NdJ("selectionChange",function(s){return n.onObjectTypeSelected(s)}),e.TgZ(2,"uwb-tree-select",2),e.NdJ("modelChange",function(s){return n.onOrganizationUnitSelect(s)}),e.ALo(3,"translate"),e.qZA()(),e.TgZ(4,"div",3)(5,"uwb-footer-buttons",4),e.NdJ("emitAddClick",function(){return n.openDialog()})("emitEditClick",function(){return n.openDialog(!0)})("emitDeleteClick",function(){return n.openDeleteDialog()}),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("columns",n.columns)("values",n.objectTypes)("loading",n.loading)("showHeaderSelect",!0),e.xp6(1),e.Q6J("treeSelectValue",n.treeSelectItemSelected)("options",n.treeSelectItems)("optionLabel","name")("floatLabel",!1)("placeholder",e.lcZ(3,10,"background.organizationUnit")),e.xp6(3),e.Q6J("disabledEditAndDeleteButton",void 0===n.selectedObjectType))},dependencies:[J.L,E.EC,v.s,m.X$],styles:[".objects-page[_ngcontent-%COMP%]{display:grid;grid-template-rows:70px calc(100vh - 500px)}.object-table[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 90px);display:grid;gap:10px;grid-template-rows:auto 75px}.page-mode[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;transition:background-color .3s,transform .3s}.page-mode[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.page-mode[_ngcontent-%COMP%]:hover{transform:scale(1.05);background:linear-gradient(0deg,var(--uwb-tab-content-background) 0%,var(--uwb-secondary) 75%)}.selection-page-mode[_ngcontent-%COMP%]{background-color:var(--uwb-secondary);transform:translate(10px)}"]}),i})();var te=l(6717);function ne(i,r){1&i&&e._UZ(0,"uwb-input-warn",9),2&i&&e.Q6J("minLength",2)("maxLength",30)}function ie(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"uwb-form-control",2)(1,"uwb-file-upload",10),e.NdJ("emitSelectItem",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.onIconSelected(o))})("emitUploadedItems",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.onIconUploaded(o))}),e.qZA()()}2&i&&(e.Q6J("styleClass","col-12"),e.xp6(1),e.Q6J("showUploadButton",!1)("showCancelButton",!1)("fileSize",1e9))}let oe=(()=>{class i{constructor(t,n,o,s,u,p,g){this.formBuilder=t,this.ref=n,this.config=o,this.iconsService=s,this.toastService=u,this.translateService=p,this.clientsService=g,this.treeSelectItems=[],this.edit=!1}ngOnInit(){this.loadPageData(),this.loadFormGroup(),this.loadOrganizationUnits()}loadPageData(){this.edit=this.config.data.edit,this.selectedIcon=this.config.data.selectedIcon,this.pageSelectedOrganizationUnit=this.config.data.selectedOrganizationUnit}loadFormGroup(){this.formGroup=this.formBuilder.group({name:[{value:null,disabled:!1},[a.kI.required,a.kI.minLength(2),a.kI.maxLength(30)]],organizationUnitId:[{value:null,disabled:!1},[a.kI.required]]}),this.edit&&this.formGroup.patchValue({name:this.selectedIcon?.name,organizationUnitId:null})}loadOrganizationUnits(){this.clientsService.findTree().subscribe(t=>{if(this.treeSelectItems=t.body??[],this.edit){const n=this.clientsService.findByIdFromUnits(this.treeSelectItems[0],this.selectedIcon?.organizationUnitId);this.formGroup?.get("organizationUnitId")?.setValue(n)}else{const n=this.clientsService.findByIdFromUnits(this.treeSelectItems[0],this.pageSelectedOrganizationUnit?.id);this.formGroup?.get("organizationUnitId")?.setValue(n)}})}onIconSelected(t){this.uploadedIcon=t}onIconUploaded(t){this.uploadedFile=t}onSave(){let t=this.formGroup?.getRawValue();t={...t,fileName:this.uploadedIcon?.fileName,fileSize:this.uploadedIcon?.fileSize,organizationUnitId:t.organizationUnitId?.data.id},this.edit?(t.id=this.selectedIcon?.id,this.iconsService.update(t).subscribe({next:()=>{this.toastService.showSuccessToast({summary:this.translateService.instant("global.toast.header.success"),detail:this.translateService.instant("icon.dialog.editSuccess")}),this.onCloseDialog(!0)},error:()=>{this.toastService.showErrorToast({summary:this.translateService.instant("global.toast.header.error"),detail:this.translateService.instant("icon.dialog.editError")})}})):this.iconsService.uploadFile(this.uploadedFile).subscribe({next:()=>{this.iconsService.create(t).subscribe({next:()=>{this.toastService.showSuccessToast({summary:this.translateService.instant("global.toast.header.success"),detail:this.translateService.instant("icon.dialog.addSuccess")}),this.onCloseDialog(!0)},error:()=>{this.toastService.showErrorToast({summary:this.translateService.instant("global.toast.header.error"),detail:this.translateService.instant("icon.dialog.addError")})}})},error:()=>{this.toastService.showErrorToast({summary:this.translateService.instant("global.toast.header.error"),detail:this.translateService.instant("background.dialog.addError")})}})}onCloseDialog(t){this.ref.close(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(c.E7),e.Y36(c.S),e.Y36(B),e.Y36(f.k),e.Y36(m.sK),e.Y36(b.a))},i.\u0275cmp=e.Xpm({type:i,selectors:[["uwb-object-icons-dialog"]],decls:13,vars:13,consts:[[3,"formGroup","ngSubmit","cancel"],["form-body",""],[3,"styleClass"],[1,"p-float-label"],["pInputText","","id","name","formControlName","name","minlength","2","maxlength","30"],["htmlFor","name"],[3,"minLength","maxLength",4,"ngIf"],["formControlName","organizationUnitId",3,"options","optionLabel","label"],[3,"styleClass",4,"ngIf"],[3,"minLength","maxLength"],[3,"showUploadButton","showCancelButton","fileSize","emitSelectItem","emitUploadedItems"]],template:function(t,n){if(1&t&&(e.TgZ(0,"uwb-form",0),e.NdJ("ngSubmit",function(){return n.onSave()})("cancel",function(){return n.onCloseDialog()}),e.TgZ(1,"uwb-form-grid",1)(2,"uwb-form-control",2)(3,"span",3),e._UZ(4,"input",4),e.TgZ(5,"label",5),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.YNc(8,ne,1,2,"uwb-input-warn",6),e.qZA(),e.TgZ(9,"uwb-form-control",2),e._UZ(10,"uwb-tree-select",7),e.ALo(11,"translate"),e.qZA(),e.YNc(12,ie,2,4,"uwb-form-control",8),e.qZA()()),2&t){let o;e.Q6J("formGroup",n.formGroup),e.xp6(2),e.Q6J("styleClass","col-12"),e.xp6(4),e.Oqu(e.lcZ(7,9,"icon.name")),e.xp6(2),e.Q6J("ngIf",(null==n.formGroup||null==(o=n.formGroup.get("name"))?null:o.touched)&&(null==n.formGroup||null==(o=n.formGroup.get("name"))?null:o.invalid)),e.xp6(1),e.Q6J("styleClass","col-12"),e.xp6(1),e.s9C("label",e.lcZ(11,11,"background.organizationUnit")),e.Q6J("options",n.treeSelectItems)("optionLabel","name"),e.xp6(2),e.Q6J("ngIf",!n.edit)}},dependencies:[C.o,w.U,U.A,D.c,te.T,v.s,x.z,a.Fj,a.JJ,a.JL,a.wO,a.nD,S.O5,a.sg,a.u,m.X$],encapsulation:2}),i})(),se=(()=>{class i{constructor(t,n,o,s,u,p,g){this.iconsService=t,this.columnService=n,this.dialogService=o,this.translateService=s,this.confirmDialogService=u,this.toastService=p,this.arrayBufferService=g,this.treeSelectItems=[],this.isSmallScreen=!1,this.emitTreeSelectItem=new e.vpe,this.icons=[],this.columns=[],this.loading=!1}ngOnInit(){this.loading=!0,this.columns=this.columnService.getIconColumns(),this.loadObjectIcons()}loadObjectIcons(){this.loading=!0,this.iconsService.findAllByUserOrganizationUnit(this.selectedOrganizationUnit?.id??this.userOrganizationUnitId).subscribe(t=>{this.icons=t.body??[],this.icons.forEach(n=>n.fullPath=this.arrayBufferService.convertImage(n.pathArrayBuffer)),this.loading=!1})}onOrganizationUnitSelect(t){this.selectedOrganizationUnit?.id!==t.id&&(this.selectedOrganizationUnit=t,this.selectedIcon=void 0,this.loadObjectIcons(),this.emitTreeSelectItem.emit(this.selectedOrganizationUnit))}onIconSelected(t){this.selectedIcon=t??void 0}openDialog(t=!1){this.dialogService.open(oe,{header:this.translateService.instant(t?"global.dialog.editHeader":"global.dialog.addHeader"),data:{edit:t,selectedIcon:this.selectedIcon,selectedOrganizationUnit:this.selectedOrganizationUnit},width:this.isSmallScreen?"95%":"40%"}).onClose.subscribe(o=>this.handleDialogResponse(o))}openDeleteDialog(){this.confirmDialogService.openDeleteDialog({},t=>{t&&this.handleDeleteDialog()})}handleDialogResponse(t){t&&(this.selectedIcon=void 0,this.loadObjectIcons())}handleDeleteDialog(){this.iconsService.delete(this.selectedIcon?.id).subscribe({next:()=>{this.toastService.showSuccessToast({summary:this.translateService.instant("global.toast.header.success"),detail:this.translateService.instant("icon.dialog.deleteSuccess")}),this.handleDialogResponse(!0)},error:t=>{this.toastService.showErrorToast({summary:this.translateService.instant("global.toast.header.error"),detail:this.translateService.instant("icon.dialog.deleteError")})}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(B),e.Y36(A.w),e.Y36(c.xA),e.Y36(m.sK),e.Y36(Z.D),e.Y36(f.k),e.Y36(L.A))},i.\u0275cmp=e.Xpm({type:i,selectors:[["uwb-object-icons"]],inputs:{userOrganizationUnitId:"userOrganizationUnitId",treeSelectItems:"treeSelectItems",treeSelectItemSelected:"treeSelectItemSelected",selectedOrganizationUnit:"selectedOrganizationUnit",isSmallScreen:"isSmallScreen"},outputs:{emitTreeSelectItem:"emitTreeSelectItem"},decls:6,vars:11,consts:[[1,"object-table"],[3,"columns","values","showHeaderSelect","selectionChange"],[3,"treeSelectValue","options","optionLabel","floatLabel","placeholder","modelChange"],[1,"buttons_container_center","buttons_container_scale"],[3,"disabledEditAndDeleteButton","emitAddClick","emitEditClick","emitDeleteClick"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"uwb-table",1),e.NdJ("selectionChange",function(s){return n.onIconSelected(s)}),e.TgZ(2,"uwb-tree-select",2),e.NdJ("modelChange",function(s){return n.onOrganizationUnitSelect(s)}),e.ALo(3,"translate"),e.qZA()(),e.TgZ(4,"div",3)(5,"uwb-footer-buttons",4),e.NdJ("emitAddClick",function(){return n.openDialog()})("emitEditClick",function(){return n.openDialog(!0)})("emitDeleteClick",function(){return n.openDeleteDialog()}),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("columns",n.columns)("values",n.icons)("showHeaderSelect",!0),e.xp6(1),e.Q6J("treeSelectValue",n.treeSelectItemSelected)("options",n.treeSelectItems)("optionLabel","name")("floatLabel",!1)("placeholder",e.lcZ(3,9,"background.organizationUnit")),e.xp6(3),e.Q6J("disabledEditAndDeleteButton",void 0===n.selectedIcon))},dependencies:[J.L,E.EC,v.s,m.X$],styles:[".objects-page[_ngcontent-%COMP%]{display:grid;grid-template-rows:70px calc(100vh - 500px)}.object-table[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 90px);display:grid;gap:10px;grid-template-rows:auto 75px}.page-mode[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;transition:background-color .3s,transform .3s}.page-mode[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.page-mode[_ngcontent-%COMP%]:hover{transform:scale(1.05);background:linear-gradient(0deg,var(--uwb-tab-content-background) 0%,var(--uwb-secondary) 75%)}.selection-page-mode[_ngcontent-%COMP%]{background-color:var(--uwb-secondary);transform:translate(10px)}"]}),i})();function ae(i,r){1&i&&(e.TgZ(0,"h2"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"object.objects")))}function le(i,r){1&i&&(e.TgZ(0,"h2"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"object.uwbObjectTypes")))}function re(i,r){1&i&&(e.TgZ(0,"h2"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"object.icons")))}function ce(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",10)(1,"uwb-table",11),e.NdJ("selectionChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.onObjectSelected(o))}),e.TgZ(2,"uwb-tree-select",12),e.NdJ("modelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.onOrganizationUnitSelect(o))}),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",13)(5,"uwb-single-select",14),e.NdJ("modelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.onObjectTypeFilterSelected(o))}),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"div",15)(8,"uwb-footer-buttons",16),e.NdJ("emitAddClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openDialog())})("emitEditClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openDialog(!0))})("emitDeleteClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openDeleteDialog())}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("columns",t.columns)("values",t.objects)("loading",t.loading)("showHeaderSelect",!0)("showFilterOption",!0),e.xp6(1),e.Q6J("treeSelectValue",t.treeSelectItemSelected)("options",t.treeSelectItems)("optionLabel","name")("floatLabel",!1)("placeholder",e.lcZ(3,15,"background.organizationUnit")),e.xp6(3),e.s9C("label",e.lcZ(6,17,"object.uwbObjectType")),e.Q6J("items",t.dropdownFilterObjectTypeItems)("optionLabel","name")("itemValue","id"),e.xp6(3),e.Q6J("disabledEditAndDeleteButton",void 0===t.selectedObject)}}function de(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"uwb-object-types",17),e.NdJ("emitTreeSelectItem",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.onEmitTreeSelectItem(o))}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("userOrganizationUnitId",t.userOrganizationUnitId)("treeSelectItems",t.treeSelectItems)("treeSelectItemSelected",t.treeSelectItemSelected)("selectedOrganizationUnit",null==t.treeSelectItemSelected?null:t.treeSelectItemSelected.data)("isSmallScreen",t.isSmallScreen)}}function ue(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"uwb-object-icons",17),e.NdJ("emitTreeSelectItem",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.onEmitTreeSelectItem(o))}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("userOrganizationUnitId",t.userOrganizationUnitId)("treeSelectItems",t.treeSelectItems)("treeSelectItemSelected",t.treeSelectItemSelected)("selectedOrganizationUnit",null==t.treeSelectItemSelected?null:t.treeSelectItemSelected.data)("isSmallScreen",t.isSmallScreen)}}const Y=function(i){return{"selection-page-mode":i}},me=[{path:"objects",component:(()=>{class i{constructor(t,n,o,s,u,p,g,I,pe,ge){this.objectsService=t,this.columnService=n,this.dialogService=o,this.translateService=s,this.confirmDialogService=u,this.clientsService=p,this.authorityService=g,this.toastService=I,this.arrayBufferService=pe,this.sizeScreenService=ge,this.treeSelectItems=[],this.objects=[],this.handleObjects=[],this.columns=[],this.dropdownFilterObjectTypeItems=[],this.pageMode="objects",this.isSmallScreen=!1,this.loading=!1,this.loadingFilter=!1}ngOnInit(){this.sizeScreenService.smallScreen$.subscribe(t=>{this.isSmallScreen=t}),this.loading=!0,this.userOrganizationUnitId=this.authorityService.getUserOrganizationUnitId(),this.loadOrganizationUnits(),this.columns=this.columnService.getObjectColumns(),this.loadObjects()}loadOrganizationUnits(){this.clientsService.findTree().subscribe(t=>{this.treeSelectItems=t.body??[],this.treeSelectItemSelected=this.clientsService.findByIdFromUnits(this.treeSelectItems[0],this.userOrganizationUnitId),this.selectedOrganizationUnit=this.treeSelectItemSelected.data,this.handleSelectedOrganizationUnit=this.treeSelectItemSelected.data})}loadObjects(){this.loading=!0,this.objectsService.findAllByUserOrganizationUnit(this.selectedOrganizationUnit?.id??this.userOrganizationUnitId).subscribe(t=>{this.objects=t.body??[],this.objects.forEach(n=>{n.uwbObjectType.uwbObjectIcon.fullPath=this.arrayBufferService.convertImage(n.uwbObjectType?.uwbObjectIcon?.pathArrayBuffer)}),this.handleObjects=this.objects,this.loadObjectTypes(),this.loading=!1})}loadObjectTypes(){const t=this.objects.filter(o=>void 0!==o.uwbObjectType),n=[];t.forEach(o=>{n.some(s=>s.id===o.uwbObjectType?.id)||n.push(o.uwbObjectType)}),this.dropdownFilterObjectTypeItems=n}onPageModeChange(t){this.pageMode=t,"objects"===t&&this.handleSelectedOrganizationUnit!==this.selectedOrganizationUnit&&(this.selectedOrganizationUnit=this.handleSelectedOrganizationUnit,this.loadObjects())}onObjectSelected(t){this.selectedObject=t??void 0}onOrganizationUnitSelect(t){this.selectedOrganizationUnit?.id!==t.id&&(this.selectedOrganizationUnit=t,this.handleSelectedOrganizationUnit=t,this.treeSelectItemSelected=this.clientsService.findByIdFromUnits(this.treeSelectItems[0],this.selectedOrganizationUnit.id),this.selectedObject=void 0,this.loadObjects())}onObjectTypeFilterSelected(t){this.objects=t?this.handleObjects.filter(n=>n.uwbObjectType?.id===t):this.handleObjects}onEmitTreeSelectItem(t){t!==this.handleSelectedOrganizationUnit&&(this.treeSelectItemSelected=this.clientsService.findByIdFromUnits(this.treeSelectItems[0],t.id),this.handleSelectedOrganizationUnit=this.treeSelectItemSelected.data)}openDialog(t=!1){this.dialogService.open(V,{header:this.translateService.instant(t?"global.dialog.editHeader":"global.dialog.addHeader"),data:{edit:t,selectedObject:this.selectedObject,selectedOrganizationUnit:this.selectedOrganizationUnit},width:this.isSmallScreen?"95%":"40%"}).onClose.subscribe(o=>this.handleDialogResponse(o))}openDeleteDialog(){this.confirmDialogService.openDeleteDialog({},t=>{t&&this.handleDeleteDialog()})}handleDialogResponse(t){t&&(this.selectedObject=void 0,this.loadObjects())}handleDeleteDialog(){this.objectsService.delete(this.selectedObject?.id).subscribe({next:()=>{this.toastService.showSuccessToast({summary:this.translateService.instant("global.toast.header.success"),detail:this.translateService.instant("object.dialog.deleteSuccess")}),this.handleDialogResponse(!0)},error:t=>{this.toastService.showErrorToast({summary:this.translateService.instant("global.toast.header.error"),detail:this.translateService.instant("object.dialog.deleteError")})}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.h),e.Y36(A.w),e.Y36(c.xA),e.Y36(m.sK),e.Y36(Z.D),e.Y36(b.a),e.Y36($.g),e.Y36(f.k),e.Y36(L.A),e.Y36(K.p))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-objects"]],decls:18,vars:25,consts:[[1,"objects-page"],[1,"grid","m-2"],["tooltipPosition","bottom",1,"col-4","page-mode",3,"ngClass","pTooltip","click"],[1,"fa","fa-bullseye","mr-2"],[4,"ngIf"],[1,"fa","fa-clone","mr-2"],[1,"fa","fa-file-picture-o","mr-2"],[3,"ngSwitch"],["class","object-table",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"object-table"],[3,"columns","values","loading","showHeaderSelect","showFilterOption","selectionChange"],[3,"treeSelectValue","options","optionLabel","floatLabel","placeholder","modelChange"],["filter","",1,"w-11rem","m-2"],[3,"items","optionLabel","itemValue","label","modelChange"],[1,"buttons_container_center","buttons_container_scale"],[3,"disabledEditAndDeleteButton","emitAddClick","emitEditClick","emitDeleteClick"],[3,"userOrganizationUnitId","treeSelectItems","treeSelectItemSelected","selectedOrganizationUnit","isSmallScreen","emitTreeSelectItem"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e.NdJ("click",function(){return n.onPageModeChange("objects")}),e.ALo(3,"translate"),e._UZ(4,"i",3),e.YNc(5,ae,3,3,"h2",4),e.qZA(),e.TgZ(6,"span",2),e.NdJ("click",function(){return n.onPageModeChange("object-types")}),e.ALo(7,"translate"),e._UZ(8,"i",5),e.YNc(9,le,3,3,"h2",4),e.qZA(),e.TgZ(10,"span",2),e.NdJ("click",function(){return n.onPageModeChange("object-icons")}),e.ALo(11,"translate"),e._UZ(12,"i",6),e.YNc(13,re,3,3,"h2",4),e.qZA()(),e.ynx(14,7),e.YNc(15,ce,9,19,"div",8),e.YNc(16,de,2,5,"div",9),e.YNc(17,ue,2,5,"div",9),e.BQk(),e.qZA()),2&t&&(e.xp6(2),e.s9C("pTooltip",e.lcZ(3,13,"object.objects")),e.Q6J("ngClass",e.VKq(19,Y,"objects"===n.pageMode)),e.xp6(3),e.Q6J("ngIf",!n.isSmallScreen),e.xp6(1),e.s9C("pTooltip",e.lcZ(7,15,"object.uwbObjectTypes")),e.Q6J("ngClass",e.VKq(21,Y,"object-types"===n.pageMode)),e.xp6(3),e.Q6J("ngIf",!n.isSmallScreen),e.xp6(1),e.s9C("pTooltip",e.lcZ(11,17,"object.icons")),e.Q6J("ngClass",e.VKq(23,Y,"object-icons"===n.pageMode)),e.xp6(3),e.Q6J("ngIf",!n.isSmallScreen),e.xp6(1),e.Q6J("ngSwitch",n.pageMode),e.xp6(1),e.Q6J("ngSwitchCase","objects"),e.xp6(1),e.Q6J("ngSwitchCase","object-types"),e.xp6(1),e.Q6J("ngSwitchCase","object-icons"))},dependencies:[F.u,J.L,z.g,E.EC,v.s,S.mk,S.O5,S.RF,S.n9,ee,se,m.X$],styles:[".objects-page[_ngcontent-%COMP%]{display:grid;grid-template-rows:70px calc(100vh - 500px)}.object-table[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 90px);display:grid;gap:10px;grid-template-rows:auto 75px}.page-mode[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;transition:background-color .3s,transform .3s}.page-mode[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.page-mode[_ngcontent-%COMP%]:hover{transform:scale(1.05);background:linear-gradient(0deg,var(--uwb-tab-content-background) 0%,var(--uwb-secondary) 75%)}.selection-page-mode[_ngcontent-%COMP%]{background-color:var(--uwb-secondary);transform:translate(10px)}"]}),i})()}];let he=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[_.K,j.m,h.Bz.forChild(me)]}),i})()},5374:(G,O,l)=>{l.d(O,{h:()=>e});var _=l(5032),j=l(7398),h=l(9291),a=l(9862);let e=(()=>{class c{constructor(d){this.http=d,this.resourceUrl=_.T+"uwb-object"}findAll(){return this.http.get(this.resourceUrl,{observe:"response"})}findById(d){return this.http.get(`${this.resourceUrl}/${d}`,{observe:"response"})}findAllByUserOrganizationUnit(d){return this.http.get(`${this.resourceUrl}/user-organization-unit/${d}`,{observe:"response"})}create(d){return this.http.post(this.resourceUrl,d,{observe:"response"})}update(d){return this.http.put(this.resourceUrl,d,{observe:"response"})}delete(d){return this.http.delete(`${this.resourceUrl}/${d}`,{observe:"response",responseType:"text"}).pipe((0,j.U)(f=>f.body))}}return c.\u0275fac=function(d){return new(d||c)(h.LFG(a.eN))},c.\u0275prov=h.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},1407:(G,O,l)=>{l.d(O,{A:()=>j});var _=l(9291);let j=(()=>{class h{constructor(){}convertImage(e){const c=this.stringArrayBufferToArrayBuffer(e);return this.arrayBufferToImage(c)}stringArrayBufferToArrayBuffer(e){const c=atob(e),b=new Uint8Array(c.length);for(let d=0;d<c.length;d++)b[d]=c.charCodeAt(d);return b.buffer}arrayBufferToImage(e){const c=new Blob([e],{type:"image/jpeg"});return URL.createObjectURL(c)}}return h.\u0275fac=function(e){return new(e||h)},h.\u0275prov=_.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()}}]);