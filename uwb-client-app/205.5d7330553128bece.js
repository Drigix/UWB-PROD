"use strict";(self.webpackChunkuwb_client_app=self.webpackChunkuwb_client_app||[]).push([[205],{7378:(x,I,s)=>{s.d(I,{L:()=>y});var e=s(9291),C=s(9185),t=s(4089),v=s(6814),_=s(3999);function A(p,D){if(1&p){const l=e.EpF();e.TgZ(0,"p-button",2),e.NdJ("onClick",function(){e.CHM(l);const U=e.oxw();return e.KtG(U.onAddClick())}),e.ALo(1,"translate"),e.qZA()}if(2&p){const l=e.oxw();e.Tol(l.styleClass),e.Q6J("disabled",l.disabledAddButton)("icon",l.mobileScreen?"pi pi-plus":"")("label",l.mobileScreen?"":e.lcZ(1,6,"global.buttons.add"))("styleClass",l.mobileScreen?l.mobileScreenStyleButtons:l.smallScreen?l.smallScreenStyleButtons:l.normalScreenStyleButtons)}}function u(p,D){if(1&p){const l=e.EpF();e.TgZ(0,"p-button",2),e.NdJ("onClick",function(){e.CHM(l);const U=e.oxw();return e.KtG(U.onEditClick())}),e.ALo(1,"translate"),e.qZA()}if(2&p){const l=e.oxw();e.Tol(l.styleClass),e.Q6J("disabled",l.disabledEditAndDeleteButton)("icon",l.mobileScreen?"pi pi-pencil":"")("label",l.mobileScreen?"":e.lcZ(1,6,"global.buttons.edit"))("styleClass",l.mobileScreen?l.mobileScreenStyleButtons:l.smallScreen?l.smallScreenStyleButtons:l.normalScreenStyleButtons)}}function b(p,D){if(1&p){const l=e.EpF();e.TgZ(0,"p-button",2),e.NdJ("onClick",function(){e.CHM(l);const U=e.oxw();return e.KtG(U.onDeleteClick())}),e.ALo(1,"translate"),e.qZA()}if(2&p){const l=e.oxw();e.Tol(l.styleClass),e.Q6J("disabled",l.disabledEditAndDeleteButton)("icon",l.mobileScreen?"pi pi-trash":"")("label",l.mobileScreen?"":e.lcZ(1,6,"global.buttons.delete"))("styleClass",l.mobileScreen?l.mobileScreenStyleButtons:l.smallScreen?l.smallScreenStyleButtons:l.normalScreenStyleButtons)}}const O=["*"];let y=(()=>{class p{constructor(l){this.sizeScreenService=l,this.showAddButton=!0,this.showEditButton=!0,this.showDeleteButton=!0,this.disabledAddButton=!1,this.disabledEditAndDeleteButton=!1,this.normalScreenStyleButtons="ui-button_size_175",this.smallScreenStyleButtons="ui-button_size_125",this.mobileScreenStyleButtons="ui-button_size_100",this.styleClass="col-4 px-2",this.emitAddClick=new e.vpe,this.emitEditClick=new e.vpe,this.emitDeleteClick=new e.vpe,this.smallScreen=!1,this.mobileScreen=!1}ngOnInit(){this.sizeScreenService.smallScreen$.subscribe(l=>{this.smallScreen=l}),this.sizeScreenService.mobileScreen$.subscribe(l=>{this.mobileScreen=l})}onAddClick(){this.emitAddClick.emit(!0)}onEditClick(){this.emitEditClick.emit(!0)}onDeleteClick(){this.emitDeleteClick.emit(!0)}}return p.\u0275fac=function(l){return new(l||p)(e.Y36(C.p))},p.\u0275cmp=e.Xpm({type:p,selectors:[["uwb-footer-buttons"]],inputs:{showAddButton:"showAddButton",showEditButton:"showEditButton",showDeleteButton:"showDeleteButton",disabledAddButton:"disabledAddButton",disabledEditAndDeleteButton:"disabledEditAndDeleteButton",normalScreenStyleButtons:"normalScreenStyleButtons",smallScreenStyleButtons:"smallScreenStyleButtons",mobileScreenStyleButtons:"mobileScreenStyleButtons",styleClass:"styleClass"},outputs:{emitAddClick:"emitAddClick",emitEditClick:"emitEditClick",emitDeleteClick:"emitDeleteClick"},ngContentSelectors:O,decls:5,vars:3,consts:[[1,"grid"],[3,"class","disabled","icon","label","styleClass","onClick",4,"ngIf"],[3,"disabled","icon","label","styleClass","onClick"]],template:function(l,w){1&l&&(e.F$t(),e.TgZ(0,"div",0),e.YNc(1,A,2,8,"p-button",1),e.YNc(2,u,2,8,"p-button",1),e.YNc(3,b,2,8,"p-button",1),e.Hsn(4),e.qZA()),2&l&&(e.xp6(1),e.Q6J("ngIf",w.showAddButton),e.xp6(1),e.Q6J("ngIf",w.showEditButton),e.xp6(1),e.Q6J("ngIf",w.showDeleteButton))},dependencies:[t.zx,v.O5,_.X$]}),p})()},7397:(x,I,s)=>{s.d(I,{s:()=>U});var e=s(9291),C=s(6223),t=s(3562),v=s(2420),_=s(9972),A=s(737),u=s(6814);function b(c,S){if(1&c){const i=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"input",7),e.NdJ("ngModelChange",function(h){e.CHM(i);const d=e.oxw();return e.KtG(d.filterText=h)})("input",function(h){e.CHM(i);const d=e.oxw();return e.KtG(d.customFilter(h))}),e.qZA(),e._UZ(3,"i",8),e.qZA()()}if(2&c){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i.filterText)}}function O(c,S){if(1&c&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&c){const i=e.oxw().$implicit,a=e.oxw();e.xp6(1),e.hij(" ",null==i?null:i.data[a.optionLabel]," ")}}function y(c,S){if(1&c&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&c){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.placeholder," ")}}function p(c,S){if(1&c&&(e.YNc(0,O,2,1,"span",9),e.YNc(1,y,2,1,"span",9)),2&c){const i=S.$implicit,a=e.oxw();e.Q6J("ngIf",null==i?null:i.data),e.xp6(1),e.Q6J("ngIf",!(null!=i&&i.data||a.floatLabel))}}function D(c,S){if(1&c&&(e.TgZ(0,"span",10),e._uU(1),e.ALo(2,"slice"),e.qZA()),2&c){const i=S.$implicit,a=e.oxw();e.s9C("pTooltip",i.data[a.optionLabel]),e.xp6(1),e.hij(" ",i.data[a.optionLabel].length>30?e.Dn7(2,2,i.data[a.optionLabel],0,30)+"...":i.data[a.optionLabel]," ")}}function l(c,S){if(1&c&&(e.TgZ(0,"label",11),e._uU(1),e.qZA()),2&c){const i=e.oxw();e.xp6(1),e.Oqu(i.label)}}const w=function(){return{width:"100%"}};let U=(()=>{class c{constructor(){this.options=[],this.filter=!0,this.label="Wybierz opcje",this.optionLabel="name",this.styleClass="",this.selectionMode="single",this.floatLabel=!0,this.placeholder="",this.modelChange=new e.vpe,this.itemChange=new e.vpe,this.onModelChange=()=>v.Z,this.onModelTouched=()=>v.Z,this.handleOptions=[],this.filterText=""}ngOnChanges(i){i.options&&(this.handleOptions=this.options)}ngAfterViewInit(){this.treeSelect.registerOnChange(this.onModelChange),this.treeSelect.registerOnTouched(this.onModelTouched)}customFilter(i){const a=this.filterText.toLowerCase();""===a?this.options=this.handleOptions:(this.options=this.handleOptions,this.options=this.filterTree(this.options,a))}filterTree(i,a){const h=[];for(const d of i)if(d?.data&&d.data.name.toLowerCase().includes(a)&&!h.find(Z=>Z.data.id===d.data.id)&&h.push(d),d.children&&d.children.length>0){const Z=this.filterTree(d.children,a);if(Z.length>0&&!h.find(E=>E.data.id===d.data.id)){const E={...d};E.children=Z,h.push(E)}}return h}writeValue(i){this.treeSelectValue=i}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}emitModelAndItemChange(i){this.modelChange.emit(i.node.data),this.emitItemChange({value:i.node.data})}emitItemChange(i){const a=i.value?this.options.find(h=>h?.[this.itemValue]===i.value):void 0;this.itemChange.emit(Object.assign({},i,{item:a??null}))}}return c.\u0275fac=function(i){return new(i||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["uwb-tree-select"]],viewQuery:function(i,a){if(1&i&&e.Gf(t.mP,7),2&i){let h;e.iGM(h=e.CRH())&&(a.treeSelect=h.first)}},inputs:{options:"options",filter:"filter",label:"label",optionLabel:"optionLabel",treeSelectValue:"treeSelectValue",itemValue:"itemValue",styleClass:"styleClass",selectionMode:"selectionMode",floatLabel:"floatLabel",placeholder:"placeholder"},outputs:{modelChange:"modelChange",itemChange:"itemChange"},features:[e._Bn([{provide:C.JU,useExisting:(0,e.Gpc)(()=>c),multi:!0}]),e.TTD],decls:6,vars:12,consts:[["placeholder","","appendTo","body",3,"ngModel","options","placeholder","selectionMode","ngModelChange","onNodeSelect"],["pTemplate","header"],["pTemplate","value"],["pTemplate","default"],["for","label",4,"ngIf"],[1,"p-treeselect-header"],[1,"p-treeselect-filter-container","p-input-icon-right","custom-filter"],["type","text","autofocus","","placeholder","Filter",1,"p-treeselect-filter","p-inputtext","p-component",3,"ngModel","ngModelChange","input"],[1,"pi","pi-search"],[4,"ngIf"],[3,"pTooltip"],["for","label"]],template:function(i,a){1&i&&(e.TgZ(0,"span")(1,"p-treeSelect",0),e.NdJ("ngModelChange",function(d){return a.treeSelectValue=d})("onNodeSelect",function(d){return a.emitModelAndItemChange(d)}),e.YNc(2,b,4,1,"ng-template",1),e.YNc(3,p,2,2,"ng-template",2),e.YNc(4,D,3,6,"ng-template",3),e.qZA(),e.YNc(5,l,2,1,"label",4),e.qZA()),2&i&&(e.Tol(a.floatLabel?"p-float-label":""),e.xp6(1),e.Akn(e.DdM(11,w)),e.Tol(a.styleClass),e.Q6J("ngModel",a.treeSelectValue)("options",a.options)("placeholder",a.placeholder)("selectionMode",a.selectionMode),e.xp6(4),e.Q6J("ngIf",a.floatLabel))},dependencies:[_.jx,A.u,t.mP,C.Fj,C.JJ,C.On,u.O5,u.OU],styles:[".p-inputtext.ng-valid[_ngcontent-%COMP%]{border-left:none;border:1px solid #ced4da}  .p-treeselect .p-treeselect-label span{color:#000}  .p-treeselect-items-wrapper::-webkit-scrollbar{width:12px}  .p-treeselect-items-wrapper::-webkit-scrollbar-thumb{border-radius:.5rem;background:var(--uwb-menu-scrollbar-thumb)}  .p-treeselect-items-wrapper::-webkit-scrollbar-thumb:hover{background:var(--uwb-menu-scrollbar-thumb-hover)}  .p-treeselect-items-wrapper::-webkit-scrollbar-track{background:var(--uwb-menu-scrollbar-track);background-color:transparent}"]}),c})()},205:(x,I,s)=>{s.r(I),s.d(I,{UserModule:()=>W});var e=s(6223),C=s(7501),t=s(9291),v=s(8193),_=s(1321),A=s(7056),u=s(7966),b=s(3999),O=s(5969),y=s(8918),p=s(7477),D=s(2435),l=s(7571),w=s(9554),U=s(7397),c=s(6861),S=s(6814);function i(r,g){1&r&&t._UZ(0,"uwb-input-warn",13),2&r&&t.Q6J("minLength",2)("maxLength",20)}function a(r,g){1&r&&t._UZ(0,"uwb-input-warn",13),2&r&&t.Q6J("minLength",2)("maxLength",30)}function h(r,g){1&r&&t._UZ(0,"uwb-input-warn",13),2&r&&t.Q6J("minLength",6)("maxLength",50)}function d(r,g){1&r&&t._UZ(0,"uwb-input-warn",17),2&r&&t.Q6J("error","global.formInvalid.passwordInvalid")}function Z(r,g){if(1&r&&(t.TgZ(0,"uwb-form-control")(1,"span",2),t._UZ(2,"p-password",14),t.TgZ(3,"label",15),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,d,1,1,"uwb-input-warn",16),t.qZA()),2&r){const n=t.oxw();let o;t.xp6(2),t.Q6J("toggleMask",!0),t.xp6(2),t.Oqu(t.lcZ(5,3,"user.password")),t.xp6(2),t.Q6J("ngIf",(null==n.formGroup||null==(o=n.formGroup.get("password"))?null:o.invalid)&&(null==n.formGroup||null==(o=n.formGroup.get("password"))?null:o.touched))}}function E(r,g){1&r&&t._UZ(0,"uwb-input-warn",17),2&r&&t.Q6J("error","global.formInvalid.passwordConfirmInvalid")}function M(r,g){if(1&r&&(t.TgZ(0,"uwb-form-control")(1,"span",2),t._UZ(2,"p-password",18),t.TgZ(3,"label",19),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,E,1,1,"uwb-input-warn",16),t.qZA()),2&r){const n=t.oxw();let o;t.xp6(2),t.Q6J("toggleMask",!0),t.xp6(2),t.Oqu(t.lcZ(5,3,"user.confirmPassword")),t.xp6(2),t.Q6J("ngIf",(null==n.formGroup||null==(o=n.formGroup.get("password"))?null:o.touched)&&(null==n.formGroup||null==(o=n.formGroup.get("confirmPassword"))?null:o.touched)&&(null==n.formGroup||null==(o=n.formGroup.get("confirmPassword"))?null:o.invalid))}}let N=(()=>{class r{constructor(n,o,m,f,T,B,L){this.formBuilder=n,this.ref=o,this.config=m,this.clientsService=f,this.usersService=T,this.toastService=B,this.translateService=L,this.treeSelectItems=[],this.dropdownItems=C.GL,this.edit=!1}ngOnInit(){this.loadPageData(),this.loadFormGroup(),this.loadOrganizationUnits()}loadPageData(){this.edit=this.config.data.edit,this.selectedUser=this.config.data.selectedUser}loadFormGroup(){this.formGroup=this.formBuilder.group({firstName:[{value:null,disabled:!1},[e.kI.required,e.kI.minLength(2),e.kI.maxLength(20)]],lastName:[{value:null,disabled:!1},[e.kI.required,e.kI.minLength(2),e.kI.maxLength(30)]],email:[{value:null,disabled:!1},[e.kI.required,e.kI.minLength(6),e.kI.maxLength(50)]],password:[{value:null,disabled:!1},[e.kI.required,this.passwordValidator]],confirmPassword:[{value:null,disabled:!1},[e.kI.required,this.matchPassword.bind(this)]],organizationUnitId:[{value:null,disabled:!1},[e.kI.required]],roleIds:[{value:null,disabled:!1},[e.kI.required]]}),this.edit&&(this.formGroup.removeControl("password"),this.formGroup.removeControl("confirmPassword"),console.log(this.selectedUser),this.formGroup.patchValue({firstName:this.selectedUser?.firstName,lastName:this.selectedUser?.lastName,email:this.selectedUser?.email,organizationUnitId:null,roleIds:this.selectedUser?.roles?.map(n=>n.id)}))}loadOrganizationUnits(){this.clientsService.findTree().subscribe(n=>{if(this.treeSelectItems=n.body??[],this.edit){const o=this.clientsService.findByIdFromUnits(this.treeSelectItems[0],this.selectedUser?.organizationUnitId);this.formGroup?.get("organizationUnitId")?.setValue(o)}})}passwordValidator(n){const o=n.value;if(!o)return{required:!0};const m=/[A-Z]/.test(o),f=/\d/.test(o),T=/[!@#$%^&*()_+{}\[\]:;<>,.?~\\/-]/.test(o);return m&&f&&T&&o.length>=8?null:{passwordRequirements:!0}}matchPassword(n){return this.formGroup&&n.value!==this.formGroup.get("password").value?{passwordMismatch:!0}:null}onSave(){const n=this.formGroup?.getRawValue();delete n.confirmPassword,n.organizationUnitId=n.organizationUnitId.data.id,this.edit?(n.id=this.selectedUser?.id,this.usersService.update(n).subscribe({next:()=>{this.toastService.showSuccessToast({summary:this.translateService.instant("global.toast.header.success"),detail:this.translateService.instant("user.dialog.editSuccess")}),this.onCloseDialog(!0)},error:()=>{this.toastService.showErrorToast({summary:this.translateService.instant("global.toast.header.error"),detail:this.translateService.instant("user.dialog.editError")})}})):this.usersService.create(n).subscribe({next:()=>{this.toastService.showSuccessToast({summary:this.translateService.instant("global.toast.header.success"),detail:this.translateService.instant("user.dialog.addSuccess")}),this.onCloseDialog(!0)},error:()=>{this.toastService.showErrorToast({summary:this.translateService.instant("global.toast.header.error"),detail:this.translateService.instant("user.dialog.addError")})}})}onCloseDialog(n){this.ref.close(n)}}return r.\u0275fac=function(n){return new(n||r)(t.Y36(e.qu),t.Y36(v.E7),t.Y36(v.S),t.Y36(_.a),t.Y36(A.f),t.Y36(u.k),t.Y36(b.sK))},r.\u0275cmp=t.Xpm({type:r,selectors:[["uwb-user-dialog"]],decls:31,vars:26,consts:[[3,"formGroup","ngSubmit","cancel"],["form-body",""],[1,"p-float-label"],["pInputText","","id","name","formControlName","firstName","minlength","2","maxlength","20"],["htmlFor","firstName"],[3,"minLength","maxLength",4,"ngIf"],["pInputText","","id","surname","formControlName","lastName","minlength","2","maxlength","30"],["htmlFor","lastName"],["pInputText","","id","email","formControlName","email","minlength","6","maxlength","50"],["htmlFor","email"],[4,"ngIf"],["formControlName","organizationUnitId",3,"options","optionLabel","label"],["formControlName","roleIds",3,"items","optionLabel","itemValue","label"],[3,"minLength","maxLength"],["formControlName","password",1,"p-password",3,"toggleMask"],["for","password"],[3,"error",4,"ngIf"],[3,"error"],["formControlName","confirmPassword",1,"p-password",3,"toggleMask"],["for","confirmPassword"]],template:function(n,o){if(1&n&&(t.TgZ(0,"uwb-form",0),t.NdJ("ngSubmit",function(){return o.onSave()})("cancel",function(){return o.onCloseDialog()}),t.TgZ(1,"uwb-form-grid",1)(2,"uwb-form-control")(3,"span",2),t._UZ(4,"input",3),t.TgZ(5,"label",4),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.YNc(8,i,1,2,"uwb-input-warn",5),t.qZA(),t.TgZ(9,"uwb-form-control")(10,"span",2),t._UZ(11,"input",6),t.TgZ(12,"label",7),t._uU(13),t.ALo(14,"translate"),t.qZA()(),t.YNc(15,a,1,2,"uwb-input-warn",5),t.qZA(),t.TgZ(16,"uwb-form-control")(17,"span",2),t._UZ(18,"input",8),t.TgZ(19,"label",9),t._uU(20),t.ALo(21,"translate"),t.qZA()(),t.YNc(22,h,1,2,"uwb-input-warn",5),t.qZA(),t.YNc(23,Z,7,5,"uwb-form-control",10),t.YNc(24,M,7,5,"uwb-form-control",10),t.TgZ(25,"uwb-form-control"),t._UZ(26,"uwb-tree-select",11),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"uwb-form-control"),t._UZ(29,"uwb-multi-select",12),t.ALo(30,"translate"),t.qZA()()()),2&n){let m,f,T;t.Q6J("formGroup",o.formGroup),t.xp6(6),t.Oqu(t.lcZ(7,16,"user.firstName")),t.xp6(2),t.Q6J("ngIf",(null==o.formGroup||null==(m=o.formGroup.get("firstName"))?null:m.touched)&&(null==o.formGroup||null==(m=o.formGroup.get("firstName"))?null:m.invalid)),t.xp6(5),t.Oqu(t.lcZ(14,18,"user.lastName")),t.xp6(2),t.Q6J("ngIf",(null==o.formGroup||null==(f=o.formGroup.get("lastName"))?null:f.touched)&&(null==o.formGroup||null==(f=o.formGroup.get("lastName"))?null:f.invalid)),t.xp6(5),t.Oqu(t.lcZ(21,20,"user.email")),t.xp6(2),t.Q6J("ngIf",(null==o.formGroup||null==(T=o.formGroup.get("email"))?null:T.touched)&&(null==o.formGroup||null==(T=o.formGroup.get("email"))?null:T.invalid)),t.xp6(1),t.Q6J("ngIf",!o.edit),t.xp6(1),t.Q6J("ngIf",!o.edit),t.xp6(2),t.s9C("label",t.lcZ(27,22,"user.organizationUnit")),t.Q6J("options",o.treeSelectItems)("optionLabel","name"),t.xp6(3),t.s9C("label",t.lcZ(30,24,"user.roles")),t.Q6J("items",o.dropdownItems)("optionLabel","name")("itemValue","id")}},dependencies:[O.o,y.ro,p.U,D.A,l.c,w.$,U.s,c.z,e.Fj,e.JJ,e.JL,e.wO,e.nD,S.O5,e.sg,e.u,b.X$]}),r})();var J=s(5630),G=s(5083),P=s(6641),z=s(9185),k=s(7378),F=s(9496);let Y=(()=>{class r{constructor(n,o,m,f,T,B,L,H,j){this.dialogService=n,this.translateService=o,this.confirmDialogService=m,this.usersService=f,this.columnService=T,this.toastService=B,this.clientsService=L,this.authorityService=H,this.sizeScreenService=j,this.columns=[],this.users=[],this.treeSelectItems=[],this.loading=!1}ngOnInit(){this.userOrganizationUnitId=this.authorityService.getUserOrganizationUnitId(),this.loading=!0,this.columns=this.columnService.getUserColumns(),this.loadOrganizationUnits(),this.loadUsers()}loadOrganizationUnits(){this.clientsService.findTree().subscribe(n=>{this.treeSelectItems=n.body??[],this.treeSelectItemSelected=this.clientsService.findByIdFromUnits(this.treeSelectItems[0],this.userOrganizationUnitId),this.selectedOrganizationUnit=this.treeSelectItemSelected.data,this.handleSelectedOrganizationUnit=this.treeSelectItemSelected.data})}loadUsers(){this.loading=!0,this.usersService.findAllByUserOrganizationUnit(this.selectedOrganizationUnit?.id??this.userOrganizationUnitId).subscribe(n=>{this.users=n.body??[],this.loading=!1})}onOrganizationUnitSelect(n){this.selectedOrganizationUnit?.id!==n.id&&(this.selectedOrganizationUnit=n,this.handleSelectedOrganizationUnit=n,this.treeSelectItemSelected=this.clientsService.findByIdFromUnits(this.treeSelectItems[0],this.selectedOrganizationUnit.id),this.selectedUser=void 0,this.loadUsers())}openDialog(n=!1){this.dialogService.open(N,{header:this.translateService.instant(n?"global.dialog.editHeader":"global.dialog.addHeader"),data:{edit:n,selectedUser:this.selectedUser},width:this.sizeScreenService.smallScreen?"100%":"40%"}).onClose.subscribe(m=>this.handleDialogResponse(m))}openDeleteDialog(){this.confirmDialogService.openDeleteDialog({},n=>{n&&this.handleDeleteDialog()})}handleDialogResponse(n){n&&(this.selectedUser=void 0,this.loadUsers())}handleDeleteDialog(){this.usersService.delete(this.selectedUser?.id).subscribe({next:()=>{this.toastService.showSuccessToast({summary:this.translateService.instant("global.toast.header.success"),detail:this.translateService.instant("user.dialog.deleteSuccess")}),this.handleDialogResponse(!0)},error:n=>{console.log(n),this.toastService.showErrorToast({summary:this.translateService.instant("global.toast.header.error"),detail:this.translateService.instant("user.dialog.deleteError")})}})}}return r.\u0275fac=function(n){return new(n||r)(t.Y36(v.xA),t.Y36(b.sK),t.Y36(J.D),t.Y36(A.f),t.Y36(G.w),t.Y36(u.k),t.Y36(_.a),t.Y36(P.g),t.Y36(z.p))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-user"]],decls:6,vars:13,consts:[[1,"single_table_with_buttons"],[3,"columns","values","loading","showHeaderSelect","selection","selectionChange"],[3,"treeSelectValue","options","optionLabel","floatLabel","placeholder","modelChange"],[1,"buttons_container_center"],[3,"disabledEditAndDeleteButton","emitAddClick","emitEditClick","emitDeleteClick"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"uwb-table",1),t.NdJ("selectionChange",function(f){return o.selectedUser=f}),t.TgZ(2,"uwb-tree-select",2),t.NdJ("modelChange",function(f){return o.onOrganizationUnitSelect(f)}),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"div",3)(5,"uwb-footer-buttons",4),t.NdJ("emitAddClick",function(){return o.openDialog()})("emitEditClick",function(){return o.openDialog(!0)})("emitDeleteClick",function(){return o.openDeleteDialog()}),t.qZA()()()),2&n&&(t.xp6(1),t.Q6J("columns",o.columns)("values",o.users)("loading",o.loading)("showHeaderSelect",!0)("selection",o.selectedUser),t.xp6(1),t.Q6J("treeSelectValue",o.treeSelectItemSelected)("options",o.treeSelectItems)("optionLabel","name")("floatLabel",!1)("placeholder",t.lcZ(3,11,"background.organizationUnit")),t.xp6(3),t.Q6J("disabledEditAndDeleteButton",void 0===o.selectedUser))},dependencies:[k.L,F.EC,U.s,b.X$]}),r})();var Q=s(6106),K=s(6208),R=s(2125);const V=[{path:"user",component:Y}];let W=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[Q.K,K.m,R.Bz.forChild(V)]}),r})()},5630:(x,I,s)=>{s.d(I,{D:()=>v});var e=s(9291),C=s(9972),t=s(3999);let v=(()=>{class _{constructor(u,b){this.confirmationService=u,this.translateService=b,this.confirmDialogOption={key:"mainDeleteConfirmDialog",header:this.translateService.instant("global.dialog.deleteHeader"),message:this.translateService.instant("global.dialog.deleteMessage"),icon:"pi pi-exclamation-triangle"}}openDeleteDialog(u={},b){this.confirmDialogOption={key:u.key??this.confirmDialogOption.key,header:u.header??this.confirmDialogOption.header,message:u.message??this.confirmDialogOption.message,icon:u.icon??this.confirmDialogOption.icon},this.confirmationService.confirm({key:u.key??this.confirmDialogOption.key,header:u.header??this.confirmDialogOption.header,message:u.message??this.confirmDialogOption.message,icon:u.icon??this.confirmDialogOption.icon,accept:()=>{b(!0)},reject:()=>{b(!1)}})}}return _.\u0275fac=function(u){return new(u||_)(e.LFG(C.YP),e.LFG(t.sK))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()}}]);